System.register("chunks:///_virtual/Adapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){"use strict";var e,i,o,s,n,r,l,a,p,c,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t.UITransform,n=t.Widget,r=t._decorator,l=t.Component,a=t.view,p=t.v3,c=t.sys},function(t){f=t.app}],execute:function(){var h,u,d,g,m,b,z;o._RF.push({},"ddf51qpAElBiaeLLbLH5kNS","Adapter",void 0);const{ccclass:S,property:y}=r;t("Adapter",(h=S("Adapter"),u=y({tooltip:"将背景图适配屏幕大小",visible:function(){return this.getComponent(s)}}),d=y({tooltip:"在安全区域内适配Widget",visible:function(){return this.getComponent(n)}}),h((b=e((m=class extends l{constructor(...t){super(...t),i(this,"fitSize",b,this),i(this,"safeWidget",z,this)}start(){if(this.fitSize){let t=this.getComponent(s);if(t){let e=a.getVisibleSize();if(e.width>e.height){let i=e.width/t.width*this.node.scale.x;i>1&&(this.node.scale=p(this.node.scale.x*i,this.node.scale.y*i))}else{let i=e.height/t.height*this.node.scale.y;i>1&&(this.node.scale=p(this.node.scale.x*i,this.node.scale.y*i))}}}if(this.safeWidget){let t=this.getComponent(n);if(!t)return;t.isAlignTop&&(c.platform==c.IPHONE?t.top+=.7*f.safeSize.top:t.top+=f.safeSize.top),t.isAlignBottom&&(c.platform==c.IPHONE?t.bottom+=.6*f.safeSize.bottom:t.bottom+=f.safeSize.bottom),t.isAlignLeft&&(t.left+=f.safeSize.left),t.isAlignRight&&(t.right+=f.safeSize.right),t.updateAlignment()}}}).prototype,"fitSize",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=e(m.prototype,"safeWidget",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/App.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./EventMgr.ts","./PoolMgr.ts","./StroageMgr.ts","./UIMgr.ts","./Platform.ts"],(function(e){"use strict";var t,i,n,o,a,r,s,g,l,u,h,p,c,f,d,m,y,I,v,b,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Enum,a=e._decorator,r=e.Component,s=e.sys,g=e.game,l=e.view},function(e){u=e.AudioKey,h=e.AudioMgr},function(e){p=e.EventKey,c=e.EventMgr},function(e){f=e.PoolKey,d=e.PoolMgr},function(e){m=e.StroageKey,y=e.StroageMgr},function(e){I=e.UIKey,v=e.UIMgr},function(e){b=e.EPlatform,S=e.Platform}],execute:function(){var A,w,z,P,K,M,E,L,N,C;n._RF.push({},"30fec63FU9N+5PtIGQSi1la","App",void 0);const{ccclass:_,property:x}=a,D=e("ELanguage",o({Auto:0,ChineseSimplified:1,ChineseTraditional:2,English:3}));let R=e("App",(A=_("App"),w=x({displayName:"语言",type:D}),z=x({displayName:"平台",type:b}),P=x({displayName:"版本"}),A(((C=class extends r{constructor(...e){super(...e),i(this,"languageId",E,this),i(this,"platformId",L,this),i(this,"version",N,this),this.getLanguage=()=>{let e="";return this.languageId==D.Auto?(e=U.stroage.getString(U.stroageKey.SysLanguage,s.languageCode),e.includes("-")&&("zh-cn"==e?e="zh":e.startsWith("zh-")?e="zh_ft":e.startsWith("en-")&&(e="en"))):this.languageId==D.ChineseSimplified?e="zh":this.languageId==D.ChineseTraditional?e="zh_ft":this.languageId==D.English&&(e="en"),e}}onLoad(){g.addPersistRootNode(this.node)}start(){U.stroage=new y,U.event=new c,U.pool=new d,U.audio=h.Inst,U.ui=v.Inst,U.config={platformName:b[this.platformId],version:this.version},U.lang=this.getLanguage(),U.platform=S.getPlatformInst(this.platformId),U.safeSize=this.getSafeArea(),console.log(`Platform = ${U.config.platformName} Version = ${U.config.version} Language = ${U.lang}`)}getSafeArea(){let e=l.getVisibleSize(),t={top:0,bottom:0,left:0,right:0,width:0,height:0},i=s.getSafeAreaRect();return t.top=e.height-i.height-i.y,t.bottom=i.y,t.left=i.x,t.right=e.width-i.width-i.x,t.width=i.width,t.height=i.height,t}}).stroageKey=m,C.audioKey=u,C.eventKey=p,C.poolKey=f,C.uiKey=I,E=t((M=C).prototype,"languageId",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.Auto}}),L=t(M.prototype,"platformId",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.Debug}}),N=t(M.prototype,"version",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1.0.0"}}),K=M))||K));const U=e("app",R);n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["cc","./App.ts"],(function(e){"use strict";var o,t,i,s,u,c,l,r,m,a;return{setters:[function(e){o=e.cclegacy,t=e.Component,i=e.AudioSource,s=e.resources,u=e.AudioClip,c=e.misc,l=e._decorator,r=e.Tween,m=e.tween},function(e){a=e.app}],execute:function(){var n;e("AudioKey",void 0),o._RF.push({},"de4cfWqcVFDwJ4d63FnRyfZ","AudioMgr",void 0);const{ccclass:h}=l;let d;!function(e){e.M_BGM1="sound/bgm1",e.M_BGM2="sound/bgm2",e.E_Click="sound/click",e.E_Bomb="sound/bomb"}(d||(d=e("AudioKey",{})));e("AudioMgr",h("AudioMgr")(n=class e extends t{constructor(...e){super(...e),this.mVolume=1,this.eVolume=1,this.playingEffect=[]}get isPlayingMusic(){return this.mAudioSource.playing}onLoad(){e.Inst=this,this.mAudioSource=this.addComponent(i),this.mAudioSource.loop=!0,this.mAudioSource.playOnAwake=!1,this.eAudioSource=this.addComponent(i),this.eAudioSource.loop=!1,this.eAudioSource.playOnAwake=!1}start(){this.mVolume=a.stroage.getNumber(a.stroageKey.MusicVolume,1),this.eVolume=a.stroage.getNumber(a.stroageKey.EffectVolume,1)}playMusic(e,o=1){let t=e=>{this.mAudioSource.volume=this.mVolume*o,this.mAudioSource.stop(),this.mAudioSource.clip=e,this.mAudioSource.play()};"string"==typeof e?s.load(e,u,((e,o)=>{e?console.log(e):t(o)})):t(e)}playEffect(e,o=1,t={}){const{loop:i,onStart:c,onFinished:l}=t;let a=e=>{this.eAudioSource.volume=this.eVolume,this.eAudioSource.playOneShot(e,o),this.playingEffect.push(e),c&&c(e),i||(r.stopAllByTarget(e),m(e).delay(e.getDuration()).call((()=>{l&&l(),this.stopEffect(e)})).start())};"string"==typeof e?s.load(e,u,((e,o)=>{e?console.log(e):a(o)})):a(e)}pauseMusic(e){e?this.mAudioSource.pause():this.mVolume&&this.mAudioSource.play()}stopMusic(){this.mAudioSource.stop()}stopEffect(e){if(e){let o=this.playingEffect.indexOf(e);o>-1&&this.playingEffect.splice(o,1)}else this.playingEffect.forEach((e=>{})),this.playingEffect=[]}setMusicVolume(e){e=c.clampf(e,0,1),this.mVolume=e,this.mAudioSource.volume=this.mVolume,a.stroage.setValue(a.stroageKey.MusicVolume,this.mVolume)}setEffectVolume(e){e=c.clampf(e,0,1),this.eVolume=e,this.eAudioSource.volume=this.eVolume,a.stroage.setValue(a.stroageKey.EffectVolume,this.eVolume)}})||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/BundleMgr.ts",["cc"],(function(e){"use strict";var n,l;return{setters:[function(e){n=e.cclegacy,l=e.assetManager}],execute:function(){let t;e("BundleKey",void 0),n._RF.push({},"92af2rznWdIXJQlMI1ASYx/","BundleMgr",void 0),function(e){e[e.bundle1=0]="bundle1",e[e.bundle2=1]="bundle2",e[e.count=2]="count"}(t||(t=e("BundleKey",{})));e("BundleMgr",class{constructor(){this.bundle=new Map,this.address=new Map}loadBundle(e,n){return new Promise(((u,o)=>{l.loadBundle(t[e],{onFileProgress:n},((n,l)=>{n?(console.log(n),o(n)):(this.bundle.set(e,l),u(l))}))}))}loadAllBundle(e){return new Promise(((n,u)=>{let o=[],s=[];for(let r=0;r<t.count;r++)l.loadBundle(t[r],{onFileProgress:(n,l)=>{if(e){o[r]=n/l;let u=0;for(let e=0;e<t.count;e++)u+=o[e]||0;e(u/t.count,1)}}},((e,l)=>{e?(console.log(e),u(e)):(s.push(l),this.bundle.set(r,l),s.length==t.count&&n(s))}))}))}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){"use strict";var o,i,e,n,l,s,a,r,u,p,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){e=t.cclegacy,n=t.AudioClip,l=t.PolygonCollider2D,s=t._decorator,a=t.Component,r=t.Button,u=t.Intersection2D,p=t.EventHandler},function(t){c=t.app}],execute:function(){var h,d,f,b,y,g,C,m,D,w,B;e._RF.push({},"321272UiglBhY0DZ2GyAqj1","ButtonHelper",void 0);const{ccclass:_,property:v}=s;t("ButtonHelper",(h=_("ButtonHelper"),d=v({displayName:"禁用默认音效",tooltip:"选中时，点击按钮不会播放默认音效"}),f=v({type:n,displayName:"音效",tooltip:"当音效不为null时，点击按钮播放指定的音效",visible:function(){return this.disableDefault}}),b=v({displayName:"冷却时间",tooltip:"点击按钮后，等待多长时间重新启用按钮，单位秒",min:0}),y=v({displayName:"多边形按钮",tooltip:"按钮是否是多边形按钮，当前节点上必须有PolygonCollider组件，且多边形应在节点矩形范围内",visible:function(){return this.getComponent(l)}}),h((m=o((C=class extends a{constructor(...t){super(...t),i(this,"disableDefault",m,this),i(this,"audioClip",D,this),i(this,"cooldown",w,this),i(this,"polygonButton",B,this)}onLoad(){this.button=this.getComponent(r);let t=this.getComponent(l);this.button?(this.button.disableDefault=this.disableDefault,this.node.on("click",this.onClick,this)):console.warn(`节点${this.node.name}上没有Button组件`),this.button&&this.polygonButton&&t&&(this.button._onTouchBegan=function(o){let i=this.node.convertToNodeSpaceAR(o.getLocation());this.interactable&&this.enabledInHierarchy&&(u.pointInPolygon(i,t.points)?(this._pressed=!0,this._updateState(),o.propagationStopped=!0,this.outOfPolygon=!1):this.outOfPolygon=!0)})}onEnable(){this.polygonButton}onClick(){this.disableDefault&&this.audioClip&&c.audio.playEffect(this.audioClip),this.cooldown>0&&!this.isCooldown&&(this.isCooldown=!0),this.scheduleOnce((()=>{this.isCooldown=!1}),this.cooldown)}static enableDefaultEffect(){r.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&(this._pressed&&(this.disableDefault||c.audio.playEffect(c.audioKey.E_Click),this.isCooldown||(p.emitEvents(this.clickEvents,t),this.node.emit("click",this))),this._pressed=!1,this._updateState(),this.outOfPolygon||(t.propagationStopped=!1))}}}).prototype,"disableDefault",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=o(C.prototype,"audioClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(C.prototype,"cooldown",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=o(C.prototype,"polygonButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=C))||g));e._RF.pop()}}}));

System.register("chunks:///_virtual/DataEntity.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"66229GL2l5N5ZN44CqOsjEl","DataEntity",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["cc","./Types.ts"],(function(t){"use strict";var s,e;return{setters:[function(t){s=t.cclegacy},function(t){e=t.Tables}],execute:function(){s._RF.push({},"68c1d3qxKlLSax2gT3kInXD","DataManager",void 0);t("default",class{static get Inst(){return this.inst||(this.inst=new this)}constructor(){this.Tables=null,this.datas=null}initData(t){this.datas=t,this.Tables=new e((t=>JSON.parse(this.datas.get(t))))}getGuideData(t){let s=[];for(const e in this.guides){let a=this.guides[e];a.GuideID==t&&s.push(a)}return s}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){let n;e("EventKey",void 0),t._RF.push({},"cef3f9ws3ZHd7HvMXvRw+oD","EventMgr",void 0),function(e){e[e.ShowUI=0]="ShowUI",e[e.HideUI=1]="HideUI",e[e.OnUIInitBegin=2]="OnUIInitBegin",e[e.OnUIShowBegin=3]="OnUIShowBegin",e[e.OnUIHideBegin=4]="OnUIHideBegin",e[e.OnUIShow=5]="OnUIShow",e[e.OnUIHide=6]="OnUIHide",e[e.Test3=1e4]="Test3"}(n||(n=e("EventKey",{})));e("EventMgr",class{constructor(){this.eventMap=new Map}on(e,t,n){let i=this.eventMap.get(e);i||(this.eventMap.set(e,[]),i=this.eventMap.get(e)),i.findIndex((e=>e.callback==t&&e.thisObj==n))<0&&i.push({callback:t,thisObj:n,once:!1})}once(e,t,n){let i=this.eventMap.get(e);i||(this.eventMap.set(e,[]),i=this.eventMap.get(e)),i.findIndex((e=>e.callback==t&&e.thisObj==n))<0&&i.push({callback:t,thisObj:n,once:!0})}off(e,t,n){let i=this.eventMap.get(e);if(i&&i.length>0)if(t){let e=i.findIndex((e=>e.callback==t&&e.thisObj==n));e>-1&&i.splice(e,1)}else this.eventMap.delete(e)}emit(e,...t){let n=this.eventMap.get(e);if(n&&n.length>0){let i=[];n.forEach(((e,n)=>{let{callback:s,thisObj:c,once:h}=e;"function"==typeof s&&s.call(c,...t),h&&i.push(n)})),i.length>0&&this.eventMap.set(e,n.filter(((e,t)=>i.indexOf(t)<0)))}}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["cc"],(function(t){"use strict";var e,s,a;return{setters:[function(t){e=t.cclegacy,s=t.sys,a=t.native}],execute:function(){let i;t("HotUpdateCode",void 0),e._RF.push({},"5e9a0c6JgNOF4mNQHfzII7G","HotUpdate",void 0),function(t){t[t.UpToDate=0]="UpToDate",t[t.ManifestError=1]="ManifestError",t[t.Success=2]="Success",t[t.Fail=3]="Fail"}(i||(i=t("HotUpdateCode",{})));class n{constructor(){this.TAG="[HotUpdate]",this.manifest=null,this.updating=!1,this.failCount=3}static get Inst(){return this.inst||(this.inst=new n)}start(t,e,i,n){if(!s.isNative)return void console.warn(this.TAG,"非原生环境");this.manifest=t,this.setTips=e,this.progress=i,this.complete=n;let o=(a.fileUtils?a.fileUtils.getWritablePath():"/")+"miles_remote_asset";console.log(this.TAG,"热更新资源存放路径："+o),this.setTips("Checking For Update"),this.assetsMgr=new a.AssetsManager("",o,this.versionCompareHandle.bind(this)),this.assetsMgr.setVerifyCallback(this.VerifyHandle.bind(this)),this.checkHotUpdate()}versionCompareHandle(t,e){console.log(this.TAG,"客户端版本: "+t+", 当前最新版本: "+e);let s=t.split("."),a=e.split(".");for(let t=0;t<s.length;++t){let e=parseInt(s[t]),i=parseInt(a[t]);if(e!==i)return e-i}return a.length>s.length?-1:0}VerifyHandle(t,e){let{compressed:s}=e;return!0}checkHotUpdate(){if(!this.updating){if(this.assetsMgr.getState()===a.AssetsManager.State.UNINITED){let t=this.manifest.nativeUrl;this.assetsMgr.loadLocalManifest(t)}if(!this.assetsMgr.getLocalManifest()||!this.assetsMgr.getLocalManifest().isLoaded())return console.log(this.TAG,"加载本地project.manifest文件失败"),void this.onUpdateComplete(i.ManifestError);this.assetsMgr.setEventCallback(this.hotUpdateCb.bind(this,0)),this.assetsMgr.checkUpdate()}}hotUpdate(){this.updating||(this.assetsMgr.setEventCallback(this.hotUpdateCb.bind(this,1)),this.assetsMgr.update(),this.updating=!0)}hotUpdateCb(t,e){switch(e.getEventCode()){case a.EventAssetsManager.UPDATE_PROGRESSION:1==t&&this.setTips("Downloading Updates"),console.log(this.TAG,`下载进度 ：${e.getDownloadedFiles()} / ${e.getTotalFiles()} `),this.progress(e.getDownloadedFiles(),e.getTotalFiles());break;case a.EventAssetsManager.NEW_VERSION_FOUND:console.log(this.TAG,"New Version Found"),0==t&&this.setTips("发现新版本，准备下载"),this.hotUpdate();break;case a.EventAssetsManager.ALREADY_UP_TO_DATE:0==t&&this.setTips("Already Up To Date"),console.log(this.TAG,"已经是最新版本"),this.onUpdateComplete(i.UpToDate);break;case a.EventAssetsManager.UPDATE_FINISHED:1==t&&this.setTips("Finished，Ready To Restart Game"),console.log(this.TAG,"更新完成",e.getMessage()),this.onUpdateComplete(i.Success);break;case a.EventAssetsManager.UPDATE_FAILED:1==t&&console.log(this.TAG,"更新失败",e.getMessage()),this.updating=!1,this.failCount--,this.failCount>=0?this.hotUpdate():this.onUpdateFail();break;case a.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case a.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case a.EventAssetsManager.ERROR_PARSE_MANIFEST:console.log(this.TAG,"manifest文件异常",e.getMessage()),this.onUpdateComplete(i.ManifestError);break;case a.EventAssetsManager.ERROR_UPDATING:case a.EventAssetsManager.ERROR_DECOMPRESS:console.warn(this.TAG,"更新出错",e.getEventCode(),e.getMessage()),this.onUpdateFail()}}onUpdateComplete(t){if(t==i.Success){let t=a.fileUtils.getSearchPaths(),e=this.assetsMgr.getLocalManifest().getSearchPaths();console.log(this.TAG,"搜索路径: "+JSON.stringify(e)),Array.prototype.unshift.apply(t,e),s.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(t)),a.fileUtils.setSearchPaths(t)}this.assetsMgr.setEventCallback(null),this.complete(t)}onUpdateFail(){this.assetsMgr.setEventCallback(null),this.complete(i.Fail)}}t("HotUpdate",n),e._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c010d4dvrNLcb2AeX1F7+od","HttpRequest",void 0);class s{constructor(){}static get inst(){return this._inst||(this._inst=new s),this._inst}async request(t,e,s,n,r=!0){return n||(n="http://www.tianqiapi.com/api"),new Promise(((r,o)=>{let i=new XMLHttpRequest;i.timeout=5e3,i.ontimeout=()=>{o("timeout")},i.onabort=()=>{o("user abort")},i.onerror=()=>{o("network error")},i.onreadystatechange=()=>{if(4==i.readyState&&i.status>=200&&i.status<400){var t=i.responseText;r(t)}},"GET"==t?(i.open("GET",n+e,!0),i.send()):"POST"==t&&(i.open("POST",n+e,!0),i.send(s))}))}}t("HttpRequest",s),e._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,r,s,a,l,o,u,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Font,s=t.Label,a=t.RichText,l=t.Sprite,o=t._decorator,u=t.Component},function(t){p=t.app},function(t){c=t.Utils}],execute:function(){var h,g,f,b,m,y,d,z,w,L,N,x,C,F,S,v,_,D,M,B,I,R,$,k,A,T,P,U,V,j;n._RF.push({},"725aemMAwRLi4pnv9px8VnM","Language",void 0);const{ccclass:E,property:H}=o;let O=(h=E("LanguageText"),g=H({displayName:"简体"}),f=H({displayName:"繁体"}),b=H({displayName:"英文"}),h((d=e((y=class{constructor(){i(this,"zh",d,this),i(this,"zh_ft",z,this),i(this,"english",w,this)}}).prototype,"zh",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=e(y.prototype,"zh_ft",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=e(y.prototype,"english",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=y))||m),q=(L=E("LanguageFont"),N=H({type:r,displayName:"简体"}),x=H({type:r,displayName:"繁体"}),C=H({type:r,displayName:"英文"}),L((v=e((S=class{constructor(){i(this,"zh",v,this),i(this,"zh_ft",_,this),i(this,"english",D,this)}}).prototype,"zh",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(S.prototype,"zh_ft",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(S.prototype,"english",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=S))||F);t("Language",(M=E("Language"),B=H({type:O,tooltip:"不同语言显示的内容",visible:function(){return this.getComponent(s)||this.getComponent(a)}}),I=H({tooltip:"不同语言使用不同的字体",visible:function(){return this.getComponent(s)||this.getComponent(a)}}),R=H({type:q,tooltip:"不同语言的字体配置",visible:function(){return this.useMultipleFont}}),$=H({tooltip:"图片名字",visible:function(){return this.getComponent(l)}}),M(((j=class t extends u{constructor(...t){super(...t),i(this,"text",T,this),i(this,"useMultipleFont",P,this),i(this,"font",U,this),i(this,"spriteName",V,this),this.args=null}onLoad(){this.updateContent(),t.list.push(this)}onDestroy(){let e=t.list.indexOf(this);e>-1&&t.list.splice(e,1)}setTextArgs(...t){this.args=t,this.updateContent()}updateContent(){let e=this.node._components;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n instanceof s||n instanceof a){this.useMultipleFont&&(n.font=this.font[p.lang]);let t=this.text[p.lang];this.args&&(t=c.formatString(t,...this.args)),n.string=t;break}if(n instanceof l){t.setSpriteFrameByName(n,this.spriteName);break}}}static init(t){this.dict=this.dict||t}static reload(){this.list.forEach((t=>{t.isValid&&t.updateContent()}))}static setStringByID(t,e,...i){t.string=this.getStringByID(e,...i)||t.string}static setSpriteFrameByName(t,e){c.loadSprite(t,`language/${p.lang}/${e}`)}static getStringByID(t,...e){return this.dict?this.dict[t]&&this.dict[t][p.lang]?c.formatString(this.dict[t][p.lang],...e):(console.warn(`ID=${t} Lang=${p.lang}  在语言表中无对应内容`),""):(console.warn("未初始化语言表"),"")}}).list=[],j.dict=null,T=e((A=j).prototype,"text",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(A.prototype,"useMultipleFont",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=e(A.prototype,"font",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(A.prototype,"spriteName",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=A))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./App.ts","./HotUpdate.ts","./Utils.ts"],(function(t){"use strict";var s,e,r,i,o,n,a,l,p,c,u,h,g,d,f,b,m;return{setters:[function(t){s=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,i=t.ProgressBar,o=t.Label,n=t.Asset,a=t._decorator,l=t.Component,p=t.UITransform,c=t.v3,u=t.tween,h=t.game},function(t){g=t.default},function(t){d=t.app},function(t){f=t.HotUpdate,b=t.HotUpdateCode},function(t){m=t.Utils}],execute:function(){var y,U,D,B,P,w,L,x,C,H,M,T,v;r._RF.push({},"a24d7H7t29OT4DUxUMNXWpr","Loading",void 0);const{ccclass:z,property:R}=a;t("Loading",(y=z("Loading"),U=R(i),D=R(o),B=R(o),P=R({tooltip:"原生平台是否要开启热更新"}),w=R({type:n,tooltip:"本地project.manifest文件",visible:function(){return this.hotUpdate}}),y((C=s((x=class extends l{constructor(...t){super(...t),e(this,"progressBar",C,this),e(this,"lblDesc",H,this),e(this,"lblProgress",M,this),e(this,"hotUpdate",T,this),e(this,"manifest",v,this)}start(){let t=this.getComponent(p);t&&(this.node.scale=c(1,1),t.priority=1e4),this.loadCfg()}loadCfg(){this.setTips("Loading Config"),this.loadRes()}checkVersion(){f.Inst.start(this.manifest,this.setTips.bind(this),this.onProgress.bind(this),this.complete.bind(this))}async loadRes(){this.setTips("Loading Game Data");let t=await m.loadDir("data",this.onProgress.bind(this)),s=new Map;for(const e of t){let t=e;t&&s.set(e.name,t.text)}g.Inst.initData(s);u({x:0}).to(1,{x:1},{progress:(t,s,e,r)=>{let i=t+(s-t)*r;return this.progressBar&&(this.progressBar.progress=i),this.lblProgress&&(this.lblProgress.string=Math.floor(100*i)+"%"),i}}).call((()=>{d.ui.show(d.uiKey.UIHUD).then((()=>{this.node.destroy()}))})).start()}setTips(t){this.lblDesc&&(this.lblDesc.string=t),this.progressBar&&(this.progressBar.progress=0)}onProgress(t,s){if(this.progressBar){let e=t/s;if(e=isNaN(e)?0:e,this.progressBar.progress>e)return;this.progressBar.progress=e,this.lblProgress&&(this.lblProgress.string=Math.round(100*e)+"%")}}complete(t){console.log("HotUpdate ResultCode = ",t),t==b.Success?h.restart():t==b.Fail?d.ui.tipMsg.showTipBox("版本更新失敗，請檢查網絡是否正常，重新嘗試更新!",1,(()=>{h.restart()})):this.loadRes()}}).prototype,"progressBar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=s(x.prototype,"lblDesc",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=s(x.prototype,"lblProgress",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=s(x.prototype,"hotUpdate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=s(x.prototype,"manifest",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=x))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./App.ts","./Adapter.ts","./ButtonHelper.ts","./Language.ts","./PageViewHelper.ts","./Switch.ts","./Togglehelper.ts","./AudioMgr.ts","./BundleMgr.ts","./EventMgr.ts","./PoolMgr.ts","./StroageMgr.ts","./UIMgr.ts","./HttpRequest.ts","./SocketConnect.ts","./Platform.ts","./WeChatMini.ts","./Loading.ts","./Shade.ts","./UIBase.ts","./UIGuide.ts","./UITipMsg.ts","./HotUpdate.ts","./Utils.ts","./DataEntity.ts","./DataManager.ts","./Types.ts","./UIA.ts","./UIAudioMgr.ts","./UIB.ts","./UIC.ts","./UIGuideTest1.ts","./UIGuideTest2.ts","./UIPopUp.ts","./UIUIMgr.ts","./UIHUD.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PageViewHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,s,o,u,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Node,s=e.PageView,o=e.Label,u=e._decorator,a=e.Component,l=e.misc}],execute:function(){var c,p,g,h,b,P,f,v,w;n._RF.push({},"530b71T0f5EvoyLoA8nZlfs","PageViewHelper",void 0);const{ccclass:m,property:N}=u;e("PageViewHelper",(c=m("PageViewHelper"),p=N({type:r,visible:function(){return this.getComponent(s)}}),g=N({type:r,visible:function(){return this.getComponent(s)}}),h=N({type:o,visible:function(){return this.getComponent(s)}}),c((f=t((P=class extends a{constructor(...e){super(...e),i(this,"btnPrevious",f,this),i(this,"btnNext",v,this),i(this,"pageNum",w,this),this.pageView=null}onLoad(){this.pageView=this.getComponent(s),this.btnPrevious&&this.btnPrevious.on("click",this.onClickPrevious,this),this.btnNext&&this.btnNext.on("click",this.onClickNext,this)}onClickPrevious(){this.turnPage(-1)}onClickNext(){this.turnPage(1)}turnPage(e){let t=this.pageView.getPages().length,i=this.pageView.getCurrentPageIndex();i+=e,i=l.clampf(i,0,t-1),this.pageView.scrollToPage(i,.3)}update(){if(!this.pageView)return;let e=this.pageView.getPages().length,t=this.pageView.getCurrentPageIndex();this.btnPrevious&&(this.btnPrevious.active=!(0==t)),this.btnNext&&(this.btnNext.active=!(t==e-1)),this.pageNum&&(this.pageNum.string=t+"/"+e)}}).prototype,"btnPrevious",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(P.prototype,"btnNext",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(P.prototype,"pageNum",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=P))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["cc","./WeChatMini.ts"],(function(t){"use strict";var e,n,o,r;return{setters:[function(t){e=t.cclegacy,n=t.Enum,o=t.sys},function(t){r=t.WeChatMini}],execute:function(){e._RF.push({},"607edpdHWNINp3/fGMHPVTl","Platform",void 0);const s=t("EPlatform",n({Debug:0,GooglePlay:1}));class a{showBanner(){}showRewardedVideo(t){}showInterstitial(){}reqInternalPay(t,e){}reportCustomEvent(t,e){}static getPlatformInst(t){return o.platform==o.ANDROID&&t==s.GooglePlay?new r:new a}}t("Platform",a),e._RF.pop()}}}));

System.register("chunks:///_virtual/PoolMgr.ts",["cc"],(function(e){"use strict";var t,o,s,n;return{setters:[function(e){t=e.cclegacy,o=e.NodePool,s=e.instantiate,n=e.Component}],execute:function(){let i;e("PoolKey",void 0),t._RF.push({},"d4f14szncdIP71HLdvj6rDr","PoolMgr",void 0),function(e){e[e.Miles=0]="Miles",e[e.Mou=1]="Mou"}(i||(i=e("PoolKey",{})));e("PoolMgr",class{constructor(){this.prefabs=new Map,this.pools=new Map}initPool(e,t,s){if(!this.pools.has(e)){let i=new o;this.prefabs.set(e,t),this.pools.set(e,i);let l=this.itemGen(i,t,s);return new Promise(((e,t)=>{let o=()=>{let t=Date.now();for(let s=l.next();;s=l.next()){if(!s||s.done){e();break}if("function"==typeof s.value&&s.value(),Date.now()-t>=3){(new n).scheduleOnce(o);break}}};o()}))}console.warn("请勿重复创建对象池!")}get(e){if(this.pools.has(e)){let t=this.pools.get(e);return t.size()>0?t.get():s(this.prefabs.get(e))}console.error("对象池不存在!")}put(e,t){if(this.pools.has(e)){let o=this.pools.get(e);t instanceof Array?t.forEach((e=>{o.put(e)})):o.put(t)}else console.error("对象池不存在!")}*itemGen(e,t,o){for(let n=0;n<o;n++){let o=()=>{e.put(s(t))};yield o}}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/Shade.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,r,a,o,c,s,n;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,a=t.UIOpacity,o=t.UITransform,c=t._decorator,s=t.Component,n=t.tween}],execute:function(){var p,u,l,h,y,d,f;r._RF.push({},"134bbT5c5hJT7SsZcldTZzZ","Shade",void 0);const{ccclass:b,property:m}=c;t("Shade",(p=b("Shade"),u=m(a),l=m(o),p((d=i((y=class extends s{constructor(...t){super(...t),e(this,"uiOpacity",d,this),e(this,"transform",f,this),this.opacity=0}onLoad(){this.opacity=this.uiOpacity.opacity}show(){n(this.uiOpacity).to(.15,{opacity:this.opacity}).start()}hide(){n(this.uiOpacity).to(.15,{opacity:0}).start()}}).prototype,"uiOpacity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=i(y.prototype,"transform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SocketConnect.ts",["cc","./App.ts"],(function(s){"use strict";var t,e,o,n;return{setters:[function(s){t=s.cclegacy,e=s.Component,o=s.macro},function(s){n=s.app}],execute:function(){t._RF.push({},"89bdent7UxIJb8jG/0I7P91","SocketConnect",void 0);s("SocketConnect",class extends e{constructor(s){super(),this.autoConnect=!1,this.tick=5,this.url=s}openSocket(){this.url&&(this.ws=new WebSocket(this.url),this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this),this.tick=5)}closeSocket(){this.autoConnect=!1,this.ws&&this.ws.close()}onOpen(){this.autoConnect=!0,this.schedule(this.starTick,1,o.REPEAT_FOREVER,1),console.log(this.url+": socket opened")}onMessage(s){this.tick=5,this.handlerMessage(s.data)}onError(){console.log(this.url+": socket fired an error")}onClose(s){this.autoConnect&&(this.openSocket(),console.log("auto connect")),this.unschedule(this.starTick),console.log(this.url+": socket closed ",s.reason)}starTick(){this.tick--,0==this.tick&&this.sendMessage(0,"active"),-6==this.tick&&(this.ws&&this.ws.close(),this.onClose({reason:"tick timeout"}))}handlerMessage(s){console.log(s);let t=JSON.parse(s),e=t.msgId,o=t.content;n.event.emit(e,o)}sendMessage(s,t){this.ws.send(JSON.stringify({msgId:s,content:t}))}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/StroageMgr.ts",["cc","./Utils.ts"],(function(e){"use strict";var t,r,s;return{setters:[function(e){t=e.cclegacy,r=e.sys},function(e){s=e.Utils}],execute:function(){let a;e("StroageKey",void 0),t._RF.push({},"92e1exmQ71Kn5tXk6cj1MbM","StroageMgr",void 0),function(e){e[e.SysLanguage=0]="SysLanguage",e[e.MusicVolume=1]="MusicVolume",e[e.EffectVolume=2]="EffectVolume",e[e.LastResetDate=3]="LastResetDate",e[e.Test1=4]="Test1"}(a||(a=e("StroageKey",{})));e("StroageMgr",class{constructor(){this.prefix="GameName_",s.getToday()>this.getNumber(a.LastResetDate,0)&&this.setValue(a.LastResetDate,s.getToday())}getNumber(e,t){return this.getValue("number",e,t)}getString(e,t){return this.getValue("string",e,t)}getBoolean(e,t){return this.getValue("boolean",e,t)}getObject(e,t){return this.getValue("object",e,t)}getValue(e,t,s){let o=this.prefix+a[t],u=r.localStorage.getItem(o);if(!u)return s;if("number"===e){let e=parseFloat(u);isNaN(e)?(console.error(o,": 转化为数字类型错误 ",u),u=s):u=e}else{if("string"===e)return u;if("boolean"===e)return"true"!==u;try{u=JSON.parse(u)}catch(e){console.error(o,": 转化对象类型错误 ",u),u=s}}return u}setValue(e,t){let s=this.prefix+a[e];"object"==typeof t&&(t=JSON.stringify(t)),r.localStorage.setItem(s,String(t))}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/Switch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,c,n,i,r;return{setters:[function(e){t=e.applyDecoratedDescriptor,c=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e._decorator,r=e.Component}],execute:function(){var o,s,u;n._RF.push({},"cfc76u4eBRKdJpZRNzQ9Cnh","Switch",void 0);const{ccclass:h,property:a}=i;e("Switch",h("Switch")((u=t((s=class extends r{constructor(...e){super(...e),c(this,"checkIndex",u,this)}onLoad(){this.updateContent()}updateContent(){this.node.children.forEach(((e,t)=>{e.active=this.checkIndex.indexOf(t)>-1}))}updateCheck(...e){this.checkIndex=e,this.scheduleOnce((()=>{this.updateContent()}))}}).prototype,"checkIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/Togglehelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,i,n,r,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Node,r=e.Toggle,l=e._decorator,s=e.Component}],execute:function(){var g,c,p,u,a;i._RF.push({},"61fd0QMN69IC51qqu+nTIj/","Togglehelper",void 0);const{ccclass:h,property:d}=l;e("Togglehelper",(g=h("Togglehelper"),c=d({type:n,displayName:"背景节点",tooltip:"选中时隐藏背景",visible:function(){return null!=this.getComponent(r)}}),g((a=t((u=class extends s{constructor(...e){super(...e),o(this,"bg",a,this)}onLoad(){this.bg&&(this.node.on("toggle",this.onToggle,this),this.onToggle(this.getComponent(r)))}onToggle(e){this.bg&&(this.bg.active=!e.isChecked)}}).prototype,"bg",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Types.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("test",void 0),e._RF.push({},"05f22hNeLVGi7+MsKPCDiiR","Types",void 0);class r{static deserializeFromJson(t){let e=t.x,i=t.y;if(null==e||null==i)throw new Error;return new r(e,i)}constructor(t=0,e=0){this.x=t,this.y=e}}t("Vector2",r);class i{static deserializeFromJson(t){let e=t.x,r=t.y,o=t.z;if(null==e||null==r||null==o)throw new Error;return new i(e,r,o)}constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r}}t("Vector3",i);class o{static deserializeFromJson(t){let e=t.x,r=t.y,i=t.z,s=t.w;if(null==e||null==r||null==i||null==s)throw new Error;return new o(e,r,i,s)}constructor(t=0,e=0,r=0,i=0){this.x=t,this.y=e,this.z=r,this.w=i}}let s;t("Vector4",o),function(t){let e;!function(t){t[t.A=1]="A",t[t.B=2]="B",t[t.C=3]="C",t[t.D=4]="D"}(e||(e={})),t.ETestQuality=e}(s||(s=t("test",{}))),function(t){let e;!function(t){t[t.WRITE=1]="WRITE",t[t.READ=2]="READ",t[t.TRUNCATE=4]="TRUNCATE",t[t.NEW=8]="NEW",t[t.READ_WRITE=3]="READ_WRITE"}(e||(e={})),t.AccessFlag=e}(s||(s=t("test",{})));class a{constructor(t){for(var e of(this._dataMap=new Map,this._dataList=[],t)){let t;t=new n(e),this._dataList.push(t),this._dataMap.set(t.id,t)}}getDataMap(){return this._dataMap}getDataList(){return this._dataList}get(t){return this._dataMap.get(t)}resolve(t){for(var e of this._dataList)e.resolve(t)}}t("TbDemoGroupDefineFromExcel",a);class n{constructor(t){if(void 0===t.id)throw new Error;if(this.id=t.id,void 0===t.name)throw new Error;if(this.name=t.name,void 0===t.desc)throw new Error;if(this.desc=t.desc,void 0===t.num)throw new Error;if(this.num=t.num,void 0===t.price)throw new Error;this.price=t.price}resolve(t){}}t("DemoGroup",n);class h{constructor(t){for(var e of(this._dataMap=new Map,this._dataList=[],t)){let t;t=new c(e),this._dataList.push(t),this._dataMap.set(t.id,t)}}getDataMap(){return this._dataMap}getDataList(){return this._dataList}get(t){return this._dataMap.get(t)}resolve(t){for(var e of this._dataList)e.resolve(t)}}t("TbDemoGroupDefineFromExcel1",h);class c{constructor(t){if(void 0===t.id)throw new Error;if(this.id=t.id,void 0===t.name)throw new Error;if(this.name=t.name,void 0===t.desc)throw new Error;if(this.desc=t.desc,void 0===t.num)throw new Error;if(this.num=t.num,void 0===t.price)throw new Error;if(this.price=t.price,void 0===t.price1)throw new Error;this.price1=t.price1}resolve(t){}}t("DemoGroup1",c);class l{constructor(t){for(var e of(this._dataMap=new Map,this._dataList=[],t)){let t;t=new u(e),this._dataList.push(t),this._dataMap.set(t.id,t)}}getDataMap(){return this._dataMap}getDataList(){return this._dataList}get(t){return this._dataMap.get(t)}resolve(t){for(var e of this._dataList)e.resolve(t)}}t("TbCityMap",l);class u{constructor(t){if(void 0===t.id)throw new Error;if(this.id=t.id,void 0===t.Plan_ID)throw new Error;if(this.PlanID=t.Plan_ID,void 0===t.LV)throw new Error;if(this.LV=t.LV,void 0===t.EFF)throw new Error;if(this.EFF=t.EFF,void 0===t.EFF_Num)throw new Error;if(this.EFFNum=t.EFF_Num,void 0===t.EFF_Des)throw new Error;if(this.EFFDes=t.EFF_Des,void 0===t.EFF_Des2)throw new Error;if(this.EFFDes2=t.EFF_Des2,void 0===t.NeedGirlNum)throw new Error;if(this.NeedGirlNum=t.NeedGirlNum,void 0===t.Unlock_Des)throw new Error;this.UnlockDes=t.Unlock_Des}resolve(t){}}t("CityMap",u);t("Tables",class{get TbDemoGroupDefineFromExcel(){return this._TbDemoGroupDefineFromExcel}get TbDemoGroupDefineFromExcel1(){return this._TbDemoGroupDefineFromExcel1}get TbCityMap(){return this._TbCityMap}constructor(t){let e=new Map;this._TbDemoGroupDefineFromExcel=new a(t("tbdemogroupdefinefromexcel")),e.set("TbDemoGroupDefineFromExcel",this._TbDemoGroupDefineFromExcel),this._TbDemoGroupDefineFromExcel1=new h(t("tbdemogroupdefinefromexcel1")),e.set("TbDemoGroupDefineFromExcel1",this._TbDemoGroupDefineFromExcel1),this._TbCityMap=new l(t("tbcitymap")),e.set("TbCityMap",this._TbCityMap),this._TbDemoGroupDefineFromExcel.resolve(e),this._TbDemoGroupDefineFromExcel1.resolve(e),this._TbCityMap.resolve(e)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIA.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./UIBase.ts"],(function(e){"use strict";var s,t,i,r,o,a,n;return{setters:[function(e){s=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,o=e._decorator},function(e){a=e.app},function(e){n=e.UIBase}],execute:function(){var c,u,l,p,h;i._RF.push({},"09da0V/qnJAR7VkSkPxFZ4a","UIA",void 0);const{ccclass:A,property:I}=o;e("UIA",(c=A("UIA"),u=I(r),c((h=s((p=class extends n{constructor(...e){super(...e),t(this,"label",h,this)}onShow(){this.label.string=`由${this.args}打开`}showUI(e,s){"A"==s?a.ui.show(a.uiKey.UIA,{args:"A"}):"B"==s?a.ui.show(a.uiKey.UIB,{args:"A"}):"C"==s&&a.ui.show(a.uiKey.UIC,{args:"A"})}}).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIAudioMgr.ts",["cc","./App.ts","./UIBase.ts"],(function(o){"use strict";var e,t,i,c;return{setters:[function(o){e=o.cclegacy,t=o._decorator},function(o){i=o.app},function(o){c=o.UIBase}],execute:function(){var s;e._RF.push({},"9be42LYOvlNf5v02xQ748s5","UIAudioMgr",void 0);const{ccclass:a,property:u}=t;o("UIAudioMgr",a("UIAudioMgr")(s=class extends c{constructor(...o){super(...o),this.effect1Clip=null}playMusic(o,e){"1"==e?i.audio.playMusic(i.audioKey.M_BGM1,.5):i.audio.playMusic(i.audioKey.M_BGM2)}playEffect(o,e){"1"==e?i.audio.playEffect(i.audioKey.E_Click,1,{loop:!1,onStart:o=>{console.log("onStart playEffect1",o)},onFinished:()=>{console.log("onFinished playEffect1")}}):i.audio.playEffect(i.audioKey.E_Bomb,1)}playEffect1Loop(o,e){i.audio.playEffect(i.audioKey.E_Click,1,{loop:!0,onStart:o=>{console.log("onStart playEffect1Loop",o),this.effect1Clip=o},onFinished:()=>{console.log("onFinished playEffect1Loop")}})}playOrPauseMusic(){i.audio.isPlayingMusic?i.audio.pauseMusic(!0):i.audio.pauseMusic(!1)}stopEffect1(){this.effect1Clip&&i.audio.stopEffect(this.effect1Clip)}stopEffect(){i.audio.stopEffect()}})||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./UIBase.ts"],(function(e){"use strict";var s,t,i,r,o,a,n;return{setters:[function(e){s=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,o=e._decorator},function(e){a=e.app},function(e){n=e.UIBase}],execute:function(){var c,u,l,p,B;i._RF.push({},"3d073BgMY5EWI/Qj7N/60RJ","UIB",void 0);const{ccclass:h,property:I}=o;e("UIB",(c=h("UIB"),u=I(r),c((B=s((p=class extends n{constructor(...e){super(...e),t(this,"label",B,this)}onShow(){this.label.string=`由${this.args}打开`}showUI(e,s){"A"==s?a.ui.show(a.uiKey.UIA,{args:"B"}):"B"==s?a.ui.show(a.uiKey.UIB,{args:"B"}):"C"==s&&a.ui.show(a.uiKey.UIC,{args:"B"})}}).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Utils.ts"],(function(t){"use strict";var i,e,n,o,s,a,l,r,c,h,p,u,m,b,d,f,I;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Enum,s=t.Button,a=t._decorator,l=t.Component,r=t.UITransform,c=t.view,h=t.BlockInputEvents,p=t.Animation,u=t.Node,m=t.__private,b=t.v3,d=t.tween},function(t){f=t.app},function(t){I=t.Utils}],execute:function(){var y,g,k,N,v,w,B,U,_,E,S,C,z,O,D;n._RF.push({},"6176bI3OxFJrYKhRsLvDIfV","UIBase",void 0);const{property:H,ccclass:P}=a,A=o({NONE:0,OPEN:1,CLOSE:2,BOTH:3});t("UIBase",(y=P("UIBase"),g=H({displayName:"销毁",tooltip:"UI关闭时是否销毁"}),k=H({displayName:"遮罩",tooltip:"是否在UI下层显示半透明遮罩"}),N=H({displayName:"是否弹窗",tooltip:"有时需要根据是否是弹窗还是全屏UI来判断是否执行UI动画"}),v=H({displayName:"阻塞输入事件",tooltip:"是否阻塞所有的输入事件向下层传递"}),w=H({type:A,displayName:"动画",tooltip:"是否启用UI打开和关闭动画"}),B=H({type:s,displayName:"关闭按钮",tooltip:"自动为按钮绑定UI关闭事件"}),y((E=i((_=class extends l{constructor(...t){super(...t),e(this,"destroyNode",E,this),e(this,"showShade",S,this),e(this,"popUp",C,this),e(this,"blockInputEvent",z,this),e(this,"action",O,this),e(this,"closeBtn",D,this),this.uiName=null,this.animation=null,this.args=null}init(t){this.uiName=t,this.transform=this.getComponent(r),this.transform.setContentSize(c.getVisibleSize()),this.initBlock(),this.closeBtn&&this.closeBtn.node.on("click",this.safeClose,this),this.blockInputEvent&&this.addComponent(h),this.animation=I.getComponentInChildren(this.node,p)}initBlock(){this.block=new u("block"),this.block.addComponent(r).setContentSize(this.transform.contentSize),this.block.addComponent(h),this.block.parent=this.node,this.block.active=!1,this.block.setSiblingIndex(2e4)}setArgs(t){this.args=t}setVisible(t){}showAction(){let t=Boolean(this.action&A.OPEN);return new Promise(((i,e)=>{let n=()=>{this.block.active=!1,i(!0)};if(t)if(this.block.active=!0,this.animation){let t=this.animation.clips[0];t?(this.animation.once(m.cocos_core_animation_animation_state_EventType.FINISHED,n),this.animation.play(t.name)):(console.warn(this.node.name,"无UI打开动画文件"),n())}else this.node.scale=b(.85,.85),d(this.node).to(.3,{scale:b(1,1)},{easing:"elasticOut"}).call(n).start();else n()}))}safeClose(){f.ui.hide(this.uiName)}hideAction(){let t=Boolean(this.action&A.CLOSE);return new Promise(((i,e)=>{let n=()=>{this.block.active=!1,i(!0)};if(t)if(this.block.active=!0,this.animation){let t=this.animation.clips[1];t?(this.animation.once(m.cocos_core_animation_animation_state_EventType.FINISHED,n),this.animation.play(t.name)):(console.warn(this.node.name,"无UI关闭动画文件"),n())}else d(this.node).to(.2,{scale:b(.5,.5)},{easing:"backIn"}).call(n).start();else n()}))}onShowBegin(){}onHideBegin(){}onShow(){}onHide(){}}).prototype,"destroyNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=i(_.prototype,"showShade",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=i(_.prototype,"popUp",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=i(_.prototype,"blockInputEvent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=i(_.prototype,"action",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.NONE}}),D=i(_.prototype,"closeBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=_))||U));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./UIBase.ts"],(function(e){"use strict";var t,s,i,r,o,a,n;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,o=e._decorator},function(e){a=e.app},function(e){n=e.UIBase}],execute:function(){var u,c,l,p,h;i._RF.push({},"007e7ilXPtFOJhjtuQMsE64","UIC",void 0);const{ccclass:I,property:U}=o;e("UIC",(u=I("UIC"),c=U(r),u((h=t((p=class extends n{constructor(...e){super(...e),s(this,"label",h,this)}onShow(){this.label.string=`由${this.args}打开`}showUI(e,t){"A"==t?a.ui.show(a.uiKey.UIA,{args:"C"}):"B"==t?a.ui.show(a.uiKey.UIB,{args:"C"}):"C"==t&&a.ui.show(a.uiKey.UIC,{args:"C"})}}).prototype,"label",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIMgr.ts","./App.ts"],(function(e){"use strict";var i,t,s,n,o,h,a,r,c,l,d,u,p,g,I,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.Node,o=e._decorator,h=e.UITransform,a=e.Rect,r=e.find,c=e.Tween,l=e.v3,d=e.tween,u=e.Label},function(e){p=e.UIBase},function(e){g=e.UIMgr,I=e.UIKey},function(e){f=e.app}],execute:function(){var w,T,m,v,b,S,k,D,U,N,G,F,y;s._RF.push({},"7f06be6f2RDo5qVapVwubZQ","UIGuide",void 0);const{ccclass:P,property:B}=o,C=[{ID:1,GuideID:1,UIName:"UIGuideTest1",NodePath:"step1",ShowBtnNode:!0,FingerDir:1,TipText:"",TipPos:[0,0],ClickScreen:!1},{ID:2,GuideID:1,UIName:"UIGuideTest1",NodePath:"step2",ShowBtnNode:!0,FingerDir:1,TipText:"",TipPos:[0,0],ClickScreen:!1},{ID:3,GuideID:1,UIName:"UIGuideTest1",NodePath:"step3",ShowBtnNode:!0,FingerDir:1,TipText:"",TipPos:[0,0],ClickScreen:!1},{ID:4,GuideID:1,UIName:"UIGuideTest1",NodePath:"step4",ShowBtnNode:!0,FingerDir:1,TipText:"",TipPos:[0,0],ClickScreen:!1},{ID:5,GuideID:1,UIName:"UIGuideTest2",NodePath:"step5",ShowBtnNode:!0,FingerDir:1,TipText:"",TipPos:[0,0],ClickScreen:!1}];e("UIGuide",(w=P("UIGuide"),T=B(n),m=B(n),v=B(n),b=B(n),S=B(n),w((U=i((D=class extends p{constructor(...e){super(...e),t(this,"mask",U,this),t(this,"shade",N,this),t(this,"btnScreen",G,this),t(this,"tip",F,this),t(this,"finger",y,this),this.wait=!1,this.guideId=0,this.guideData=[],this.cbFinish=null,this.stepFunc=null}onLoad(){this.hide(),this.shade.on(n.EventType.TOUCH_START,this.onShadeTouchStart,this),this.shade._eventProcessor.touchListener.swallowTouches=!1}hide(){this.node.active=!1,this.wait=!1,this.mask.active=!1,this.btnScreen.active=!1,this.tip.active=!1,this.finger.active=!1}guideOver(){this.guideId=0,this.cbFinish&&this.cbFinish(),this.cbFinish=null,this.stepFunc=null,this.hide()}onShadeTouchStart(e){let i=this.mask.getComponent(h).contentSize,t=e.touch.getLocation(),s=new a(this.mask.worldPosition.x-i.width/2,this.mask.worldPosition.y-i.height/2,i.width,i.height);console.log(s,this.mask.worldPosition,t),s.contains(t)||(e.propagationImmediateStopped=!0)}startGuide(e,i,t){0==this.guideId?(this.node.active=!0,this.guideId=e,this.guideData=C,this.guideData.length>0?(this.cbFinish=i,this.stepFunc=t,this.showGuideStep(0)):console.error(`引导${this.guideId}数据错误`)):console.warn("正在进引导: ",this.guideId," 想要开始引导: ",e)}bindGuideBtnEvent(e,i){let t=this.guideData[e],s=null;if("Function"==t.NodePath){var n;if(!((null==(n=this.stepFunc)?void 0:n.length)>0))return void console.error(`引导${this.guideId} 第${e}步 未传入stepFunc`);s=this.stepFunc.shift()(i)}else s=r(t.NodePath.trim(),i.node);s?this.showGuideBtn(s,e):console.error(`引导${this.guideId} 第${e}步 未找到指定node`)}showGuideBtn(e,i){let t=this.guideData[i];if(t.ShowBtnNode){this.mask.active=!0,c.stopAllByTarget(this.mask);let t=e.getComponent(h),s=this.mask.getComponent(h),n=this.transform.convertToNodeSpaceAR(t.convertToWorldSpaceAR(l(0,0)));c.stopAllByTarget(this.mask),c.stopAllByTarget(s),this.block.active=!0,d(this.mask).to(.25,{position:n}).call((()=>{this.block.active=!1})).start(),d(s).to(.25,{width:t.width,height:t.height}).start(),e.once("click",(()=>{this.onClickGuideBtn(i)}))}else this.mask.active=!1;this.showFinger(t.FingerDir,e)}onClickGuideBtn(e){this.finger.active=!1,e<this.guideData.length&&(e==this.guideData.length-1?this.guideOver():this.showGuideStep(e+1))}showGuideStep(e){let i=this.guideData[e];if(!i)return void console.error(`引导${this.guideId} 第${e}步 数据错误`);let t=t=>{i.UIName&&i.NodePath?this.bindGuideBtnEvent(e,t):this.finger.active=!1,i.ClickScreen&&(this.btnScreen.active=!0,this.btnScreen.once("click",(()=>{this.btnScreen.active=!1,e<this.guideData.length&&(e==this.guideData.length-1?this.guideOver():this.showGuideStep(e+1))}))),this.showTip(i.TipText,i.TipPos)};if(g.Inst.isTopUI(I[i.UIName])){let e=g.Inst.getUI(I[i.UIName]);e&&this.scheduleOnce((()=>{t(e)}))}else{let e=()=>{f.event.once(f.eventKey.OnUIShow,(s=>{s.uiName==I[i.UIName]&&(this.wait?e():this.scheduleOnce((()=>{t(s)})))}))};e()}}showFinger(e,i){if(0==e)this.finger.active=!1;else{this.finger.active=!0;let t=i.getComponent(h),s=this.transform.convertToNodeSpaceAR(t.convertToWorldSpaceAR(l(0,0)));switch(e){case 1:this.finger.angle=180,this.finger.position=l(s.x,s.y-t.height/2);break;case 2:this.finger.angle=0,this.finger.position=l(s.x,s.y+t.height/2);break;case 3:this.finger.angle=90,this.finger.position=l(s.x+t.width/2,s.y);break;case 4:this.finger.angle=-90,this.finger.position=l(s.x-t.width/2,s.y);break;default:console.error("finger dir错误")}}}showTip(e,i){if(""==e)this.tip.active=!1;else{this.tip.active=!0,this.tip.position=l(i[0],i[1]),this.tip.getComponentInChildren(u).string=e}}}).prototype,"mask",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(D.prototype,"shade",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(D.prototype,"btnScreen",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(D.prototype,"tip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(D.prototype,"finger",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIGuideTest1.ts",["cc","./App.ts","./UIBase.ts"],(function(e){"use strict";var s,t,i,u;return{setters:[function(e){s=e.cclegacy,t=e._decorator},function(e){i=e.app},function(e){u=e.UIBase}],execute:function(){var c;s._RF.push({},"1969c3qMyRBgIOcLgE9YCjT","UIGuideTest1",void 0);const{ccclass:n,property:o}=t;e("UIGuideTest1",n("UIGuideTest1")(c=class extends u{onShow(){this.scheduleOnce((()=>{i.ui.guide.startGuide(1,(()=>{i.ui.tipMsg.showTips("引导结束")}))}))}openUIGuideTest2(){i.ui.show(i.uiKey.UIGuideTest2)}})||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/UIGuideTest2.ts",["cc","./UIBase.ts"],(function(e){"use strict";var t,s,c;return{setters:[function(e){t=e.cclegacy,s=e._decorator},function(e){c=e.UIBase}],execute:function(){var u;t._RF.push({},"60ee8IvDQhJU636rDtbqNVu","UIGuideTest2",void 0);const{ccclass:r,property:i}=s;e("UIGuideTest2",r("UIGuideTest2")(u=class extends c{})||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIHUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./UIBase.ts"],(function(e){"use strict";var i,t,r,o,s,u,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,o=e.Sprite,s=e._decorator},function(e){u=e.app},function(e){c=e.UIBase}],execute:function(){var n,l,p,a,U;r._RF.push({},"82d3d8YgSpOiJe+175NRxyV","UIHUD",void 0);const{ccclass:d,property:g}=s;e("UIHUD",(n=d("UIHUD"),l=g(o),n((U=i((a=class extends c{constructor(...e){super(...e),t(this,"bg1",U,this)}onLoad(){}onClickAudioMgr(){u.ui.show(u.uiKey.UIAudioMgr)}onClickUIMgr(){u.ui.show(u.uiKey.UIUIMgr)}onClickGuide(){u.ui.show(u.uiKey.UIGuideTest1)}}).prototype,"bg1",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=a))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Shade.ts","./UIBase.ts"],(function(t){"use strict";var i,e,n,s,o,a,h,r,u,d,l,c,I;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,o=t._decorator,a=t.Component,h=t.resources,r=t.Prefab,u=t.instantiate,d=t.v3},function(t){l=t.app},function(t){c=t.Shade},function(t){I=t.UIBase}],execute:function(){var U,g,p,S,b,f,v;t("UIKey",void 0),n._RF.push({},"f1abbZmryBJcaDya1aHXf2N","UIMgr",void 0);const{ccclass:y,property:w}=o;let m;t("UIMgr",(U=y("UIMgr"),g=w(s),p=w(s),U((f=i((b=class t extends a{constructor(...t){super(...t),e(this,"normal",f,this),e(this,"higher",v,this),this.uiDict={},this.uiStack=[],this.cooldown=!1}get topUI(){return this.uiStack[this.uiStack.length-1]}get botUI(){return this.uiStack[0]}onLoad(){t.Inst=this,this.init()}async init(){let t=await this.instNode(m.Shade);this.shade=t.getComponent(c),this.shade.node.parent=this.normal,this.guide=await this.initUI(m.UIGuide),this.guide.node.parent=this.higher,this.tipMsg=await this.initUI(m.UITipMsg),this.tipMsg.node.parent=this.higher}async show(t,i){if(this.cooldown&&(null==i||!i.preload))return null;null!=i&&i.preload||(this.cooldown=!0),l.event.emit(l.eventKey.OnUIInitBegin,t);let e=await this.initUI(t);var n,s;(e.setArgs(null==i?void 0:i.args),null!=i&&i.preload)?(e.setVisible(!1),e.node.setSiblingIndex((null==(n=this.botUI)?void 0:n.node.getSiblingIndex())<0?this.botUI.node.getSiblingIndex()-2:-10),e.node.parent=this.normal,this.uiStack.unshift(e)):(e.setVisible(!0),e.node.setSiblingIndex((null==(s=this.topUI)?void 0:s.node.getSiblingIndex())>0?this.topUI.node.getSiblingIndex()+2:10),e.node.parent=this.normal,this.uiStack.push(e),this.setShade(),e.onShowBegin(),l.event.emit(l.eventKey.OnUIShowBegin,e),await e.showAction(),e.onShow(),this.cooldown=!1,l.event.emit(l.eventKey.OnUIShow,e));return e}async hide(t){let i=this.uiDict[t],e=this.uiStack.indexOf(i);-1!=e&&(this.uiStack.splice(e,1),this.setShade(),e==this.uiStack.length&&(i.onHideBegin(),l.event.emit(l.eventKey.OnUIHideBegin,i),await i.hideAction(),i.onHide(),l.event.emit(l.eventKey.OnUIHide,i)),i.destroyNode?(i.node.destroy(),delete this.uiDict[t]):i.node.parent=null)}async initUI(t){var i;let e=this.uiDict[t];if(null!=(i=e)&&i.isValid){let t=this.uiStack.indexOf(e);t>-1&&this.uiStack.splice(t,1)}else{e=(await this.instNode(t)).getComponent(I),e.init(t),this.uiDict[t]=e}return e.node.active=!0,e}async instNode(t){return new Promise(((i,e)=>{h.load(t,r,((n,s)=>{if(n)console.error(t,n),e();else{let t=u(s);t.position=d(0,0),i(t)}}))}))}isTopUI(t){return this.topUI==this.uiDict[t]}getUI(t){let i=this.uiDict[t];if(i&&i.isValid)return i}setShade(){for(let t=this.uiStack.length-1;t>=0;t--){let i=this.uiStack[t];if(null!=i&&i.showShade)return this.shade.node.setSiblingIndex(i.node.getSiblingIndex()-1),void this.shade.show()}this.shade.hide()}}).prototype,"normal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(b.prototype,"higher",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=b))||S));!function(t){t.Shade="ui/Shade",t.UIGuide="ui/UIGuide",t.UITipMsg="ui/UITipMsg",t.UIHUD="ui/UIHUD",t.UIAudioMgr="testui/UIAudioMgr",t.UIUIMgr="testui/UIUIMgr",t.UIPopUp="testui/UIPopUp",t.UIA="testui/UIA",t.UIB="testui/UIB",t.UIC="testui/UIC",t.UIGuideTest1="testui/UIGuideTest1",t.UIGuideTest2="testui/UIGuideTest2"}(m||(m=t("UIKey",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopUp.ts",["cc","./UIBase.ts"],(function(c){"use strict";var t,e,s;return{setters:[function(c){t=c.cclegacy,e=c._decorator},function(c){s=c.UIBase}],execute:function(){var o;t._RF.push({},"7e72cS7KPpC2L0PR3Ryyv/y","UIPopUp",void 0);const{ccclass:p,property:r}=e;c("UIPopUp",p("UIPopUp")(o=class extends s{})||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/UITipMsg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(i){"use strict";var t,e,o,n,s,p,l,r,h,a,c,u,C,g,b;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){o=i.cclegacy,n=i.Node,s=i.Label,p=i.Button,l=i._decorator,r=i.UIOpacity,h=i.UITransform,a=i.NodePool,c=i.instantiate,u=i.Tween,C=i.tween,g=i.v3},function(i){b=i.UIBase}],execute:function(){var m,f,y,d,T,M,v,G,I,w,B,_,x,U,z,P,O;o._RF.push({},"13444Dmz9lOt5WM3IyatnSJ","UITipMsg",void 0);const{ccclass:D,property:k}=l;i("UITipMsg",(m=D("UITipMsg"),f=k(n),y=k(s),d=k(n),T=k(n),M=k(s),v=k(p),G=k(p),m((B=t((w=class extends b{constructor(...i){super(...i),e(this,"singleTip",B,this),e(this,"singleTipContent",_,this),e(this,"tipGroup",x,this),e(this,"tipBox",U,this),e(this,"tipBoxContent",z,this),e(this,"btnConfirm",P,this),e(this,"btnCancel",O,this),this.cbConfirm=void 0,this.cbCancel=void 0}onLoad(){this.singleTip.active=!0,this.singleTip.getComponent(r).opacity=0,this.tipGroupTransform=this.tipGroup.getComponent(h),this.tipGroup.active=!0,this.tipItem=this.tipGroup.children[0],this.tipPool=new a;for(let i=0,t=10;i<t;i++){let i=c(this.tipItem);i.Miles_Content=i.getComponentInChildren(s),i.Miles_UIOpacity=i.getComponent(r),this.tipPool.put(i)}this.tipGroup.removeAllChildren(),this.tipBox.active=!1}showTip(i){let t=this.singleTip.getComponent(r);this.singleTipContent.string=i,u.stopAllByTarget(t),t.opacity=255,C(t).delay(1.2).to(.2,{opacity:0}).start()}showTips(i){let t=this.tipPool.get();t||(t=c(this.tipItem),t.Miles_Content=t.getComponentInChildren(s),t.Miles_UIOpacity=t.getComponent(r)),t.Miles_Content.string=i,t.Miles_UIOpacity.opacity=255,t.Miles_Move=!0,t.position=g(0,0),t.parent=this.tipGroup;let e=this.tipGroup.children.length;if(e>1&&this.tipGroup.children[e-2].position.y<45){let i=45-this.tipGroup.children[e-2].position.y;for(let t=e-2;t>=0;t--){let e=this.tipGroup.children[t].position.y+i;this.tipGroup.children[t].position=g(0,e<=this.tipGroupTransform.height?e:this.tipGroupTransform.height)}}}update(i){for(let t=0,e=this.tipGroup.children.length;t<e;t++){let e=this.tipGroup.children[t];e.Miles_Move&&(e.position=g(0,e.position.y+200*i),e.position.y>=this.tipGroupTransform.height&&(e.Miles_Move=!1,C(e.Miles_UIOpacity).to(.2,{opacity:0}).call((()=>{this.tipPool.put(e)})).start()))}}showTipBox(i,t=2,e,o){this.tipBox.active=!0,this.tipBoxContent.string=i,this.btnConfirm.node.once("click",this.Confirm,this),this.btnCancel.node.once("click",this.Cancel,this),this.btnCancel.node.active=2==t,this.cbConfirm=e,this.cbCancel=o}Confirm(){this.cbConfirm&&this.cbConfirm(),this.tipBox.active=!1,this.showTips("Confirm")}Cancel(){this.cbCancel&&this.cbCancel(),this.tipBox.active=!1,this.showTips("Cancel")}}).prototype,"singleTip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(w.prototype,"singleTipContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(w.prototype,"tipGroup",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(w.prototype,"tipBox",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(w.prototype,"tipBoxContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(w.prototype,"btnConfirm",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(w.prototype,"btnCancel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=w))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIUIMgr.ts",["cc","./App.ts","./UIBase.ts"],(function(s){"use strict";var i,o,p,t;return{setters:[function(s){i=s.cclegacy,o=s._decorator},function(s){p=s.app},function(s){t=s.UIBase}],execute:function(){var e;i._RF.push({},"735871AzQhLgaC2BXcpQbTB","UIUIMgr",void 0);const{ccclass:r,property:u}=o;s("UIUIMgr",r("UIUIMgr")(e=class extends t{showSingleTip(){p.ui.tipMsg.showTip("SingleTip")}showTips(){p.ui.tipMsg.showTips("Tips")}showTipBox(){p.ui.tipMsg.showTipBox("I'm a TipBox")}onClickShowPopUp(){p.ui.show(p.uiKey.UIPopUp)}showUI(s,i){"A"==i?p.ui.show(p.uiKey.UIA,{args:"UIMgr"}):"B"==i?p.ui.show(p.uiKey.UIB,{args:"UIMgr"}):"C"==i&&p.ui.show(p.uiKey.UIC,{args:"UIMgr"})}})||e);i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(e){"use strict";var t,r,s,o,n,a;return{setters:[function(e){t=e.cclegacy,r=e.assetManager,s=e.resources,o=e.SpriteFrame,n=e.sys,a=e.ImageAsset}],execute:function(){t._RF.push({},"b91acHDNQJNeKe/WkGfs/Ip","Utils",void 0);class l{static loadSprite(e,t){return new Promise(((n,l)=>{let i=(t,r)=>{if(t)console.error(t),l();else{if(r instanceof a){let t=new o;t.texture=r._texture,e.spriteFrame=t}else e.spriteFrame=r;n()}};t.startsWith("http")||t.startsWith("/")?r.loadRemote(t,{ext:t.substring(t.lastIndexOf("."))},i):s.load(t+"/spriteFrame",o,i)}))}static getComponentInChildren(e,t){for(let r=0;r<e.children.length;r++){let s=e.children[r].getComponent(t);if(s)return s}return null}static getToday(){let e=e=>e<10?"0"+e:""+e,t=new Date,r=t.getFullYear()+e(t.getMonth()+1)+e(t.getDate());return parseInt(r)}static deltaDay(e,t){let r=e.toString(),s=t.toString();if(8==r.length&&8==s.length){let e=new Date(r.substr(4,2)+"/"+r.substr(6,2)+"/"+r.substr(0,4)),t=new Date(s.substr(4,2)+"/"+s.substr(6,2)+"/"+s.substr(0,4)),o=Math.abs(e.getTime()-t.getTime())/864e5;return Math.floor(o)}return console.error("日期格式不正确"),-1}static formatTimeMS(e,t,r=":"){let s="",o=e=>e<10?"0"+e:e,n=new Date,a=n.getTimezoneOffset();n.setTime(e+60*a*1e3);let l=n.getDate()-1,i=n.getHours()+24*l,d=n.getMinutes(),u=n.getSeconds();return 1==t?s=`${o(i)}${r}${o(d)}${r}${o(u)}`:2==t?s=`${o(i)}时${o(d)}分${o(u)}秒`:3==t?(s=i>0?`${o(i)}${r}`:"",s+=`${o(d)}${r}${o(u)}`):4==t&&(s=i>0?`${o(i)}时`:"",s+=`${o(d)}分${o(u)}秒`),s}static randomNum(e,t,r=!0){let s=t-e,o=Math.random()*s+e;return r&&(o=Math.round(o)),o}static formatString(e,...t){return t.forEach(((t,r)=>{e=e.replace(`{${r}}`,t)})),e}static load(e,t,r){return new Promise(((o,n)=>{s.load(e,t,r,((e,t)=>{e?n(e):o(t)}))}))}static loadArray(e,t,r){return new Promise(((o,n)=>{s.load(e,t,r,((e,t)=>{e?n(e):o(t)}))}))}static loadRemote(e){let t=e.substring(e.lastIndexOf("."));return new Promise(((s,o)=>{r.loadRemote(e,{ext:t},((e,t)=>{e?o(e):s(t)}))}))}static loadDir(e,t){return new Promise(((r,o)=>{s.loadDir(e,t,((e,t)=>{e?o(e):r(t)}))}))}static download(e,t){let s=e.substr(e.lastIndexOf("."));var o;(this.downloadProgress.get(e)||this.downloadProgress.set(e,[]),t)&&(null==(o=this.downloadProgress.get(e))||o.push(t));return new Promise(((t,o)=>{n.isBrowser&&t(e),r.downloader.download(e,e,s,{onFileProgress:(t,r)=>{this.downloadProgress.get(e).forEach((e=>e(t,r)))}},((r,s)=>{this.downloadProgress.delete(e),r?(console.log("download fail",null==r?void 0:r.message),o(r)):t(s)}))}))}}e("Utils",l),l.downloadProgress=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/WeChatMini.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0adb7m4xBxJmphmHGwJ6Jjp","WeChatMini",void 0);e("WeChatMini",class{constructor(){this.systemInfo=null,this.launchInfo=null,this.shareTitle="默认分享标题",this.shareImageUrl="默认分享图片地址",this.shareTime=0,this.shareSuss=null,this.shareFail=null,this.shareComplete=null,this.bannerCache={},this.interstitial=null}login(e){}authorize(e){}async shareAppMessage(e){}shareResult(){}getImageUrlFromCanvasCenter(){}getImageUrlByCamera(e){}showShareMenu(e){}showBanner(e){}hideAllBanner(){}showInterstitial(){}showRewardedVideo(e){}reqInternalPay(){}reportCustomEvent(){}compareVersion(e){let t=this.systemInfo.SDKVersion,s=/\d+.\d+.\d+/;if(!s.test(e)||!s.test(t))return console.warn("SDKVersion取值异常"),!1;let r=t.split("."),n=e.split(".");for(let e=0;e<3;e++){let t=parseInt(r[e]),s=parseInt(n[e]);if(t>s)return!0;if(t<s)return!1}return!0}checkUpdate(){}vibrate(e=!1){
//!long || wx.vibrateShort();
}}),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});