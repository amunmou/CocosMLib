System.register("chunks:///_virtual/App.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Publish.ts","./PoolMgr.ts","./StroageMgr.ts","./AudioMgr.ts","./EventMgr.ts","./L10nMgr.ts","./MLogger.ts","./UIMgr.ts","./SingletonFactory.ts"],(function(e){var n,i,t,a,o,r,s,l,g,u,c,h,p,d,f,m,y,C,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){t=e.cclegacy,a=e.Enum,o=e._decorator,r=e.Component,s=e.director,l=e.js,g=e.sys},function(e){u=e.EChannel,c=e.Publish},function(e){h=e.PoolMgr},function(e){p=e.StroageMgr},function(e){d=e.AudioMgr},function(e){f=e.EventMgr},function(e){m=e.L10nMgr},function(e){y=e.MLogger},function(e){C=e.UIMgr},function(e){b=e.SingletonFactory}],execute:function(){var I,M,v,L,S,N,T,U,x,E,z,P,w,A,D,R;t._RF.push({},"30fec63FU9N+5PtIGQSi1la","App",void 0);const{ccclass:$,property:V}=o,F=a({Auto:0,SimplifiedChinese:1,TraditionalChinese:2,English:3});var j=function(e){return e.ChineseSimplified="sc",e.ChineseTraditional="tc",e.English="en",e}(j||{});const _=e("EGameConfigType",a({Local:0,Remote:1}));let G=e("App",(I=$("App"),M=V({displayName:"语言",type:F}),v=V({displayName:"配置",type:_,tooltip:"配置类型 Local:使用本地配置 Remote:使用远程配置  PreferRemote:优先使用远程配置,若拉取失败使用本地配置"}),L=V({displayName:"渠道",type:u}),S=V({displayName:"版本",tooltip:"整包使用3位版本号(x.x.x),补丁包使用4位版本号(x.x.x.x)\n与远程资源相关的都只会使用前3位版本号"}),N=V({displayName:"CDN",tooltip:"项目的CDN地址"}),T=V({displayName:"热更",tooltip:"开启热更需要再resources中放入本地project.manifest清单文件"}),I(((R=class e extends r{constructor(...e){super(...e),i(this,"languageId",E,this),i(this,"gameConfigType",z,this),i(this,"channelId",P,this),this.channelEnum=u,i(this,"version",w,this),i(this,"cdnUrl",A,this),i(this,"hotupdate",D,this)}onLoad(){e.Inst=this,s.addPersistRootNode(this.node),e.config={projectName:"HeroFactory",gameConfigType:this.gameConfigType,gameConfigUrl:`${this.cdnUrl}/Channel/${u[this.channelId]}/${this.getMainVersion()}/GameConfig.txt`,remoteResUrl:`${this.cdnUrl}/Resources`,hotupdate:this.hotupdate,channel:u[this.channelId],version:this.version,mainVersion:this.getMainVersion()},e.lang=this.getLanguage(),e.chan=c.getChannelInstance(this.channelId),y.print(`Channel=${e.config.channel}|${l.getClassName(e.chan)} Version=${e.config.version} Language=${e.lang}`)}start(){e.audio=d.Default,e.ui=C.Inst}onDestroy(){}getLanguage(){let e=j.ChineseSimplified;if(this.languageId==F.Auto){let n=p.getValue(p.UserLanguageCodeKey,"");e=n||("zh"==g.languageCode?j.ChineseSimplified:g.languageCode.startsWith("zh")?j.ChineseTraditional:j.English)}else e=this.languageId==F.SimplifiedChinese?j.ChineseSimplified:this.languageId==F.TraditionalChinese?j.ChineseTraditional:j.English;return e}static switchLanguage(n){e.lang!=n&&(e.lang=n,p.setValue(p.UserLanguageCodeKey,e.lang),e.l10n.switchLanguage())}getMainVersion(){let e=this.version.split(".");return 4==e.length?e.slice(0,3).join("."):this.version}static getSingleInst(e){return b.getInstance(e)}}).stroage=p,R.event=f,R.pool=h,R.l10n=m,E=n((x=R).prototype,"languageId",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.SimplifiedChinese}}),z=n(x.prototype,"gameConfigType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.Local}}),P=n(x.prototype,"channelId",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Dev}}),w=n(x.prototype,"version",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1.0.0"}}),A=n(x.prototype,"cdnUrl",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=n(x.prototype,"hotupdate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=x))||U));globalThis.app=G,t._RF.pop()}}}));

System.register("chunks:///_virtual/AspectFitter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,s,o,a,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Enum,s=t.Sprite,o=t._decorator,a=t.Component,p=t.UITransform,h=t.Vec3}],execute:function(){var l,c,m,u,g,d,f,y,F,b;n._RF.push({},"4c055FPZj9AkZ/7malCSDlt","AspectFitter",void 0);const{ccclass:P,property:w,requireComponent:C}=o,I=r({FitInParent:0,EnvelopeParent:1}),_=r({None:0,Center:1,Top:2,Bottom:3,Left:4,Right:5});t("AspectFitter",(l=P("AspectFitter"),c=C(s),m=w({type:I,tooltip:"FitInParent:在父节点范围内显示全部 EnvelopeParent:填满父节点范围",displayName:"适配模式"}),u=w({type:_,tooltip:"None:保持原位置 Center:居中 Top|Bottom|Left|Right:与对应边界对齐",displayName:"对齐方式"}),g=w({displayName:"对齐强度",tooltip:"向上下左右对齐时,1表示该方向完全对齐边界,0表示该方向在中心位置",range:[0,1],visible:function(){return this.alignment!=_.None&&this.alignment!=_.Center}}),l(d=c((y=e((f=class extends a{constructor(...t){super(...t),i(this,"aspectMode",y,this),i(this,"alignment",F,this),i(this,"alignmentIntensity",b,this)}onLoad(){if(this.sp=this.getComponent(s),!this.sp)return;this.sp.sizeMode=s.SizeMode.RAW;let t=this;Object.defineProperty(this.sp,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){if(this._spriteFrame===e)return;const i=this._spriteFrame;this._spriteFrame=e,this.markForUpdateRenderData(),this._applySpriteFrame(i),t.refresh()}})}start(){this.refresh()}refresh(){let t=this.node.parent.getComponent(p),e=this.sp.spriteFrame,i=e.width,n=e.height,r=t.width/i,s=t.height/n,o=1;if(o=this.aspectMode==I.FitInParent?Math.min(r,s):Math.max(r,s),this.node.setScale(new h(o,o,1)),this.alignment!=_.None)if(this.alignment==_.Center)this.node.setPosition(new h(0,0,0));else{var a=this.node.position.x,l=this.node.position.x;let e=(i*o-t.contentSize.width)/2*this.alignmentIntensity,r=(n*o-t.contentSize.height)/2*this.alignmentIntensity;this.alignment==_.Top?l-=r:this.alignment==_.Bottom?l+=r:this.alignment==_.Left?a+=e:this.alignment==_.Right&&(a-=e),this.node.position=new h(a,l,0)}}}).prototype,"aspectMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.FitInParent}}),F=e(f.prototype,"alignment",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.None}}),b=e(f.prototype,"alignmentIntensity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=f))||d)||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/AssetCache.ts",["cc","./SingletonFactory.ts"],(function(t){var c,e;return{setters:[function(t){c=t.cclegacy},function(t){e=t.SingletonFactory}],execute:function(){c._RF.push({},"93829CcA1hCP4/iihFTX4KH","AssetCache",void 0);class s{constructor(){this.cache=new Map}static get Inst(){return e.getInstance(s)}}t("AssetCache",s),c._RF.pop()}}}));

System.register("chunks:///_virtual/AssetHandler.ts",["cc","./AssetMgr.ts"],(function(e){var t,s,a,i;return{setters:[function(e){t=e.cclegacy,s=e.Node,a=e.SpriteFrame},function(e){i=e.AssetMgr}],execute:function(){t._RF.push({},"8c919feeQ1OTqaObIApXLUy","AssetHandler",void 0);e("AssetHandler",class{constructor(e){this.cache=new Map,e.on(s.EventType.NODE_DESTROYED,this.onDestroy,this)}onDestroy(){this.decRefCount()}decRefCount(){this.cache.forEach(((e,t)=>{null!=e&&e.isValid&&i.DecRef(t,1)}))}async loadAsset(e,t){var s,a;let l=this.cache.get(e);return null!=(s=l)&&s.isValid||(l=await i.loadAsset(e,t),null!=(a=l)&&a.isValid&&this.cache.set(e,l)),l}async loadRemoteAsset(e){var t,s;let a=this.cache.get(e);return null!=(t=a)&&t.isValid||(a=await i.loadRemoteAsset(e),null!=(s=a)&&s.isValid&&this.cache.set(e,a)),a}async loadRemoteSpriteFrame(e){let t=await this.loadRemoteAsset(e);return t?a.createWithImage(t):null}async loadSprite(e,t){if(null!=e&&e.isValid)if(t.startsWith("http")||t.startsWith("/")){let s=await this.loadRemoteSpriteFrame(t);e.spriteFrame=s}else{let s=await this.loadAsset(t,a);e.spriteFrame=s}else console.error("Sprite无效 "+t)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/AssetMgr.ts",["cc","./MLogger.ts","./AssetCache.ts","./BundleMgr.ts"],(function(e){var t,s,r,i,a,l,n,o;return{setters:[function(e){t=e.cclegacy,s=e.JsonAsset,r=e.assetManager,i=e.SpriteFrame,a=e.sys},function(e){l=e.MLogger},function(e){n=e.AssetCache},function(e){o=e.BundleMgr}],execute:function(){t._RF.push({},"6668by/bO9OJZSmjlNLeWHz","AssetMgr",void 0);e("AssetMgr",class{static get cache(){return n.Inst.cache}static async loadAllBundle(e,t){e||(e=(await this.loadAsset("Bundles",s)).json),await o.Inst.loadAllBundle(e,t)}static isAssetExists(e){return o.Inst.isAssetExists(e)}static loadAsset(e,t){return new Promise(((s,r)=>{let i=this.cache.get(e);if(null!=i&&i.isValid)return i.addRef(),void s(i);o.Inst.getBundleByLocation(e).load(e,t,((t,r)=>{t?(l.error(t),s(null)):(r.addRef(),this.cache.set(e,r),s(r))}))}))}static async loadDirAsset(e,t){let s=o.Inst.getDirectoryAddress(e);if(!s||0==s.length)return void l.error("目录中无资源");let r=[];for(const e of s){let s=await this.loadAsset(e,t);r.push(s)}return r}static loadRemoteAsset(e){return new Promise(((t,s)=>{let i=this.cache.get(e);if(null!=i&&i.isValid)return i.addRef(),void t(i);r.loadRemote(e,{ext:e.substring(e.lastIndexOf("."))},((s,r)=>{s?(l.error(s),t(null)):(this.cache.set(e,r),r.addRef(),t(r))}))}))}static async loadRemoteSpriteFrame(e){let t=this.cache.get(e);if(null!=t&&t.isValid)return t;let s=await this.loadRemoteAsset(e);if(s){let t=i.createWithImage(s);return t.addRef(),this.cache.set(e,t),t}return null}static async loadSprite(e,t){if(null!=e&&e.isValid)if(t.startsWith("http")||t.startsWith("/")){let s=await this.loadRemoteSpriteFrame(t);e.spriteFrame=s}else{let s=await this.loadAsset(t,i);e.spriteFrame=s}else l.error("Sprite无效 "+t)}static download(e,t){let s=e.substring(e.lastIndexOf("."));return new Promise(((i,n)=>{a.isBrowser?i(e):r.downloader.download(e,e,s,{onFileProgress:t},((t,s)=>{t?(l.error(e,"download fail",null==t?void 0:t.message),n(null)):i(s)}))}))}static AddRef(e,t=1){let s=this.cache.get(e);if(null!=s&&s.isValid)for(let e=0;e<t;e++)s.addRef();else l.warn(`[AddRef] 资源已销毁 ${e}`)}static DecRef(e,t=1){let s=this.cache.get(e);if(null!=s&&s.isValid)for(let e=0;e<t;e++)s.decRef();else l.warn(`[DecRef] 资源已销毁 ${e}`)}static DecDirRef(e,t=1){let s=o.Inst.getDirectoryAddress(e);if(s&&0!=s.length)for(const e of s)this.DecRef(e,t);else l.error("目录中无资源")}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["cc","./AssetMgr.ts","./StroageMgr.ts","./AudioState.ts","./SortedMap.ts"],(function(t){var e,i,s,o,u,a,l,c,d,h,n,f,r,m,p;return{setters:[function(t){e=t.cclegacy,i=t.Component,s=t.director,o=t.Node,u=t.AudioSource,a=t.AudioClip,l=t.Tween,c=t.tween,d=t.misc,h=t.Director,n=t._decorator},function(t){f=t.AssetMgr},function(t){r=t.StroageMgr},function(t){m=t.AudioState},function(t){p=t.SortedMap}],execute:function(){var V;e._RF.push({},"f5769ecBIJMd49S9x5xzflR","AudioMgr",void 0);const{ccclass:v}=n;let M=t("AudioMgr",v("AudioMgr")(V=class t extends i{constructor(...t){super(...t),this._mVolume=1,this._eVolume=1,this._pause=!1,this.stack=new p,this.music=new Map,this.loopEffect=[]}static addToScene(){let t="[AudioMgr]",e=s.getScene();if(!e)return;let i=e.getChildByName(t);i||(i=new o(t),e.addChild(i),s.addPersistRootNode(i),this.AudioMgrNode=i,this.Default=this.create("Default"))}static create(e){let i=new o(e);return this.AudioMgrNode.addChild(i),i.addComponent(t)}get sMusicVolume(){return"MusicVolume_"+this.node.name}get sEffectVolume(){return"EffectVolume_"+this.node.name}get mVolume(){return this._mVolume}get eVolume(){return this._eVolume}get pause(){return this._pause}onLoad(){this._mVolume=r.getValue(this.sMusicVolume,1),this._eVolume=r.getValue(this.sEffectVolume,1),this.effectOneShot=this.addComponent(u),this.effectOneShot.volume=this._eVolume}musicGet(t,e){var i;let s=this.music.get(t+"_"+e);return null!=s&&null!=(i=s.audio)&&i.isValid?s:null}musicAdd(t,e,i){this.music.set(t+"_"+e,i)}musicRemove(t,e){this.music.delete(t+"_"+e)}async playMusic(t,e=0,i=1,s={}){var o,a;e=Math.max(0,e);let{fadeIn:l,fadeOut:c,onLoadComplete:d}=s;if(l=void 0===l?0:l,c=void 0===c?0:c,this.stack.has(e,t))return;if(this.stack.size>0)if(this.stack.hasKey(e)){let t=this.musicGet(e,this.stack.get(e));this.fadeOutMusic(e==this.stack.topKey?c:0,t,!0)}else if(e>this.stack.topKey){let t=this.musicGet(this.stack.topKey,this.stack.topValue);this.fadeOutMusic(c,t,!1)}let h=this.musicGet(e,t)||new m(t,this.addComponent(u),i);if(this.stack.set(e,t),this.musicAdd(e,t,h),null!=(o=h.audio)&&o.isValid&&null!=(a=h.audio.clip)&&a.isValid)this.stack.isTop(e,t)&&!this._pause&&this.fadeInMusic(l,h);else{let s=await f.loadAsset(t);if(!s)return;if(!this.stack.isTop(e,t))return void f.DecRef(t);if(d&&d(s),h.audio.clip=s,h.audio.volume=this._mVolume*i,h.audio.loop=!0,!this.stack.isTop(e,t))return;this._pause||(l>0?(h.audio.volume=0,h.audio.play(),this.fadeInMusic(l,h)):h.audio.play())}}async playEffect(t,e=1,i={}){let{loop:s,deRef:o,onStart:d,onFinished:h}=i;o=void 0===o||o;var n=await f.loadAsset(t,a);if(s){let i=new m(t,this.addComponent(u),e);this.loopEffect.push(i),i.audio.clip=n,i.audio.volume=this._eVolume*e,i.audio.loop=!0,i.audio.play(),d&&d(n)}else this.effectOneShot.playOneShot(n,e),l.stopAllByTarget(n),c(n).delay(n.getDuration()).call((()=>{o&&f.DecRef(t),h&&h()})).start()}pauseMusic(t,e=0){if(this._pause=t,this.stack.size>0){var i=this.musicGet(this.stack.topKey,this.stack.topValue);t?this.fadeOutMusic(e,i):this.fadeInMusic(e,i)}}stopMusic(t,e=0,i=!0,s=0,o=0){let u=!1;void 0===t?(u=!0,e=this.stack.topKey,t=this.stack.topValue):u=this.stack.isTop(e,t),this.stack.has(e,t)&&(this.stack.delete(e,t),this.fadeOutMusic(u?o:0,this.musicGet(e,t),!0),this.musicRemove(e,t)),i&&u&&!this._pause&&this.pauseMusic(!1,s)}stopAllMusic(t=0){if(this.stack.size>0){for(let e in this.music)this.fadeOutMusic(t,this.music[e],!0);this.stack.clear(),this.music.clear()}}stopEffect(t){if(t){let i=this.loopEffect.findIndex((e=>e.audio.clip==t));if(i>-1){var e;let t=this.loopEffect[i];this.loopEffect=this.loopEffect.splice(i,1),null!=(e=t.audio)&&e.isValid&&(t.audio.destroy(),f.DecRef(t.location))}}}stopAllEffect(){this.loopEffect.forEach((t=>{var e;null!=(e=t.audio)&&e.isValid&&(f.DecRef(t.location),t.audio.destroy())})),this.loopEffect.length=0,this.effectOneShot.stop()}setMusicVolume(t,e=0){t=d.clampf(t,0,1),this.stack.size>0&&(e>0?this.stack.forEach(((i,s)=>{let o=this.musicGet(s,i);null!=o&&o.audio&&c(o.audio).to(e,{volume:o.volumeScale*t}).start()})):this.stack.forEach(((e,i)=>{let s=this.musicGet(i,e);null!=s&&s.audio&&(s.audio.volume=s.volumeScale*t)}))),this._mVolume=t,r.setValue(this.sMusicVolume,this._mVolume)}setEffectVolume(t){t=d.clampf(t,0,1),this.loopEffect.forEach((e=>{e.audio&&(e.audio.volume=e.volumeScale*t)})),this.effectOneShot.volume=t,this._eVolume=t,r.setValue(this.sEffectVolume,this._eVolume)}fadeInMusic(t,e){var i;null!=e&&null!=(i=e.audio)&&i.isValid&&(t>0?(e.audio.volume=0,e.audio.play(),c(e.audio).to(t,{volume:e.volumeScale*this._mVolume}).start()):e.audio.play())}fadeOutMusic(t,e,i=!1){var s;if(null==e||null==(s=e.audio)||!s.isValid)return;var o=e.audio;let u=()=>{i?((null==o?void 0:o.isValid)&&o.destroy(),f.DecRef(e.location)):o.pause()};t>0?c(o).to(t,{volume:0},{onComplete:()=>{u()}}).start():u()}})||V);s.on(h.EVENT_AFTER_SCENE_LAUNCH,M.addToScene.bind(M)),e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioState.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"c67daEgjLpGaZqhbooGPA4V","AudioState",void 0);t("AudioState",class{constructor(t,o,c){this.location=t,this.audio=o,this.volumeScale=c,this.audio.playOnAwake=!1}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/BundleMgr.ts",["cc","./SingletonFactory.ts","./MLogger.ts"],(function(e){var s,t,r,n,o;return{setters:[function(e){s=e.cclegacy,t=e.resources,r=e.assetManager},function(e){n=e.SingletonFactory},function(e){o=e.MLogger}],execute:function(){s._RF.push({},"c219bVtPStFK76UyP0NTEBJ","BundleMgr",void 0);class l{constructor(){this.bundles=new Map,this.address=new Map,this.dirAddress=new Map}static get Inst(){return n.getInstance(l)}onInst(){this.resolveResources()}resolveResources(){t&&this.resolveBundle(t)}resolveBundle(e){this.bundles.set(e.name,e),e._config.paths.forEach((s=>{s.forEach((s=>{let t=s.path,r=t.substring(0,t.lastIndexOf("/"));this.dirAddress.get(r)||this.dirAddress.set(r,[]),this.dirAddress.get(r).push(t),this.address.has(t)?o.error(`资源地址不能重复  ${e.name}  ${s.path}`):this.address.set(t,e.name)}))}))}loadBundle(e,s){return new Promise(((t,n)=>{r.loadBundle(e,{onFileProgress:s},((e,s)=>{e?(o.error(e),n(e)):(this.resolveBundle(s),t(s))}))}))}loadAllBundle(e,s){return new Promise(((t,n)=>{let l=[],d=[];for(let i=0;i<e.length;i++){let u=e[i];r.loadBundle(u,{onFileProgress:(t,r)=>{if(s){l[i]=t/r;let n=0;for(let s=0;s<e.length;s++)n+=l[s]||0;s(n/e.length,1)}}},((s,r)=>{s?(o.error(s),n(s)):(d.push(r),this.resolveBundle(r),d.length==e.length&&t(d))}))}}))}isAssetExists(e){return this.address.has(e)}getBundleByLocation(e){let s=null;return this.address.has(e)?(s=this.bundles.get(this.address.get(e)),s||console.error(`location: ${e}  资源所在Bundle未加载`)):console.error(`location: ${e}  资源不存在或所在Bundle未加载`),s}getDirectoryAddress(e){return this.dirAddress.get(e)}}e("BundleMgr",l),s._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,o,i,n,s,r,a,l,u,h,p,c,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Button,s=t.PolygonCollider2D,r=t.EventHandler,a=t._decorator,l=t.Component,u=t.macro,h=t.UITransform,p=t.Vec3,c=t.Intersection2D,g=t.Vec2},function(t){d=t.App}],execute:function(){var P,m,f,y,b,B,v,E,L,w,C,_,D,S,T,z,N,M,O,A,k,x,H,I,R;i._RF.push({},"321272UiglBhY0DZ2GyAqj1","ButtonHelper",void 0);const{ccclass:F,property:U,requireComponent:V}=a;let j=t("ButtonHelper",(P=F("ButtonHelper"),m=V(n),f=U({displayName:"禁用默认音效",tooltip:"选中时，点击按钮不会播放默认音效"}),y=U({displayName:"音效地址",tooltip:"当音效不为空时，点击按钮播放指定的音效",visible:function(){return this.disableDefault}}),b=U({displayName:"冷却时间",range:[0,5],slide:!0,tooltip:"点击按钮后，等待多长时间重新启用按钮，单位秒"}),B=U({displayName:"多边形按钮",tooltip:"按钮是否是多边形按钮,节点上必须有PolygonCollider2D组件",visible:function(){return null!=this.getComponent(s)}}),v=U({displayName:"长按按钮",tooltip:"按钮可以长按触发事件"}),E=U({displayName:"长按时长",tooltip:"长按多久触发长按事件(单位秒)",range:[.25,10],slide:!0,visible:function(){return this.longPressButton}}),L=U({displayName:"重复触发长按事件",tooltip:"长按后可以按一定频率重复触发长按事件",visible:function(){return this.longPressButton}}),w=U({displayName:"重复长按事件间隔",tooltip:"重复长按事件间隔(单位秒)",range:[.05,10],slide:!0,visible:function(){return this.repeatLongPressEvt}}),C=U({displayName:"忽略点击事件",tooltip:"忽略普通的点击事件,只会触发长按事件",visible:function(){return this.longPressButton}}),_=U({type:[r],displayName:"长按事件",tooltip:"长按触发的事件",visible:function(){return this.longPressButton}}),P(D=m(((R=class t extends l{constructor(...t){super(...t),o(this,"disableDefault",T,this),o(this,"audioLocation",z,this),o(this,"cooldown",N,this),o(this,"polygonButton",M,this),o(this,"longPressButton",O,this),o(this,"longPressDuration",A,this),o(this,"repeatLongPressEvt",k,this),o(this,"repeatDuration",x,this),o(this,"ignoreClickEvt",H,this),o(this,"longPressEvt",I,this),this.isPress=!1,this.eParam=new q}onLoad(){if(this.button=this.getComponent(n),this.button){if(this.polygonButton){let t=this.getComponent(s);if(!t)return void console.error(`节点${this.node.name}上没有PolygonCollider2D组件`);this.eParam.polygon=t}this.longPressButton&&this.schedule(this.updateLongPress,.02,u.REPEAT_FOREVER),this.eParam.audioLocation=this.disableDefault?this.audioLocation:t.defaultAuidoLocation,this.eParam.cooldown=this.cooldown,this.eParam.isPolygonButton=this.polygonButton,this.eParam.isLongPressButton=this.longPressButton,this.eParam.ignoreClickEvt=this.ignoreClickEvt,this.button._eParam=this.eParam,this.extendButtonTouchBegan()}else console.error(`节点${this.node.name}上没有Button组件`)}extendButtonTouchBegan(){this.button._onTouchBegan=function(e){if(!this._interactable||!this.enabledInHierarchy)return;let o=this._eParam||new q(t.defaultAuidoLocation);if(this._eParam=o,o.touchBeganTimeMS=Date.now(),o.longPressTimeMS=0,o.longPressEvtCount=0,o.isPolygonButton){let t=e.getUILocation(),i=this.getComponent(h).convertToNodeSpaceAR(new p(t.x,t.y));o.isOutOfPolygon=!c.pointInPolygon(new g(i.x,i.y),o.polygon.points),o.isOutOfPolygon?e&&(e.propagationStopped=!1):(this._pressed=!0,this._updateState(),e&&(e.propagationStopped=!0))}else this._pressed=!0,this._updateState(),e&&(e.propagationStopped=!0)}}onLongPress(t=!1){t&&this.eParam.audioLocation&&d.audio.playEffect(this.eParam.audioLocation),r.emitEvents(this.longPressEvt,null),this.node.emit("longPress",this),this.eParam.longPressEvtCount++}updateLongPress(t){if(!this.longPressButton)return;if(!this.button._pressed)return;this.eParam.longPressTimeMS+=t;let e=Date.now();if(0==this.eParam.longPressEvtCount)e>=this.eParam.touchBeganTimeMS+1e3*this.longPressDuration&&(this.onLongPress(!0),this.eParam.touchBeganTimeMS=e);else{if(!this.repeatLongPressEvt)return;e>=this.eParam.touchBeganTimeMS+1e3*this.repeatDuration&&(this.onLongPress(),this.eParam.touchBeganTimeMS=e)}}static extendButtonTouchEnded(){n.prototype._onTouchEnded=function(e){if(!this._interactable||!this.enabledInHierarchy)return;let o=this._eParam||new q(t.defaultAuidoLocation);this._eParam=o,this._pressed&&(o.isCooldown||o.isLongPressButton&&o.ignoreClickEvt||(o.audioLocation&&d.audio.playEffect(o.audioLocation),r.emitEvents(this.clickEvents,e),this.node.emit(n.EventType.CLICK,this),o.cooldown>0&&(o.isCooldown=!0,this.scheduleOnce((()=>{o.isCooldown=!1}),o.cooldown)))),this._pressed=!1,this._updateState(),o.isPolygonButton&&o.isOutOfPolygon?e&&(e.propagationStopped=!1):e&&(e.propagationStopped=!0)}}}).defaultAuidoLocation="",T=e((S=R).prototype,"disableDefault",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=e(S.prototype,"audioLocation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=e(S.prototype,"cooldown",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),M=e(S.prototype,"polygonButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=e(S.prototype,"longPressButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=e(S.prototype,"longPressDuration",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=e(S.prototype,"repeatLongPressEvt",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=e(S.prototype,"repeatDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),H=e(S.prototype,"ignoreClickEvt",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=e(S.prototype,"longPressEvt",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=S))||D)||D));class q{constructor(t="",e=.2){this.audioLocation="",this.cooldown=0,this.isCooldown=!1,this.isPolygonButton=!1,this.polygon=null,this.isOutOfPolygon=!1,this.isLongPressButton=!1,this.ignoreClickEvt=!1,this.touchBeganTimeMS=0,this.longPressTimeMS=0,this.longPressEvtCount=0,this.audioLocation=t,this.cooldown=e}}j.extendButtonTouchEnded(),i._RF.pop()}}}));

System.register("chunks:///_virtual/CCUtil.ts",["cc","./Utils.ts"],(function(t){var e,n,i,r,l,o,a,s,c,f;return{setters:[function(t){e=t.cclegacy,n=t.Scene,i=t.v3,r=t.UITransform,l=t.misc,o=t.v2,a=t.Widget,s=t.Component,c=t.instantiate},function(t){f=t.Utils}],execute:function(){e._RF.push({},"b082bUf8OxJ8o/5Kcv+lOSE","CCUtil",void 0);t("CCUtils",class{static getComponentInChildren(t,e){for(let n=0;n<t.children.length;n++){let i=t.children[n].getComponent(e);if(i)return i}return null}static getComponentInParent(t,e,i=!1){let r=t;if(!r.parent)throw new Error("父节点不存在");for(i||(r=r.parent);r&&!(r instanceof n);){let t=r.getComponent(e);if(t)return t;r=r.parent}return null}static getComponentsInParent(t,e,i=!1){let r=[],l=t;if(!l.parent)throw new Error("父节点不存在");for(i||(l=l.parent);l&&!(l instanceof n);){let t=l.getComponent(e);t&&r.push(t),l=l.parent}return r}static getComponentAtPath(t,e,n){let i=(e=f.trim(e.trim(),"/")).split("/"),r=t;if(i.length>0)for(const t of i){var l;if(r=r.getChildByName(t),null==(l=r)||!l.isValid)return null}return r.getComponent(n)}static getNodeAtPath(t,e){let n=(e=f.trim(e.trim(),"/")).split("/"),i=t;if(n.length>0)for(const t of n){var r;if(i=i.getChildByName(t),null==(r=i)||!r.isValid)return null}return i}static nodePosToNodeAxisPos(t,e,n){return n||(n=i(0,0)),n}static getNodeScreenPosCenter(t,e){}static getNodeScreenPos(t,e){}static scrollViewTurnPage(t,e,n=.15){let i=t.getComponent(r),a=t.getScrollOffset(),s=t.getMaxScrollOffset(),c=0;c=-1==e?l.clampf(a.x+i.width,-s.x,0):l.clampf(a.x-i.width,-s.x,0),t.scrollToOffset(o(-c,a.y),n)}static getNodePath(t){let e=[],i=t;for(;i&&!(i instanceof n);)e.push(i.name),i=i.parent;return e.reverse().join("/")}static uiNodeMatchParent(t){let e=t.getComponent(a);e||(e=t.addComponent(a)),e.isAlignTop=!0,e.top=0,e.isAlignBottom=!0,e.bottom=0,e.isAlignLeft=!0,e.left=0,e.isAlignRight=!0,e.right=0}static loadList(t,e,n,i=null,r=2){return new Promise(((l,o)=>{if(!t||null==e)return;if(!i&&0==t.children.length)return void o("当content无子节点时 必须传入预制体");if(t.children.length>e.length)for(let n=e.length;n<t.children.length;n++)t.children[n].active=!1;let a=this.getComponentInParent(t,s),c=this.listGenerator(t,e,n,i),f=()=>{let t=Date.now();for(let e=c.next();;e=c.next()){if(null==e||e.done)return void l();if(e.value,Date.now()-t>r)return void a.scheduleOnce((()=>{f()}))}};f()}))}static*listGenerator(t,e,n,i=null){let r=r=>{if(null==t||!t.isValid)return;let l;t.children.length>r?l=t.children[r]:(l=c(i||t.children[0]),l.parent=t),l.active=!0,n&&n(e[r],l,r)};for(let t=0;t<e.length;t++)yield r(t)}static loadSingleNode(t,e){if(t.children.length>0){if(t.children[0].name==e.name)return;t.destroyAllChildren()}let n=c(e);n.parent=t,n.active=!0}static tweenNumber(t,e,n,i,r){}static setSpineCommonMix(t,e){if(!t)return;let n=t._skeleton.data.animations;if(null!=n&&n.length)for(let i=0;i<n.length-1;i++)for(let r=i+1;r<n.length;r++)t.setMix(n[i].name,n[r].name,e),t.setMix(n[r].name,n[i].name,e)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Channel.ts",["cc","./MLogger.ts","./MCloudDataSDK.ts","./MSDKWrapper.ts","./Utils.ts","./ShopUtil.ts"],(function(e){var t,a,r,s,n,i,o,l,u,c,d;return{setters:[function(e){t=e.cclegacy,a=e.sys},function(e){r=e.MLogger},function(e){s=e.MCloudDataSDK},function(e){n=e.SDKCallback,i=e.MSDKWrapper,o=e.ELoginResult,l=e.EReawrdedAdResult,u=e.EIAPResult},function(e){c=e.Utils},function(e){d=e.ShopUtil}],execute:function(){t._RF.push({},"095bevmlepLi4SOCd7SWfZD","Channel",void 0);class S{constructor(){this.userDataCloudSaveKey="UserDataSaveKey"}initSDK(){this.initEvent(),this.reportEvent("initSDK")}initEvent(){}initIAP(){d.initPurchase()}login(e){let t=a.localStorage.getItem("userId");t||(t=c.genUUID(),a.localStorage.setItem("userId",t)),n.login=e,i.onLogin(o.Success+"|"+t)}getGameData(e){r.debug("getGameData",e.userId),n.getGameData=e,s.getGameData(e.userId,this.userDataCloudSaveKey).then((t=>{t?e.success&&e.success(t):e.fail&&e.fail()}))}uploadGameData(e){r.debug("uploadGameData",e.userId),n.uploadGameData=e,s.saveGameData(e.userId,this.userDataCloudSaveKey,e.userGameData).then((t=>{t?e.success&&e.success(t):e.fail&&e.fail()}))}setRewardVideoDefaultCallback(e){n.rewardedAdDefault=e}showRewardedAd(e){n.rewardedAd=e,n.onStartRewardedAd&&n.onStartRewardedAd(e.extParam),i.onShowRewardedAd(l.Success.toString())}showInterstitial(...e){}showbanner(...e){}share(...e){}reqProductDetails(e){i.onInAppPurchase(u.ProductDetail+"|default")}requestIAP(e){n.onStartInAppPurchase&&n.onStartInAppPurchase(e.productId),setTimeout((()=>{i.onInAppPurchase(u.Success+"|"+e.productId)}),1e3)}restoreIAP(){}reportEvent(e,t){if(t&&t._tag)return;let a=t?Object.values(t).join("|"):"";s.reportEvent(e,0,a)}reportEventDaily(e,t){S.isValidDailyEvent(e)&&this.reportEvent(e,t)}reportEventLifetime(e,t){S.isValidLifetimeEvent(e)&&this.reportEvent(e,t)}reportSumEvent(e,t,a){let r=a?Object.values(a).join("|"):"";s.reportEvent(e,t,r)}extraMethod(e,...t){}static getEventParamJsonStr(e){return e?JSON.stringify(e):""}static isValidDailyEvent(e){let t=c.getDate(),r=parseFloat(a.localStorage.getItem(e));return!!(isNaN(r)||r<t)&&(a.localStorage.setItem(e,t.toString()),!0)}static isValidLifetimeEvent(e){let t=c.getDate(),r=parseFloat(a.localStorage.getItem(e));return!!isNaN(r)&&(a.localStorage.setItem(e,t.toString()),!0)}}e("Channel",S),t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,h,g,a,c,p,C,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,s=t._decorator,l=t.Component,r=t.Color,h=t.Canvas,g=t.UITransform,a=t.instantiate,c=t.Label,p=t.RichText,C=t.Toggle,d=t.Button,m=t.director}],execute:function(){var u,L,M,b,T,f,x,S,E;i._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);const{ccclass:v,property:I}=s;t("DebugViewRuntimeControl",(u=v("internal.DebugViewRuntimeControl"),L=I(n),M=I(n),b=I(n),u((x=e((f=class extends l{constructor(...t){super(...t),o(this,"compositeModeToggle",x,this),o(this,"singleModeToggle",S,this),o(this,"EnableAllCompositeModeButton",E,this),this._single=0,this.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],this.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],this.strMisc=["CSM Layer Coloration","Lighting With Albedo"],this.compositeModeToggleList=[],this.singleModeToggleList=[],this.miscModeToggleList=[],this.textComponentList=[],this.labelComponentList=[],this.textContentList=[],this._currentColorIndex=0,this.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],this.color=[r.WHITE,r.BLACK,r.RED,r.GREEN,r.BLUE]}start(){if(!this.node.parent.getComponent(h))return void console.error("debug-view-runtime-control should be child of Canvas");const t=this.node.parent.getComponent(g),e=.5*t.width,o=.5*t.height;let i=.1*e-e,n=o-.1*o;const s=this.node.getChildByName("MiscMode"),l=a(s);l.parent=this.node,l.name="Buttons";const m=a(s);m.parent=this.node,m.name="Titles";for(let t=0;t<2;t++){const e=a(this.EnableAllCompositeModeButton.getChildByName("Label"));e.setPosition(i+(t>0?450:150),n,0),e.setScale(.75,.75,.75),e.parent=m;const o=e.getComponent(c);o.string=t?"----------Composite Mode----------":"----------Single Mode----------",o.color=r.WHITE,o.overflow=0,this.labelComponentList[this.labelComponentList.length]=o}n-=20;let u=0;for(let t=0;t<this.strSingle.length;t++,u++){t===this.strSingle.length>>1&&(i+=200,u=0);const e=t?a(this.singleModeToggle):this.singleModeToggle;e.setPosition(i,n-20*u,0),e.setScale(.5,.5,.5),e.parent=this.singleModeToggle.parent;const o=e.getComponentInChildren(p);o.string=this.strSingle[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string,e.on(C.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[t]=e}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(d.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;let L=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=L;const M=a(this.EnableAllCompositeModeButton);M.setPosition(i+90,n,0),M.setScale(.5,.5,.5),M.on(d.EventType.CLICK,this.changeTextColor,this),M.parent=l,L=M.getComponentInChildren(c),L.string="TextColor",this.labelComponentList[this.labelComponentList.length]=L;const b=a(this.EnableAllCompositeModeButton);b.setPosition(i+200,n,0),b.setScale(.5,.5,.5),b.on(d.EventType.CLICK,this.hideUI,this),b.parent=this.node.parent,L=b.getComponentInChildren(c),L.string="Hide UI",this.labelComponentList[this.labelComponentList.length]=L,this.hideButtonLabel=L,n-=40;for(let t=0;t<this.strMisc.length;t++){const e=a(this.compositeModeToggle);e.setPosition(i,n-20*t,0),e.setScale(.5,.5,.5),e.parent=s;const o=e.getComponentInChildren(p);o.string=this.strMisc[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string;e.getComponent(C).isChecked=!!t,e.on(C.EventType.TOGGLE,t?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[t]=e}n-=150;for(let t=0;t<this.strComposite.length;t++){const e=t?a(this.compositeModeToggle):this.compositeModeToggle;e.setPosition(i,n-20*t,0),e.setScale(.5,.5,.5),e.parent=this.compositeModeToggle.parent;const o=e.getComponentInChildren(p);o.string=this.strComposite[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string,e.on(C.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[t]=e}}isTextMatched(t,e){let o=new String(t);const i=o.search(">");return-1===i?t===e:(o=o.substr(i+1),o=o.substr(0,o.search("<")),o===e)}toggleSingleMode(t){const e=m.root.debugView,o=t.getComponentInChildren(p);for(let t=0;t<this.strSingle.length;t++)this.isTextMatched(o.string,this.strSingle[t])&&(e.singleMode=t)}toggleCompositeMode(t){const e=m.root.debugView,o=t.getComponentInChildren(p);for(let i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)}toggleLightingWithAlbedo(t){m.root.debugView.lightingWithAlbedo=t.isChecked}toggleCSMColoration(t){m.root.debugView.csmLayerColoration=t.isChecked}enableAllCompositeMode(t){const e=m.root.debugView;e.enableAllCompositeMode(!0);for(let t=0;t<this.compositeModeToggleList.length;t++){this.compositeModeToggleList[t].getComponent(C).isChecked=!0}let o=this.miscModeToggleList[0].getComponent(C);o.isChecked=!1,e.csmLayerColoration=!1,o=this.miscModeToggleList[1].getComponent(C),o.isChecked=!0,e.lightingWithAlbedo=!0}hideUI(t){const e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"}changeTextColor(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(let t=0;t<this.textComponentList.length;t++)this.textComponentList[t].string=this.strColor[this._currentColorIndex]+this.textContentList[t]+"</color>";for(let t=0;t<this.labelComponentList.length;t++)this.labelComponentList[t].color=this.color[this._currentColorIndex]}onLoad(){}update(t){}}).prototype,"compositeModeToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(f.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(f.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=f))||T));i._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"100abIUbBRJiKuquKmBCGRk","EventMgr",void 0);class a{static clear(){a.eventMap.clear()}static on(t,e,a,n){let i=this.eventMap.get(t);i||(this.eventMap.set(t,[]),i=this.eventMap.get(t)),i.findIndex((t=>t.callback==e&&t.thisObj==a))<0&&i.push({callback:e,thisObj:a,once:!1,tag:n})}static once(t,e,a,n){let i=this.eventMap.get(t);i||(this.eventMap.set(t,[]),i=this.eventMap.get(t)),i.findIndex((t=>t.callback==e&&t.thisObj==a))<0&&i.push({callback:e,thisObj:a,once:!0,tag:n})}static off(t,e,a){let n=this.eventMap.get(t);if(n&&n.length>0)if(e){let t=n.findIndex((t=>t.callback==e&&t.thisObj==a));t>-1&&n.splice(t,1)}else this.eventMap.delete(t)}static offByTag(t,e){if(!e)return;let a=this.eventMap.get(t);(null==a?void 0:a.length)>0&&this.eventMap.set(t,a.filter((t=>t.tag!=e)))}static emit(t,...e){let a=this.eventMap.get(t);if(a&&a.length>0){let n=[];a.forEach(((t,a)=>{let{callback:i,thisObj:s,once:c}=t;"function"==typeof i&&i.call(s,...e),c&&n.push(a)})),n.length>0&&this.eventMap.set(t,a.filter(((t,e)=>n.indexOf(e)<0)))}}}t("EventMgr",a),a.eventMap=new Map,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0a9dfABUNVE1LHiibC1xr17","GameConfig",void 0);class r{static fromId(t){return i.product.find((e=>e.id==t))}static fromGoodsId(t){return i.product.find((e=>e.goodsId==t))}}t("ProductData",r);class i{static deserialize(t){let e=this.getIniData(t);if(e.has("base")){let t=e.get("base");for(const e of t)e.startsWith("GF=")?this.gf=this.convertBool(e.replace("GF=","")):e.startsWith("RG=")?this.rg=this.convertBool(e.replace("RG=","")):e.startsWith("SH=")?this.sh=this.convertBool(e.replace("SH=","")):e.startsWith("GM=")&&(this.gm=this.convertBool(e.replace("GM=","")))}if(e.has("bundle")){let t=e.get("bundle");for(const e of t){let t=e.split("=");2==t.length&&this.bundleVersion.set(t[0],t[1])}}if(e.has("goods")){let t=e.get("goods");if(t.length>1){let e=this.getTagIndexMap(t[0].split("|"));for(let i=1;i<t.length;i++){let s=t[i].split("|"),n=new r;n.id=this.convertString(s[e.get("id")]),n.goodsId=this.convertString(s[e.get("goodsId")]),n.type=this.convertNumber(s[e.get("type")]),n.unit=this.convertString(s[e.get("unit")]),n.price=this.convertNumber(s[e.get("price")]),n.limit=this.convertNumber(s[e.get("limit")]),n.name=this.convertString(s[e.get("name")]),n.desc=this.convertString(s[e.get("desc")]),n.icon=this.convertString(s[e.get("icon")]),n.reward=this.convertString(s[e.get("reward")]),this.product.push(n)}}}}static getTagIndexMap(t){let e=new Map;for(let r=0;r<t.length;r++)e.set(t[r],r);return e}static convertString(t){return t.trim()}static convertBool(t){return"1"==(t=t.trim())||"TRUE"==t.toUpperCase()}static convertNumber(t){t=t.trim();let e=parseFloat(t);return isNaN(e)&&(e=0),e}static getIniData(t){let e=new Map,r=null,i=t.split("\n");for(const t of i){let i=t.trim();if(i&&!i.startsWith("//"))if(i.startsWith("[")){let t=i.replace("[","").replace("]","").trim();e.set(t,[]),r=t}else r&&e.get(r).push(i)}return e}}t("GameConfig",i),i.gf=!1,i.rg=!0,i.sh=!1,i.gm=!1,i.bundleVersion=new Map,i.product=[],e._RF.pop()}}}));

System.register("chunks:///_virtual/GameContanst.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"2bcc2v5mYJGCKVCmUaX9wi0","GameContanst",void 0);class n{}e("GameContanst",n),n.bundles=["dynamic","localization"],n.buttonAuidoLocation="audio/Click_1",n.heroDefaultSkin="ji",n.heroDefaultAttrNum=1001,n.spineIdleAnimName="idle",n.spineWorkAnimName="work",n.soldierBornInterval=.4,n.cascadeUnlockBuildPriceType=9999,n.drillSoldierBattlePoint="B1011",t._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc","./StroageMgr.ts"],(function(t){var s,e;return{setters:[function(t){s=t.cclegacy},function(t){e=t.LocalStroage}],execute:function(){s._RF.push({},"b9d25Pc585LgJIpkG6/2sKI","GameData",void 0);class a extends e{constructor(...t){super(...t),this.name="GameData"}static get Inst(){return this._inst||(this._inst=this.deserialize(new a)),this._inst}static clear(){this._inst=null}}t("GameData",a),a._inst=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/GameDataEntity.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"49895xUYJZBbZknf21VwXXX","GameDataEntity",void 0);t("DataEntity1",class{});t("EquOnHeroInfo",class{}),n._RF.pop()}}}));

System.register("chunks:///_virtual/GameDataPost.ts",["cc","./App.ts","./MLogger.ts","./GameData.ts"],(function(t){var a,n,e,s;return{setters:[function(t){a=t.cclegacy},function(t){n=t.App},function(t){e=t.MLogger},function(t){s=t.GameData}],execute:function(){a._RF.push({},"731balQcCBLNbdxvsUEBrUO","GameDataPost",void 0);class i{static get Inst(){return n.getSingleInst(i)}initGameData(){s.Inst.init(this.onInitGameData.bind(this),this.onNewUser.bind(this),this.onDateChange.bind(this))}onInitGameData(){}onNewUser(){e.debug("新手玩家")}onDateChange(t,a){cc.log("onDateChange",t,a)}}t("GameDataPost",i),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnum.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"cadd1JtL8dJDLgp5lSig29W","GameEnum",void 0);e("EventKey",function(e){return e[e.Builtin=-1e6]="Builtin",e[e.ShowUI=-999999]="ShowUI",e[e.HideUI=-999998]="HideUI",e[e.OnUIInitBegin=-999997]="OnUIInitBegin",e[e.OnUIShowBegin=-999996]="OnUIShowBegin",e[e.OnUIHideBegin=-999995]="OnUIHideBegin",e[e.OnUIShow=-999994]="OnUIShow",e[e.OnUIHide=-999993]="OnUIHide",e[e.OnInventoryChange=-999992]="OnInventoryChange",e[e.OnTaskChange=-999991]="OnTaskChange",e[e.ShowGuide=-999990]="ShowGuide",e[e.OnGuideStart=-999989]="OnGuideStart",e[e.ManualGuideStep=-999988]="ManualGuideStep",e[e.OnGuideEnd=-999987]="OnGuideEnd",e[e.CameraPositionChange=-999986]="CameraPositionChange",e[e.PlayerLevelUp=-999985]="PlayerLevelUp",e[e.LeafletCntChange=-999984]="LeafletCntChange",e[e.ShowStaffWin=-999983]="ShowStaffWin",e[e.BattleBossComing=-999982]="BattleBossComing",e[e.BattleStateChange=-999981]="BattleStateChange",e[e.SoldierDead=-999980]="SoldierDead",e[e.MonsterDead=-999979]="MonsterDead",e[e.UnlockBuilding=-999978]="UnlockBuilding",e[e.UpgradeBuilding=-999977]="UpgradeBuilding",e[e.UnlockStaff=-999976]="UnlockStaff",e[e.UpgradeStaff=-999975]="UpgradeStaff",e[e.UnlockStaffSkin=-999974]="UnlockStaffSkin",e[e.ChangeStaffSkin=-999973]="ChangeStaffSkin",e[e.BuildingPreperWork=-999972]="BuildingPreperWork",e[e.BuildingStartWork=-999971]="BuildingStartWork",e[e.RescuerStart=-999970]="RescuerStart",e[e.MedicalSoliderStart=-999969]="MedicalSoliderStart",e[e.HenhouseStart=-999968]="HenhouseStart",e[e.OnCustomerEnterShop=-999967]="OnCustomerEnterShop",e[e.SaleGoodsAmountChange=-999966]="SaleGoodsAmountChange",e[e.UnlockSaleGoods=-999965]="UnlockSaleGoods",e[e.CustomerOrder=-999964]="CustomerOrder",e[e.CustomerBuy=-999963]="CustomerBuy",e[e.SpecimenGoldChange=-999962]="SpecimenGoldChange",e[e.VipDataChanged=-999961]="VipDataChanged",e[e.SpecialCharacterEnter=-999960]="SpecialCharacterEnter",e[e.SpecialCharacterLeave=-999959]="SpecialCharacterLeave",e[e.ListAddFinish=-999958]="ListAddFinish",e[e.FinishSign=-999957]="FinishSign",e[e.ClickEquItemShell=-999956]="ClickEquItemShell",e[e.EquDataChanged=-999955]="EquDataChanged",e[e.EquBoxDataChanged=-999954]="EquBoxDataChanged",e[e.FinishChou=-999953]="FinishChou",e[e.ZhuanDataChanged=-999952]="ZhuanDataChanged",e[e.TarotDataChanged=-999951]="TarotDataChanged",e[e.UnlockHeroSkin=-999950]="UnlockHeroSkin",e[e.GiftBagDataChanged=-999949]="GiftBagDataChanged",e[e.StaffSkinBagBuy=-999948]="StaffSkinBagBuy",e[e.DayOrWeekGiftBagBuy=-999947]="DayOrWeekGiftBagBuy",e[e.giftBagBuy=-999946]="giftBagBuy",e[e.ChongQianLa=-999945]="ChongQianLa",e[e.TaskDataChanged=-999944]="TaskDataChanged",e[e.TaskBuidUpLevel=-999943]="TaskBuidUpLevel",e[e.TaskPlayerUpLevel=-999942]="TaskPlayerUpLevel",e[e.TaskStaffUpLevel=-999941]="TaskStaffUpLevel",e[e.TaskPassBattleLevel=-999940]="TaskPassBattleLevel",e[e.TaskKillBoss=-999939]="TaskKillBoss",e[e.TaskKillMonster=-999938]="TaskKillMonster",e[e.TaskLookAd=-999937]="TaskLookAd",e[e.TaskLoginGame=-999936]="TaskLoginGame",e[e.CallEqus=-999935]="CallEqus",e[e.TaskKillXiaoTou=-999934]="TaskKillXiaoTou",e[e.TaskKillZuiHan=-999933]="TaskKillZuiHan",e[e.TaskKillFuHao=-999932]="TaskKillFuHao",e[e.TaskSendChuanDan=-999931]="TaskSendChuanDan",e[e.ShowBubble=-999930]="ShowBubble",e[e.ShowBubbleFreeType=-999929]="ShowBubbleFreeType",e[e.LoadSwordWeaponSucc=-999928]="LoadSwordWeaponSucc",e[e.gmBtnSatgeChaned=-999927]="gmBtnSatgeChaned",e[e.buildWarningSatrt=-999926]="buildWarningSatrt",e[e.buildWarningOver=-999925]="buildWarningOver",e}({})),e("BubbleType",function(e){return e[e.BubbleHeroEnterBattle=1]="BubbleHeroEnterBattle",e[e.BubbleHeroBehit=2]="BubbleHeroBehit",e[e.BubbleHeroDead=3]="BubbleHeroDead",e[e.BubbleHeroAtk=4]="BubbleHeroAtk",e[e.BubbleHeroOutZhiLiaoZhan=5]="BubbleHeroOutZhiLiaoZhan",e[e.BubbleHeroOutXunLianZhan=6]="BubbleHeroOutXunLianZhan",e[e.BubbleHeroEquWeapon=7]="BubbleHeroEquWeapon",e[e.BubbleHeroEquHead=8]="BubbleHeroEquHead",e[e.BubbleHeroEquBody=9]="BubbleHeroEquBody",e[e.BubbleHeroLineOnDiaoDuZhan=10]="BubbleHeroLineOnDiaoDuZhan",e[e.BubbleMonsterEnterBattle=101]="BubbleMonsterEnterBattle",e[e.BubbleMonsterBehit=102]="BubbleMonsterBehit",e[e.BubbleMonsterAtk=103]="BubbleMonsterAtk",e[e.BubbleCustomerEnterDaTing=201]="BubbleCustomerEnterDaTing",e[e.BubbleCustomerBuyFinish=202]="BubbleCustomerBuyFinish",e[e.BubbleCustomerLineAnger=203]="BubbleCustomerLineAnger",e[e.BubbleCustomerLineHalfTime=204]="BubbleCustomerLineHalfTime",e[e.BubbleCustomerCanNotFindLinePoint=205]="BubbleCustomerCanNotFindLinePoint",e[e.BubbleCustomerLeaveByDrunkard=206]="BubbleCustomerLeaveByDrunkard",e[e.BubbleStaffWork=301]="BubbleStaffWork",e[e.BubbleStaffBuildFull=302]="BubbleStaffBuildFull",e}({})),e("ItemId",function(e){return e[e.Gold=1]="Gold",e[e.Diamond=2]="Diamond",e[e.Key=4]="Key",e}({})),e("GetRewardTag",function(e){return e.GoldFactor="GoldFactor",e}({})),e("EGuideType",function(e){return e[e.None=0]="None",e[e.WelcomeBattle=102]="WelcomeBattle",e[e.WelcomeBattle_2=103]="WelcomeBattle_2",e[e.WelcomeBattle_3=104]="WelcomeBattle_3",e[e.WelcomeBattle_4=105]="WelcomeBattle_4",e[e.WelcomeBattle_4_1=106]="WelcomeBattle_4_1",e[e.Rescue=107]="Rescue",e[e.Rescue_2=108]="Rescue_2",e[e.Rescue_3=109]="Rescue_3",e[e.Rescue_4=110]="Rescue_4",e[e.Training=111]="Training",e[e.Training_1=112]="Training_1",e[e.KillBoss=113]="KillBoss",e[e.KillBoss_1=114]="KillBoss_1",e[e.KillBoss_2=115]="KillBoss_2",e[e.KillBoss_3=116]="KillBoss_3",e[e.UnlockGunLane=117]="UnlockGunLane",e[e.BuyEquip=118]="BuyEquip",e[e.UnlockProduce=119]="UnlockProduce",e[e.UnlockMageLane=120]="UnlockMageLane",e[e.ThiefFirstCome=130]="ThiefFirstCome",e[e.RichmanFirstCome=131]="RichmanFirstCome",e[e.DrunkardFirstCome=132]="DrunkardFirstCome",e[e.ClickAttackBoss=133]="ClickAttackBoss",e[e.ClickLeaflet=134]="ClickLeaflet",e}({})),e("EGuideUnlockBtn",function(e){return e[e.None=-1]="None",e[e.Sword=0]="Sword",e[e.Rescue=1]="Rescue",e[e.Henhouse=2]="Henhouse",e[e.Gun=3]="Gun",e[e.Produce=4]="Produce",e[e.Mage=5]="Mage",e}({})),e("GameBuffType",function(e){return e[e.Atk=10100]="Atk",e[e.AtkPre=10101]="AtkPre",e[e.Hp=10200]="Hp",e[e.HpPre=10201]="HpPre",e[e.Dodge=10300]="Dodge",e[e.Crit=10400]="Crit",e[e.HeroMoveSpeed=10500]="HeroMoveSpeed",e[e.HeroMoveSpeedPre=10501]="HeroMoveSpeedPre",e[e.RescueTeamMoveSpeedPre=20600]="RescueTeamMoveSpeedPre",e[e.WorkTime=30100]="WorkTime",e[e.WorkSpeedPre=30101]="WorkSpeedPre",e[e.BuildMaxNum=30200]="BuildMaxNum",e[e.SellPricePre=30300]="SellPricePre",e[e.ProductionTime=40100]="ProductionTime",e[e.RestingTime=40101]="RestingTime",e[e.PassengerFlow=50100]="PassengerFlow",e}({})),e("BuildingType",function(e){return e[e.RescueTeam=101]="RescueTeam",e[e.MedicalStation=102]="MedicalStation",e[e.TrainingRoom=103]="TrainingRoom",e[e.CombatReady=104]="CombatReady",e[e.Henhouse=105]="Henhouse",e[e.Sword_Weapon_EqStation=1001]="Sword_Weapon_EqStation",e[e.Sword_Head_EqStation=1002]="Sword_Head_EqStation",e[e.Sword_Body_EqStation=1003]="Sword_Body_EqStation",e[e.Gun_Weapon_EqStation=2001]="Gun_Weapon_EqStation",e[e.Gun_Head_EqStation=2002]="Gun_Head_EqStation",e[e.Gun_Body_EqStation=2003]="Gun_Body_EqStation",e[e.Mage_Weapon_EqStation=3001]="Mage_Weapon_EqStation",e[e.Mage_Head_EqStation=3002]="Mage_Head_EqStation",e[e.Mage_Body_EqStation=3003]="Mage_Body_EqStation",e[e.Slaughterhouse=201]="Slaughterhouse",e[e.Meat_ProcessingPlant=202]="Meat_ProcessingPlant",e[e.Skin_ProcessingPlant=203]="Skin_ProcessingPlant",e[e.Bone_ProcessingPlant=204]="Bone_ProcessingPlant",e[e.SaleWindow1=301]="SaleWindow1",e[e.SaleWindow2=302]="SaleWindow2",e[e.SaleWindow3=303]="SaleWindow3",e[e.SaleWindow4=304]="SaleWindow4",e[e.SaleWindow5=305]="SaleWindow5",e[e.SaleWindow6=306]="SaleWindow6",e[e.Meat_CargoContainer=401]="Meat_CargoContainer",e[e.Skin_CargoContainer=402]="Skin_CargoContainer",e[e.Bone_CargoContainer=403]="Bone_CargoContainer",e[e.Specimen1=908]="Specimen1",e[e.Specimen2=909]="Specimen2",e[e.Specimen3=910]="Specimen3",e}({})),e("CustomerSpecialTagType",function(e){return e[e.Leaflet=0]="Leaflet",e}({})),e("StaffType",function(e){return e[e.Greeter=901]="Greeter",e[e.Bouncer=902]="Bouncer",e}({})),e("BuildingState",function(e){return e[e.NotInit=0]="NotInit",e[e.Idle=1]="Idle",e[e.PreperWork=2]="PreperWork",e[e.Work=3]="Work",e[e.WorkPoint=4]="WorkPoint",e}({})),e("CharacterDirection",function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({})),e("CharacterAnim",function(e){return e[e.None=0]="None",e[e.Attack=1]="Attack",e[e.Idle=2]="Idle",e[e.Move=3]="Move",e[e.Dead=4]="Dead",e}({})),e("CharacterType",function(e){return e[e.Staff=100]="Staff",e[e.Customer=200]="Customer",e[e.Soldier=300]="Soldier",e[e.Soldier_Sword=301]="Soldier_Sword",e[e.Soldier_Gun=302]="Soldier_Gun",e[e.Soldier_Mage=303]="Soldier_Mage",e[e.Monster=500]="Monster",e}({})),e("SpecialCharacterType",function(e){return e[e.None=0]="None",e[e.RichMan=1]="RichMan",e[e.Thief=2]="Thief",e[e.Drunkard=3]="Drunkard",e}({})),e("GoodsType",function(e){return e[e.Meat=1]="Meat",e[e.Skin=2]="Skin",e[e.Bone=3]="Bone",e}({})),e("SoldierType",function(e){return e[e.None=0]="None",e[e.Sword=1]="Sword",e[e.Gun=2]="Gun",e[e.Mage=3]="Mage",e}({})),e("EquipType",function(e){return e[e.Weapon=1]="Weapon",e[e.Head=2]="Head",e[e.Body=3]="Body",e}({})),e("buffTagId",function(e){return e[e.adBuffSellAdd=1]="adBuffSellAdd",e[e.adBuffAtkAdd=2]="adBuffAtkAdd",e[e.adBuffCustomerPreAdd=3]="adBuffCustomerPreAdd",e}({})),e("adFunId",function(e){return e[e.adBuffGold=1]="adBuffGold",e[e.adBuffAtk=2]="adBuffAtk",e[e.adBuffKeliu=3]="adBuffKeliu",e[e.adBand=4]="adBand",e[e.adUfo=5]="adUfo",e[e.adTarot=6]="adTarot",e[e.adChuanDan=7]="adChuanDan",e}({})),e("ReportEventKey",function(e){return e[e.init_game_boot=0]="init_game_boot",e[e.init_sdk_login_success=1]="init_sdk_login_success",e[e.init_loading_start=2]="init_loading_start",e[e.init_get_config_success=3]="init_get_config_success",e[e.init_get_config_fail=4]="init_get_config_fail",e[e.init_loading_complete=5]="init_loading_complete",e[e.init_hud_enter=6]="init_hud_enter",e[e.iap_start=7]="iap_start",e[e.iap_success=8]="iap_success",e[e.iap_list_cancel=9]="iap_list_cancel",e[e.iap_fail=10]="iap_fail",e[e.iap_allSales=11]="iap_allSales",e[e.iap_user=12]="iap_user",e[e.iap_newUser=13]="iap_newUser",e[e.iap_times=14]="iap_times",e[e.ad_clcik=15]="ad_clcik",e[e.ad_play=16]="ad_play",e[e.ad_finish=17]="ad_finish",e[e.ad_all_clcik=18]="ad_all_clcik",e[e.ad_all_play=19]="ad_all_play",e[e.ad_all_finish=20]="ad_all_finish",e[e.wnd_enter=21]="wnd_enter",e[e.wnd_leave=22]="wnd_leave",e[e.guide_stay=23]="guide_stay",e[e.level_stay_battle=24]="level_stay_battle",e[e.level_stay_player=25]="level_stay_player",e[e.task_stay_main=26]="task_stay_main",e[e.task_finish_daily=27]="task_finish_daily",e[e.sign_finish=28]="sign_finish",e[e.turntable_finish=29]="turntable_finish",e[e.band_active=30]="band_active",e[e.adBuff_active=31]="adBuff_active",e[e.exchangeGold=32]="exchangeGold",e[e.ufo_show=33]="ufo_show",e[e.ufo_active=34]="ufo_active",e[e.tarot_enter=35]="tarot_enter",e[e.tarot_dead=36]="tarot_dead",e[e.tarot_revive=37]="tarot_revive",e[e.tarot_win=38]="tarot_win",e[e.leaflet_click=39]="leaflet_click",e[e.heroSkin_get=40]="heroSkin_get",e[e.goods_upLevel=41]="goods_upLevel",e[e.staff_default_upLevel=42]="staff_default_upLevel",e[e.staff_skin_buy=43]="staff_skin_buy",e[e.equ_chou_times=44]="equ_chou_times",e[e.equ_get_list=45]="equ_get_list",e[e.item_get_list=46]="item_get_list",e[e.item_use_list=47]="item_use_list",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameFuncOpen.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"30d6eRHKS5Our7uwOFmqXKk","GameFuncOpen",void 0);e("GameFuncOpen",class{}),c._RF.pop()}}}));

System.register("chunks:///_virtual/GameGuide.ts",["cc","./App.ts","./GameData.ts","./GameEnum.ts","./UIGuide.ts"],(function(e){var t,i,n,u,s;return{setters:[function(e){t=e.cclegacy},function(e){i=e.App},function(e){n=e.GameData},function(e){u=e.EventKey},function(e){s=e.UIGuide}],execute:function(){t._RF.push({},"70db0oC+tNDkbOl0VjNPP7J","GameGuide",void 0);class d{constructor(){this._readyToGuide=!1}static get Inst(){return i.getSingleInst(d)}onInst(){this._readyToGuide=!1,i.event.on(u.ShowGuide,this.showGuide,this),i.event.on(u.OnGuideStart,(()=>{this._readyToGuide=!1}),this)}get nowGuide(){return s.Inst.nowGuide}get isGuide(){return this._readyToGuide||s.Inst.isGuide}isInGuide(e){return s.Inst.nowGuide==e}isGuideFinished(e){return n.Inst.guide.includes(e)}finisheGuide(e){n.Inst.guide.includes(e)||(n.Inst.guide.push(e),n.Inst.delaySave())}showGuide(e){}async checkShowGuide(){await this.checkShowWelcomeCartoon()}async checkShowWelcomeCartoon(){return!0}}e("GameGuide",d),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameInit.ts",["cc","./App.ts","./L10nMgr.ts","./GameDataPost.ts","./GameRedDot.ts"],(function(t){var n,i,a,e,s;return{setters:[function(t){n=t.cclegacy},function(t){i=t.App},function(t){a=t.L10nMgr},function(t){e=t.GameDataPost},function(t){s=t.GameRedDot}],execute:function(){n._RF.push({},"d94bbMD9dNFfpxDvfD12GbP","GameInit",void 0);t("GameInit",class{static async init(){e.Inst.initGameData(),s.Inst.init(),await a.init(),i.chan.initIAP()}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/GamePopUp.ts",["cc","./App.ts","./UIConstant.ts","./GameGuide.ts"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.cclegacy},function(t){i=t.App},function(t){s=t.UIConstant},function(t){n=t.GameGuide}],execute:function(){e._RF.push({},"915ae17NMFLq5U39BrXQNFH","GamePopUp",void 0);class c{constructor(){this._pause=!1}static get Inst(){return i.getSingleInst(c)}set pause(t){this._pause=t}initCheckList(){this._checkList=[],this._checkList.push(this.checkOfflineReward.bind(this))}checkPopUp(){if(this._pause)return!1;if(n.Inst.isGuide)return!1;if(!i.ui.isTopUI(s.UIHUD))return!1;this._checkList||this.initCheckList();for(const t of this._checkList)if(t())return!0;return!1}checkOfflineReward(){return!0}}t("GamePopUp",c),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameRedDot.ts",["cc","./App.ts","./RedDotMgr.ts"],(function(t){var e,i,a;return{setters:[function(t){e=t.cclegacy},function(t){i=t.App},function(t){a=t.RedDotMgr}],execute:function(){e._RF.push({},"190463uWbxNeJi297NAj9oS","GameRedDot",void 0);class n{static get Inst(){return i.getSingleInst(n)}init(){a.initRedDotTree(["Main","Main.Leaflet","Main.Staff","Main.Staff.StaffType1","Main.Staff.StaffType2","Main.Staff.StaffType3","Main.Build","Main.Build.BuildType1","Main.Build.BuildType2","Main.Build.BuildType3","Main.Build.BuildType4"]),this.initEvent(),this.updateRedDotValue()}initEvent(){}updateRedDotValue(){this.updateLeafletRedDotValue()}updateLeafletRedDotValue(){}}t("GameRedDot",n),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameTable.ts",["cc","./AssetMgr.ts","./SingletonFactory.ts","./Types.ts"],(function(t){var e,n,s,a,c;return{setters:[function(t){e=t.JsonAsset,n=t.cclegacy},function(t){s=t.AssetMgr},function(t){a=t.SingletonFactory},function(t){c=t.Tables}],execute:function(){n._RF.push({},"a4e24kt7GRMq4SnSSgZSBKi","GameTable",void 0);class i{constructor(){this.Table=null}static get Inst(){return a.getInstance(i)}async initData(){let t="table",n=await s.loadDirAsset(t,e),a=new Map;for(let t of n)a.set(t.name,t);this.Table=new c((t=>{var e;return null==(e=a.get(t))?void 0:e.json})),s.DecDirRef(t)}}t("default",i),n._RF.pop()}}}));

System.register("chunks:///_virtual/GameTask.ts",["cc","./App.ts","./GameData.ts","./GameEnum.ts"],(function(t){var e,s,a,n;return{setters:[function(t){e=t.cclegacy},function(t){s=t.App},function(t){a=t.GameData},function(t){n=t.EventKey}],execute:function(){e._RF.push({},"2363flhaFNBj691NKfFbfyA","GameTask",void 0);let i=t("TaskState",function(t){return t[t.None=0]="None",t[t.CanGet=1]="CanGet",t[t.Started=2]="Started",t[t.Complete=3]="Complete",t[t.Finished=4]="Finished",t}({}));class r{constructor(){this.progress=[],this.state=i.None}}t("TaskItemSO",r);t("TaskTargetType",function(t){return{}}());t("GameTask",class{initTask(){}takeTask(t){if(null==a.Inst.task.find((e=>e.id==t))){var e=this.genTaskItemSO(t);null!=e&&(a.Inst.task.push(e),this.saveTaskInfo())}}genTaskItemSO(t){var e=new r;return e.id=t,e.targetType=1,e.state=i.Started,e.progress.push(0),e}giveUpTask(t){var e=a.Inst.task.findIndex((e=>e.id==t));e>-1&&(a.Inst.task.splice(e,1),this.saveTaskInfo())}finishTask(t){null!=t&&t.state==i.Complete&&(t.state=i.Finished,this.saveTaskInfo())}updateTaskProgress(t,e=1,s=1){0!=a.Inst.task.filter((e=>e.state!=i.Complete&&e.state!=i.Finished&&e.targetType==t)).length&&this.saveTaskInfo()}isTaskComplete(t){return t.state==i.Complete}isTaskFinished(t){return t.state==i.Finished}saveTaskInfo(){a.Inst.delaySave(),s.event.emit(n.OnTaskChange)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameTemp.ts",["cc","./App.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.App}],execute:function(){t._RF.push({},"51f29F89hxHo6Rr+HvKFN12","GameTemp",void 0);class c{static get Inst(){return n.getSingleInst(c)}}e("GameTemp",c),t._RF.pop()}}}));

System.register("chunks:///_virtual/GenProperty.ts",["cc"],(function(e){var r,t,c;return{setters:[function(e){r=e.cclegacy,t=e.Component,c=e._decorator}],execute:function(){var n;r._RF.push({},"4873a/4xyxCj6bFv3/MJqID","GenProperty",void 0);const{ccclass:o,property:s}=c;e("GenProperty",o("GenProperty")(n=class extends t{})||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/GuideMask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MEvent.ts","./HollowOut.ts"],(function(t){var e,o,l,i,n,s,r,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){l=t.cclegacy,i=t.Sprite,n=t._decorator,s=t.Component},function(t){r=t.MEvent},function(t){c=t.HollowOut}],execute:function(){var u,a,h,p,w;l._RF.push({},"278cbjIVg1LPqaMasPgoErs","GuideMask",void 0);const{ccclass:g,property:_,requireComponent:d}=n;t("EMaskHollowType",function(t){return t[t.Rect=1]="Rect",t[t.Circle=2]="Circle",t}({})),t("GuideMask",(u=d(i),a=_(c),g(h=u((w=e((p=class extends s{constructor(...t){super(...t),o(this,"hollowOut",w,this),this._hollowTargetRect=null,this._eventTarget=null,this._canClick=!1,this._isTweenHollow=!1,this.onEventTargetInvalid=new r}onLoad(){this.hollowOut=this.getComponent(c),this.reset()}reset(){this.hollowOut.reset()}hollow(t,e,o,l,i=.25){this._canClick=!0,this._isTweenHollow=!0,this._eventTarget=o||e,this.hollow2(t,e,l,i)}hollow2(t,e,o,l=.25){}}).prototype,"hollowOut",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h)||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuidePrefab.ts",["cc","./MEvent.ts"],(function(e){var t,n,s;return{setters:[function(e){t=e.cclegacy,n=e.Component},function(e){s=e.MEvent}],execute:function(){t._RF.push({},"10397TxYylKNr/BW74+xWp6","GuidePrefab",void 0);e("GuidePrefab",class extends n{constructor(...e){super(...e),this.onClose=new s}close(){this.onClose.dispatch()}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/GuideTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,i,n,s,r,p,o,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,r=t._decorator,p=t.Component,o=t.Label},function(t){c=t.App}],execute:function(){var l,u,a,T;n._RF.push({},"bec8564OylGJ5onjZyrp8Tj","GuideTips",void 0);const{ccclass:h,property:d}=r;t("default",(l=d(s),h((T=e((a=class t extends p{constructor(...t){super(...t),i(this,"c_TipText1",T,this),this._tipText1=null}onLoad(){t.Inst=this,this.init()}init(){this._tipText1=this.c_TipText1.getComponentInChildren(o),this.setTipText1Visible(!1)}setTipText1Visible(t){this._tipText1.string=c.l10n.getStringByKey("GuideText_076"),this.c_TipText1.active=t}}).prototype,"c_TipText1",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=a))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/HHHHH.ts",["cc","./UIBase.ts"],(function(H){var e,t,c;return{setters:[function(H){e=H.cclegacy,t=H._decorator},function(H){c=H.UIBase}],execute:function(){var s;e._RF.push({},"62a74olbexL+ovOMrnw/t8b","HHHHH",void 0);const{ccclass:o,property:n}=t;H("HHHHH",o("HHHHH")(s=class extends c{onLoad(){super.onLoad()}})||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/HollowOut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(t){var e,i,r,s,h,o,n,p,a,u,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.Sprite,h=t.EffectAsset,o=t.Enum,n=t._decorator,p=t.Component,a=t.Tween,u=t.tween,l=t.v2},function(t){c=t.DEV}],execute:function(){var d,_,g,f,y,w,b,P,m,R,O,z,C,D,v,H,j,F,S,x;r._RF.push({},"0bca20BHn9JxZAWMH7xuByn","HollowOut",void 0);const{ccclass:A,property:k,requireComponent:B,executeInEditMode:M,disallowMultiple:T,executionOrder:E}=n;let W=t("HollowOutShape",function(t){return t[t.Rect=1]="Rect",t[t.Circle=2]="Circle",t}({}));t("HollowOut",(d=B(s),_=E(-100),g=k({type:h,tooltip:c,readonly:!0}),f=k({type:o(W),tooltip:c}),y=k({tooltip:c}),w=k({tooltip:c,visible(){return this.shape===W.Rect}}),b=k({tooltip:c,visible(){return this.shape===W.Rect}}),P=k({tooltip:c,visible(){return this.shape===W.Rect}}),m=k({tooltip:c,visible(){return this.shape===W.Circle}}),R=k({tooltip:c,visible(){return this.shape===W.Circle||this.round>0}}),A(O=d(O=M(O=T(O=_((C=e((z=class extends p{constructor(...t){super(...t),i(this,"_effect",C,this),i(this,"_shape",D,this),i(this,"_center",v,this),i(this,"_width",H,this),i(this,"_height",j,this),i(this,"_round",F,this),i(this,"_radius",S,this),i(this,"_feather",x,this),this.sprite=null,this.material=null,this.tweenRes=null}get effect(){return this._effect}set effect(t){this._effect=t,this.init()}get shape(){return this._shape}set shape(t){this._shape=t,this.updateProperties()}get center(){return this._center}set center(t){this._center=t,this.updateProperties()}get width(){return this._width}set width(t){this._width=t,this.updateProperties()}get height(){return this._height}set height(t){this._height=t,this.updateProperties()}get round(){return this._round}set round(t){this._round=t,this.updateProperties()}get radius(){return this._radius}set radius(t){this._radius=t,this.updateProperties()}get feather(){return this._feather}set feather(t){this._feather=t,this.updateProperties()}onLoad(){this.init()}async init(){this._effect&&(this.sprite=this.node.getComponent(s),this.sprite.spriteFrame&&(this.sprite.spriteFrame.packable=!1),this.updateProperties())}updateProperties(){switch(this._shape){case W.Rect:this.rect(this._center,this._width,this._height,this._round,this._feather);break;case W.Circle:this.circle(this._center,this._radius,this._feather)}}rect(t,e,i,r,s){if(this._shape=W.Rect,null!==t&&(this._center=t),null!==e&&(this._width=e),null!==i&&(this._height=i),null!==r){this._round=r>=0?r:0;const t=Math.min(this._width/2,this._height/2);this._round=this._round<=t?this._round:t}null!==s&&(this._feather=s>=0?s:0,this._feather=this._feather<=this._round?this._feather:this._round),this.material.setProperty("size",this.getNodeSize()),this.material.setProperty("center",this.getCenter(this._center)),this.material.setProperty("width",this.getWidth(this._width)),this.material.setProperty("height",this.getHeight(this._height)),this.material.setProperty("round",this.getRound(this._round)),this.material.setProperty("feather",this.getFeather(this._feather))}circle(t,e,i){this._shape=W.Circle,null!==t&&(this._center=t),null!==e&&(this._radius=e),null!==i&&(this._feather=i>=0?i:0),this.material.setProperty("size",this.getNodeSize()),this.material.setProperty("center",this.getCenter(this._center)),this.material.setProperty("width",this.getWidth(2*this._radius)),this.material.setProperty("height",this.getHeight(2*this._radius)),this.material.setProperty("round",this.getRound(this._radius)),this.material.setProperty("feather",this.getFeather(this._feather))}rectTo(t,e,i,r,s=0,h=0){return new Promise((o=>{a.stopAllByTarget(this),this.unscheduleAllCallbacks(),this.tweenRes&&this.tweenRes(),this.tweenRes=o,s>i/2&&(s=i/2),s>r/2&&(s=r/2),h>s&&(h=s),this._shape=W.Rect,u(this).to(t,{center:e,width:i,height:r,round:s,feather:h}).call((()=>{this.scheduleOnce((()=>{this.tweenRes&&(this.tweenRes(),this.tweenRes=null)}))})).start()}))}circleTo(t,e,i,r=0){return new Promise((s=>{a.stopAllByTarget(this),this.unscheduleAllCallbacks(),this.tweenRes&&this.tweenRes(),this.tweenRes=s,this._shape=W.Circle,u(this).to(t,{center:e,radius:i,feather:r}).call((()=>{this.scheduleOnce((()=>{this.tweenRes&&(this.tweenRes(),this.tweenRes=null)}))})).start()}))}reset(){this.rect(l(),0,0,0,0)}nodeSize(){}getCenter(t){return l(0,0)}getNodeSize(){return l(0,0)}getWidth(t){return 1}getHeight(t){return 1}getRound(t){return 1}getFeather(t){return 1}}).prototype,"_effect",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(z.prototype,"effect",[g],Object.getOwnPropertyDescriptor(z.prototype,"effect"),z.prototype),D=e(z.prototype,"_shape",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.Rect}}),e(z.prototype,"shape",[f],Object.getOwnPropertyDescriptor(z.prototype,"shape"),z.prototype),v=e(z.prototype,"_center",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l()}}),e(z.prototype,"center",[y],Object.getOwnPropertyDescriptor(z.prototype,"center"),z.prototype),H=e(z.prototype,"_width",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),e(z.prototype,"width",[w],Object.getOwnPropertyDescriptor(z.prototype,"width"),z.prototype),j=e(z.prototype,"_height",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),e(z.prototype,"height",[b],Object.getOwnPropertyDescriptor(z.prototype,"height"),z.prototype),F=e(z.prototype,"_round",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(z.prototype,"round",[P],Object.getOwnPropertyDescriptor(z.prototype,"round"),z.prototype),S=e(z.prototype,"_radius",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),e(z.prototype,"radius",[m],Object.getOwnPropertyDescriptor(z.prototype,"radius"),z.prototype),x=e(z.prototype,"_feather",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),e(z.prototype,"feather",[R],Object.getOwnPropertyDescriptor(z.prototype,"feather"),z.prototype),O=z))||O)||O)||O)||O)||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["cc","./MLogger.ts"],(function(e){var t,s,a,i;return{setters:[function(e){t=e.cclegacy,s=e.sys,a=e.native},function(e){i=e.MLogger}],execute:function(){t._RF.push({},"5e9a0c6JgNOF4mNQHfzII7G","HotUpdate",void 0);let r=e("EHotUpdateState",function(e){return e[e.CheckUpdate=0]="CheckUpdate",e[e.DownloadFiles=1]="DownloadFiles",e[e.Finished=2]="Finished",e}({})),n=e("EHotUpdateResult",function(e){return e[e.UpToDate=0]="UpToDate",e[e.ManifestError=1]="ManifestError",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e}({}));class o{constructor(){this._logger=new i("HotUpdate"),this._manifest=null,this._updating=!1,this._failCount=3}static get Inst(){return this.inst||(this.inst=new o)}start(e,t,i,n,o){if(!s.isNative)return void this._logger.warn("非原生环境");this._manifest=e,this._version=t,this._onStateChange=i,this._onDownloadProgress=n,this._onComplete=o;let g=(a.fileUtils?a.fileUtils.getWritablePath():"/")+"miles_remote_asset";this._logger.print("热更新资源存放路径："+g),this._onStateChange(r.CheckUpdate),this._assetsMgr=new jsb.AssetsManager("",g,this.versionCompareHandle.bind(this)),this._assetsMgr.setVerifyCallback(this.VerifyHandle.bind(this)),this.checkUpdate()}versionCompareHandle(e,t){return this._logger.print("客户端版本: "+e+", 当前最新版本: "+t),e!=t?-1:0}VerifyHandle(e,t){let{compressed:s}=t;return!0}checkUpdate(){if(this._logger.debug("检查更新"),!this._updating){if(this._assetsMgr.getState()===jsb.AssetsManager.State.UNINITED){let e=this._manifest.nativeUrl;this._assetsMgr.loadLocalManifest(e)}if(!this._assetsMgr.getLocalManifest()||!this._assetsMgr.getLocalManifest().isLoaded())return this._logger.error("加载本地project.manifest文件失败"),void this.onUpdateComplete(n.ManifestError);this._logger.debug("搜索路径:",JSON.stringify(this._assetsMgr.getLocalManifest().getSearchPaths())),this._assetsMgr.setEventCallback(this.checkUpdateCb.bind(this)),this._assetsMgr.checkUpdate()}}downloadFiles(){this._onStateChange(r.DownloadFiles),this._logger.debug("下载更新"),this._updating||(this._assetsMgr.setEventCallback(this.downloadFilesCb.bind(this)),this._assetsMgr.update(),this._updating=!0)}checkUpdateCb(e){switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this._logger.error("manifest文件异常 ERROR_NO_LOCAL_MANIFEST",e.getMessage()),this.onUpdateComplete(n.ManifestError);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:this._logger.error("manifest文件异常 ERROR_DOWNLOAD_MANIFEST",e.getMessage()),this.onUpdateComplete(n.ManifestError);break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this._logger.error("manifest文件异常 ERROR_PARSE_MANIFEST",e.getMessage()),this.onUpdateComplete(n.ManifestError);break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this._logger.debug("发现新版本，准备下载"),this.downloadFiles();break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this._logger.debug("已经是最新版本"),this.onUpdateComplete(n.UpToDate);break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this._logger.debug("下载清单文件进度",e.getDownloadedFiles(),e.getTotalFiles());break;default:this._logger.debug("checkUpdateCb 未处理的情况",e.getEventCode(),e.getMessage())}}downloadFilesCb(e){switch(e.getEventCode()){case jsb.EventAssetsManager.UPDATE_PROGRESSION:this._logger.debug(`下载更新文件进度 ：${e.getDownloadedFiles()} / ${e.getTotalFiles()} `),this._onDownloadProgress(e.getDownloadedFiles(),e.getTotalFiles());break;case jsb.EventAssetsManager.ASSET_UPDATED:break;case jsb.EventAssetsManager.UPDATE_FINISHED:this._logger.debug("更新完成",e.getMessage()),this.onUpdateComplete(n.Success);break;case jsb.EventAssetsManager.UPDATE_FAILED:this._logger.debug("更新失败",e.getMessage()),this._updating=!1,this._failCount--,this._failCount>=0?this.downloadFiles():this.onUpdateFail();break;case jsb.EventAssetsManager.ERROR_UPDATING:this._logger.error("更新出错 ERROR_UPDATING",e.getMessage()),this.onUpdateFail();break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this._logger.error("更新出错 ERROR_DECOMPRESS",e.getMessage()),this.onUpdateFail();break;default:this._logger.debug("downloadFilesCb 未处理的情况",e.getEventCode(),e.getMessage())}}onUpdateComplete(e){if(this._onStateChange(r.Finished),e==n.Success){let e=a.fileUtils.getSearchPaths(),t=this._assetsMgr.getLocalManifest().getSearchPaths();this._logger.debug(`搜索路径 k=${this._version} v=${JSON.stringify(t)}`),Array.prototype.unshift.apply(e,t),s.localStorage.setItem(this._version,JSON.stringify(e)),a.fileUtils.setSearchPaths(e)}this._assetsMgr.setEventCallback(null),this._onComplete(e)}onUpdateFail(){this._assetsMgr.setEventCallback(null),this._onComplete(n.Fail)}}e("HotUpdate",o),t._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["cc","./MLogger.ts"],(function(t){var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.MLogger}],execute:function(){e._RF.push({},"c010d4dvrNLcb2AeX1F7+od","HttpRequest",void 0);t("HttpRequest",class{static async request(t,e={}){let r=await this.requestXHR(t,e);return r?r.responseText:null}static async requestObject(t,e={}){let s=await this.requestXHR(t,e);if(s)try{return JSON.parse(s.responseText)}catch(t){r.error(t)}return null}static async requestXHR(t,e={}){let{method:s,data:n,timeout:a}=e;return n&&(n="object"==typeof n?JSON.stringify(n):n.toString()),s=s||"GET",a=a||5e3,new Promise(((e,u)=>{let o=new XMLHttpRequest;o.timeout=a,o.ontimeout=()=>{r.error(t+" timeout"),e(null)},o.onabort=()=>{r.error(t+" user abort"),e(null)},o.onerror=()=>{r.error(t+" network error"),e(null)},o.onreadystatechange=()=>{4==o.readyState&&(o.status>=200&&o.status<400?e(o):e(null))},o.open(s,t,!0),n&&o.setRequestHeader("Content-Type","application/json"),o.send(n)}))}static async requestRepeat(t,e,r,s,n={}){r-=1;Date.now();let a=await this.request(t,n);Date.now();return e(a)?a:r>0?await this.requestRepeat(t,e,r,s,n):a}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/IL10n.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"bf38d06H19Ga6Y9ftXM5s8/","IL10n",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/L10n.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AssetHandler.ts","./CCUtil.ts","./MLogger.ts"],(function(e){var t,i,n,o,l,r,s,a,u,c,p,h,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Enum,l=e.Node,r=e._decorator,s=e.Component,a=e.Label,u=e.RichText,c=e.Sprite},function(e){p=e.App},function(e){h=e.AssetHandler},function(e){f=e.CCUtils},function(e){d=e.MLogger}],execute:function(){var y,g,b,m,S,v,w,L,N,z,C,F,M,k,x,A,H,R,_,B;n._RF.push({},"09960U+78RK84QxxiRvwB7l","L10n",void 0);const{ccclass:D,property:P,menu:K}=r,U=o({Single:0,Multiple:1});let V=(y=D("L10nNode"),g=P({type:l,displayName:"简体"}),b=P({type:l,displayName:"繁体"}),m=P({type:l,displayName:"英文"}),y((w=t((v=class{constructor(){i(this,"sc",w,this),i(this,"tc",L,this),i(this,"en",N,this)}}).prototype,"sc",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(v.prototype,"tc",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(v.prototype,"en",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S);e("L10n",(z=K("MLib/Localization"),C=P({tooltip:"文本组件为语言表中的key，图片组件为图片名字"}),F=P({type:U,tooltip:"Single:单节点(所有语言共用同一节点)\nMultiple:多节点(每种语言对应一个节点)"}),M=P({type:V,tooltip:"每种语言对应的节点",visible:function(){return this.type==U.Multiple}}),k=P({tooltip:"是否需要在切换语言的时候切换字体"}),D(x=z((H=t((A=class extends s{constructor(...e){super(...e),i(this,"key",H,this),i(this,"type",R,this),i(this,"multipleNode",_,this),i(this,"needSwitchFont",B,this),this.args=[]}onLoad(){p.l10n.add(this),this.assetHandler=f.getComponentInParent(this.node,h),this.refreshContent()}onDestroy(){p.l10n.remove(this)}setStringArgs(...e){this.args=e,this.refreshContent()}refreshContent(){if(!this.isValid)return;let e;if(this.type==U.Single)e=this.node;else if(this.multipleNode)for(const t in this.multipleNode){let i=this.multipleNode[t];null!=i&&i.isValid&&(i.active=t==p.lang,i.active&&(e=this.multipleNode[p.lang]))}if(e)for(const t of e._components){if(t instanceof a||t instanceof u){if(this.needSwitchFont){let e=p.l10n.getFont();e?(t.useSystemFont=!1,t.font=e):(t.useSystemFont=!0,t.font=void 0),t.enabled=!1,this.scheduleOnce((()=>{t.enabled=!0}))}return void p.l10n.setStringByKey(t,this.key,...this.args)}if(t instanceof c)return void p.l10n.setSpriteFrameByKey(t,this.key,this.assetHandler)}else d.warn(`Localization ${p.lang} 节点不存在 ${f.getNodePath(this.node)}`)}}).prototype,"key",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=t(A.prototype,"type",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.Single}}),_=t(A.prototype,"multipleNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(A.prototype,"needSwitchFont",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=A))||x)||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/L10nMgr.ts",["cc","./MLogger.ts","./AssetMgr.ts","./App.ts","./GameTable.ts","./Utils.ts"],(function(t){var a,e,s,i,n,l,g,r,o;return{setters:[function(t){a=t.cclegacy,e=t.Font,s=t.TTFFont,i=t.Sprite},function(t){n=t.MLogger},function(t){l=t.AssetMgr},function(t){g=t.App},function(t){r=t.default},function(t){o=t.Utils}],execute:function(){a._RF.push({},"babc8NOzMhNX5oNk9VUPb/Z","L10nMgr",void 0);class h{}class d{static get fontPath(){return`${g.lang}/font`}static async init(){this.clear(),await this.loadFont()}static async switchLanguage(){await this.loadFont(),this.reload()}static add(t){this.unmanagedList.add(t)}static remove(t){this.unmanagedList.delete(t)}static cancelManaged(t){this.managedMap.delete(t)}static clear(){var t,a;this.unmanagedList.clear(),this.managedMap.clear(),(null==(t=this.lastFont)?void 0:t.isValid)&&this.lastFont.destroy(),(null==(a=this.font)?void 0:a.isValid)&&this.font.destroy(),this.lastFont=null,this.font=null}static getFont(){return this.font}static async loadFont(){var t,a;this.lastFont=this.font,l.isAssetExists(this.fontPath)?this.font=await l.loadAsset(this.fontPath,e):l.isAssetExists(this.fontPath)?this.font=await l.loadAsset(this.fontPath,s):this.font=null,null!=(t=this.lastFont)&&t.isValid&&null!=(a=this.font)&&a.isValid&&this.lastFont!=this.font&&(this.lastFont.destroy(),this.lastFont=null)}static reload(){let t=[];this.managedMap.forEach(((a,e)=>{e.isValid?e instanceof i?this.setSpriteFrameByKey(e,a.key,a.assetHandler):a.delegate?this.setStringByDelegate(e,a.delegate):this.setStringByKey(e,a.key,...a.args):t.push(e)})),t.forEach((t=>{this.managedMap.delete(t)})),this.unmanagedList.forEach((t=>{t.refreshContent()}))}static setStringAndManage(t,a,...e){let s=this.managedMap.get(t)||new h;s.key=a,s.args=e,this.managedMap.set(t,s),this.setStringByKey(t,a,...e)}static setStringByDelegateAndManage(t,a){let e=this.managedMap.get(t)||new h;e.delegate=a,this.managedMap.set(t,e),this.setStringByDelegate(t,a)}static setSpriteFrameAndManage(t,a,e){let s=this.managedMap.get(t)||new h;s.key=a,s.assetHandler=e,this.managedMap.set(t,s),this.setSpriteFrameByKey(t,a,e)}static setStringByKey(t,a,...e){t.string=this.getStringByKey(a,...e)||t.string}static setStringByDelegate(t,a){t.string=a()}static setSpriteFrameByKey(t,a,e){let s=`${g.lang}/${a}`;null!=e&&e.isValid?e.loadSprite(t,s):l.loadSprite(t,s)}static getStringByKey(t,...a){let e=r.Inst.Table.TbLocalization.get(t);return e?o.formatString(e[g.lang],...a):(n.error(`key=${t} Lang=${g.lang}  在语言表中无对应内容`),"")}static getImagePathByKey(t){return`${g.lang}/${t}`}}t("L10nMgr",d),d.unmanagedList=new Set,d.managedMap=new Map,a._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AssetMgr.ts","./MLogger.ts","./HttpRequest.ts","./HotUpdate.ts","./UIConstant.ts","./GameConfig.ts","./GameData.ts","./GameGuide.ts","./GameInit.ts","./GameTable.ts"],(function(e){var t,s,i,a,n,o,r,c,g,l,d,u,h,p,f,m,b,C,w,U,D,G,y,P,_,L,k,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.ProgressBar,n=e.Label,o=e._decorator,r=e.Component,c=e.UIOpacity,g=e.v3,l=e.TextAsset,d=e.sys,u=e.Asset,h=e.tween,p=e.game},function(e){f=e.App,m=e.EGameConfigType},function(e){b=e.AssetMgr},function(e){C=e.MLogger},function(e){w=e.HttpRequest},function(e){U=e.HotUpdate,D=e.EHotUpdateState,G=e.EHotUpdateResult},function(e){y=e.UIConstant},function(e){P=e.GameConfig},function(e){_=e.GameData},function(e){L=e.GameGuide},function(e){k=e.GameInit},function(e){T=e.default}],execute:function(){var v,I,R,S,A,F,B,H,x,z,M;i._RF.push({},"8fde07ManJA8Yhp/5E9G9EA","Loading",void 0);const{ccclass:N,property:j}=o;e("Loading",(v=N("Loading"),I=j(a),R=j(n),S=j(n),A=j(n),v((H=t((B=class extends r{constructor(...e){super(...e),s(this,"m_progressBar",H,this),s(this,"m_lblDesc",x,this),s(this,"m_lblProgress",z,this),s(this,"m_versionsNum",M,this),this.fakeProgressObj={value:0}}start(){this.node.getComponent(c).opacity=255,this.node.setScale(g(1,1)),this.loadCfg(!0),this.m_versionsNum.string=f.config.channel+"_"+f.config.version}async loadCfg(e=!1){if(e&&this.setTips(E.Config),f.config.gameConfigType==m.Local){let e=await b.loadAsset("GameConfig",l);P.deserialize(e.text),b.DecRef("GameConfig"),this.checkVersion()}else{let e=await w.requestRepeat(f.config.gameConfigUrl+"?"+Date.now(),(e=>e),3,1);e?(P.deserialize(e),this.checkVersion()):(C.error(`加载配置失败 Url=${f.config.gameConfigUrl}`),f.ui.showToast(this.getText(E.ConfigFail)),this.loadCfg())}}async checkVersion(){if(f.config.hotupdate&&P.rg&&d.isNative){let e=await b.loadAsset("project",u);if(e)return void U.Inst.start(e,f.config.mainVersion,this.onUpdateStateChange.bind(this),this.onUpdateDownloadProgress.bind(this),this.onUpdateComplete.bind(this));C.error("加载清单文件失败")}this.login()}login(){f.chan.login({success:e=>{C.debug("登录成功",e),f.chan.userId=e,this.syncGameData()},fail:e=>{C.error("登录失败",e)}})}syncGameData(){f.chan.getGameData({userId:f.chan.userId,success:e=>{if(C.debug("获取数据成功",e),100==e.code&&e.data){let t=e.data;1e3*t.updateTime>_.Inst.time?(C.debug("使用云存档"),_.Inst.replaceGameData(t.data),_.clear()):C.debug("使用本地存档")}else C.debug("无云存档数据");this.loadRes()},fail:()=>{C.error("获取数据失败"),this.loadRes()}})}async loadRes(){C.debug("加载游戏紫苑"),this.setTips(E.LoadGameRes),await b.loadAllBundle(),C.debug("加载游戏紫苑1"),await T.Inst.initData(),C.debug("加载游戏紫苑2"),await f.ui.init(),await k.init(),this.setTips(E.LoadScene,2),this.onProgress(1,1),await L.Inst.checkShowGuide(),await f.ui.show(y.UIHUD),this.node.destroy()}setTips(e,t=1){let s=this.getText(e);this.m_lblDesc&&(this.m_lblDesc.string=s||""),this.m_progressBar&&(this.m_progressBar.progress=0),this.startFakeProgress(t)}onProgress(e,t){if(this.m_progressBar){let s=e/t;if(s=isNaN(s)?0:s,this.m_progressBar.progress>s)return;this.m_progressBar.progress=s,this.m_lblProgress&&(this.m_lblProgress.string=Math.round(100*s)+"%")}}startFakeProgress(e){this.fakeProgressTween&&this.fakeProgressTween.stop(),h(4).to(2,1),this.fakeProgressTween=h(this.fakeProgressObj).to(e,{value:1},{progress:(e,t,s,i)=>{let a=e+(t-e)*i;return this.onProgress(a,t),a}}),this.fakeProgressObj.value=0,this.fakeProgressTween.start()}onUpdateStateChange(e){switch(e){case D.CheckUpdate:this.setTips(E.CheckUpdate,.15);break;case D.DownloadFiles:this.setTips(E.DownloadUpdate);break;case D.Finished:this.setTips(E.UpdateFinished)}}onUpdateDownloadProgress(e,t){this.onProgress(e,t)}onUpdateComplete(e){C.print("HotUpdate ResultCode = ",G[e]),e==G.Success?p.restart():e==G.Fail?f.ui.showConfirm("版本更新失敗，請檢查網絡是否正常，重新嘗試更新!",1,(()=>{p.restart()})):this.login()}getText(e){return e?e[f.lang]:""}}).prototype,"m_progressBar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(B.prototype,"m_lblDesc",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(B.prototype,"m_lblProgress",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(B.prototype,"m_versionsNum",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=B))||F));const E={Config:{sc:"加载配置中",tc:"加載配置中",en:"Loading Config"},ConfigFail:{sc:"加载配置失败,请检查网络",tc:"加載配置失敗,請檢查網絡",en:"Loading configuration failed, please check the network"},CheckUpdate:{sc:"检查更新中",tc:"加載配置中",en:"Loading Config"},DownloadUpdate:{sc:"下载更新中",tc:"加載配置中",en:"Loading Config"},UpdateFinished:{sc:"更新完成",tc:"加載配置中",en:"Loading Config"},Login:{sc:"登录中",tc:"登錄中",en:"Login"},SyncGameData:{sc:"数据同步中",tc:"數據同步中",en:"Sync PlayerData"},LoadGameRes:{sc:"加载游戏资源",tc:"加載遊戲資源",en:"Loading GameData"},LoadScene:{sc:"加载场景",tc:"加載場景",en:"Loading Scene"}};i._RF.pop()}}}));

System.register("chunks:///_virtual/LZString.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"3b757HRRptBzqMdDjkAo3st","LZString",void 0);t("LZString",class{static compressToUTF16(t){return globalThis.LZString.compressToUTF16(t)}static decompressFromUTF16(t){return globalThis.LZString.decompressFromUTF16(t)}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./NewComponent.ts","./App.ts","./AspectFitter.ts","./AssetHandler.ts","./ButtonHelper.ts","./PageViewHelper.ts","./SafeArea.ts","./SpecialNode.ts","./Switch.ts","./Togglehelper.ts","./UIItem.ts","./PoolMgr.ts","./StroageMgr.ts","./TimeMgr.ts","./PlayerInventory.ts","./PlayerTask.ts","./AssetCache.ts","./AssetMgr.ts","./BundleMgr.ts","./AudioMgr.ts","./AudioState.ts","./SortedMap.ts","./EventMgr.ts","./MEvent.ts","./IL10n.ts","./L10n.ts","./L10nMgr.ts","./MLogger.ts","./HttpRequest.ts","./SocketConnect.ts","./UIBase.ts","./UIMgr.ts","./GenProperty.ts","./PropertyBase.ts","./RedDot.ts","./RedDotMgr.ts","./Channel.ts","./MCloudData.ts","./MCloudDataSDK.ts","./MResponse.ts","./MSDKWrapper.ts","./LZString.ts","./CCUtil.ts","./HotUpdate.ts","./SingletonFactory.ts","./Utils.ts","./GameConfig.ts","./GameContanst.ts","./GameData.ts","./GameDataEntity.ts","./GameDataPost.ts","./GameEnum.ts","./GameFuncOpen.ts","./GameGuide.ts","./GameInit.ts","./GamePopUp.ts","./GameRedDot.ts","./GameTable.ts","./GameTask.ts","./GameTemp.ts","./PlayerData.ts","./ShopUtil.ts","./Publish.ts","./WeChatMiniGame.ts","./Loading.ts","./UIHUD.ts","./UITTT.ts","./UITipMsg.ts","./GuideMask.ts","./GuidePrefab.ts","./GuideTips.ts","./HollowOut.ts","./UIGuide.ts","./UnforcedGuide.ts","./UIConstant.ts","./NewComponentProperty.ts","./UIHUDProperty.ts","./Types.ts","./HHHHH.ts","./UITestLocalization.ts","./Test.ts","./UIAudioMgr.ts","./UIButtonHelper.ts","./UIA.ts","./UIB.ts","./UIC.ts","./UIGuideTest1.ts","./UIGuideTest2.ts","./UIPopUp.ts","./UIUIMgr.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MCloudData.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"64409DD23dLyLMNqmvpqsEn","MCloudData",void 0);t("MCloudData",class{}),c._RF.pop()}}}));

System.register("chunks:///_virtual/MCloudDataSDK.ts",["cc","./App.ts","./HttpRequest.ts"],(function(t){var a,e,s;return{setters:[function(t){a=t.cclegacy},function(t){e=t.App},function(t){s=t.HttpRequest}],execute:function(){a._RF.push({},"4f40coLrb9LAoOa9TnSzjxG","MCloudDataSDK",void 0);class c{static get GameCode(){return this.code||(this.code=e.config.projectName+"_"+e.config.channel),this.code}static async saveGameData(t,a,e,c=""){let o=this.DataHost+"/savedata",i={uid:t,key:a,data:e,commit:c};return await s.requestObject(o,{method:"POST",data:i})}static async delGameData(t,a){let e=this.DataHost+"/deldata",c={uid:t,key:a};return await s.requestObject(e,{method:"POST",data:c})}static async getGameData(t,a){let e=this.DataHost+"/getdata",c={uid:t,key:a};return await s.requestObject(e,{method:"POST",data:c})}static async getGameDatas(t){let a=this.DataHost+"/getdatas",e={uid:t};return await s.requestObject(a,{method:"POST",data:e})}static reportEvent(t,a,e=""){t=t;let c={gameCode:this.GameCode,eventName:t,param:e,sum:a};s.request(this.EventHost,{method:"POST",data:c})}}t("MCloudDataSDK",c),c.EventHost="https://zeroplay.cn/gevent/reportevt",c.DataHost="https://zeroplay.cn/gdata/gamedata",a._RF.pop()}}}));

System.register("chunks:///_virtual/MEvent.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"43e84/ObDhLM57sSUioOy1z","MEvent",void 0);e("MEvent",class{constructor(){this.eventHandlers=[]}addListener(e,t,s=!1){this.eventHandlers.find((s=>s.func==e&&s.thisObj==t))||this.eventHandlers.push({func:e,thisObj:t,disposable:s})}removeListener(e,t){let s=this.eventHandlers.findIndex((s=>s.func==e&&s.thisObj==t));s>-1&&this.eventHandlers.splice(s,1)}removeAllListeners(){this.eventHandlers.length=0}dispatch(...e){this.eventHandlers.concat().forEach((t=>{t.disposable&&this.removeListener(t.func,t.thisObj),t.func&&t.func.apply(t.thisObj,e)}))}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/MLogger.ts",["cc"],(function(o){var n;return{setters:[function(o){n=o.cclegacy}],execute:function(){n._RF.push({},"aa5a3/FxtRE+7ZUhoSQZcu1","MLogger",void 0);let e=o("ELoggerLevel",function(o){return o[o.Info=0]="Info",o[o.Debug=1]="Debug",o[o.Warn=2]="Warn",o[o.Error=3]="Error",o}({}));class l{static setLevel(o){this.info=o>e.Info?this.none:console.log.bind(console,`[${this.globalTag} Info]`),this.debug=o>e.Debug?this.none:console.log.bind(console,`[${this.globalTag} Debug]`),this.warn=o>e.Warn?this.none:console.warn.bind(console,`[${this.globalTag} Warn]`),this.error=o>e.Error?this.none:console.error.bind(console,`[${this.globalTag} Error]`),this.print=console.log.bind(console,`[${this.globalTag} Print]`),this.trace=console.trace.bind(console,`[${this.globalTag} Trace]`)}static none(...o){}constructor(o,n=e.Info){this.info=l.globalLevel>e.Info||n>e.Info?l.none:console.log.bind(console,`[${l.globalTag} ${o} Info]`),this.debug=l.globalLevel>e.Debug||n>e.Debug?l.none:console.log.bind(console,`[${l.globalTag} ${o} Debug]`),this.warn=l.globalLevel>e.Warn||n>e.Warn?l.none:console.warn.bind(console,`[${l.globalTag} ${o} Warn]`),this.error=l.globalLevel>e.Error||n>e.Error?l.none:console.error.bind(console,`[${l.globalTag} ${o} Error]`),this.print=console.log.bind(console,`[${l.globalTag} ${o} Print]`),this.trace=console.log.bind(console,`[${l.globalTag} ${o} Trace]`)}}o("MLogger",l),l.globalTag="MLogger",l.setLevel(e.Info),n._RF.pop()}}}));

System.register("chunks:///_virtual/MResponse.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"95123n/ZlVM0Zn1I8Ho2YiU","MResponse",void 0);e("MResponse",class{}),s._RF.pop()}}}));

System.register("chunks:///_virtual/MSDKWrapper.ts",["cc"],(function(e){var r,a;return{setters:[function(e){r=e.cclegacy,a=e.native}],execute:function(){r._RF.push({},"4d7c3LQ98ZLmYl0FCsliKt5","MSDKWrapper",void 0);let s=e("ECallNativeKey",function(e){return e[e.Login=0]="Login",e[e.ReqProductDetails=1]="ReqProductDetails",e[e.RequestIAP=2]="RequestIAP",e[e.RestoreIAP=3]="RestoreIAP",e[e.ShowRewardedAd=4]="ShowRewardedAd",e[e.ReportEvent=5]="ReportEvent",e}({})),d=e("ELoginResult",function(e){return e[e.Success=0]="Success",e[e.Fail=1]="Fail",e}({})),l=(e("EIAPResult",function(e){return e[e.NoEnv=0]="NoEnv",e[e.NoProduct=1]="NoProduct",e[e.Success=2]="Success",e[e.DelaySuccess=3]="DelaySuccess",e[e.Fail=4]="Fail",e[e.VerifyFail=5]="VerifyFail",e[e.ProductDetail=6]="ProductDetail",e}({})),e("EReawrdedAdResult",function(e){return e[e.Success=0]="Success",e[e.Fail=1]="Fail",e[e.Show=2]="Show",e[e.Close=3]="Close",e[e.Click=4]="Click",e[e.Error=5]="Error",e}({})));class i{}e("SDKCallback",i);class t{static init(){this.isInit||(this.isInit=!0,a.bridge.onNative=this.onNativeCall.bind(this))}static onNativeCall(e,r){switch(r=r||"",s[e]){case s.Login:this.onLogin(r);break;case s.RequestIAP:this.onInAppPurchase(r);break;case s.ShowRewardedAd:this.onShowRewardedAd(r)}}static sendToNative(e,r){this.init(),r=r||"",a.bridge.sendToNative(s[e],r)}static onLogin(e){var r,a;let s=e.split("|");switch(parseInt(s[0])){case d.Success:(null==(r=i.login)?void 0:r.success)&&i.login.success(s[1]);break;case d.Fail:(null==(a=i.login)?void 0:a.fail)&&i.login.fail(s[1])}}static onInAppPurchase(e){let r=e.split("|"),a=parseInt(r[0]);i.inAppPurchase(a,r[1])}static onShowRewardedAd(e){var r,a,s,d,t,c,o,u,n,w,A,v,h;let f=parseInt(e),S=null==(r=i.rewardedAd)?void 0:r.extParam;switch(f){case l.Success:(null==(a=i.rewardedAd)?void 0:a.success)&&i.rewardedAd.success(S),(null==(s=i.rewardedAdDefault)?void 0:s.success)&&i.rewardedAdDefault.success(S);break;case l.Fail:(null==(d=i.rewardedAd)?void 0:d.fail)&&i.rewardedAd.fail(S),(null==(t=i.rewardedAdDefault)?void 0:t.fail)&&i.rewardedAdDefault.fail(S);break;case l.Show:(null==(c=i.rewardedAd)?void 0:c.show)&&i.rewardedAd.show(S),(null==(o=i.rewardedAdDefault)?void 0:o.show)&&i.rewardedAdDefault.show(S);break;case l.Close:(null==(u=i.rewardedAd)?void 0:u.close)&&i.rewardedAd.close(S),(null==(n=i.rewardedAdDefault)?void 0:n.close)&&i.rewardedAdDefault.close(S);break;case l.Click:(null==(w=i.rewardedAd)?void 0:w.click)&&i.rewardedAd.click(S),(null==(A=i.rewardedAdDefault)?void 0:A.click)&&i.rewardedAdDefault.click(S);break;case l.Error:(null==(v=i.rewardedAd)?void 0:v.error)&&i.rewardedAd.error(S),(null==(h=i.rewardedAdDefault)?void 0:h.error)&&i.rewardedAdDefault.error(S)}}}e("MSDKWrapper",t),t.isInit=!1;e("LoginArgs",class{});e("GameDataArgs",class{});e("ShowRewardedAdArgs",class{});e("RequestIAPArgs",class{}),r._RF.pop()}}}));

System.register("chunks:///_virtual/NewComponent.ts",["cc"],(function(e){var t,n,o;return{setters:[function(e){t=e.cclegacy,n=e.Component,o=e._decorator}],execute:function(){var c;t._RF.push({},"a04043XHtZBeL9DOJKEqZSQ","NewComponent",void 0);const{ccclass:s,property:r}=o;e("NewComponent",s("NewComponent")(c=class extends n{start(){}update(e){}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/NewComponentProperty.ts",["cc","./PropertyBase.ts"],(function(e){var t,o;return{setters:[function(e){t=e.cclegacy},function(e){o=e.PropertyBase}],execute:function(){t._RF.push({},"acedc6UABlEIqFb3lZsK1FY","NewComponentProperty",void 0);e("NewComponentProperty",class extends o{get node1(){return this.getNode("$Node1")}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/PageViewHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,s,o,a,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Node,s=e.PageView,o=e.Label,a=e._decorator,u=e.Component,l=e.misc}],execute:function(){var p,c,g,h,b,P,f,v,w;n._RF.push({},"530b71T0f5EvoyLoA8nZlfs","PageViewHelper",void 0);const{ccclass:m,property:N}=a;e("PageViewHelper",(p=m("PageViewHelper"),c=N({type:r,visible:function(){return this.getComponent(s)}}),g=N({type:r,visible:function(){return this.getComponent(s)}}),h=N({type:o,visible:function(){return this.getComponent(s)}}),p((f=t((P=class extends u{constructor(...e){super(...e),i(this,"btnPrevious",f,this),i(this,"btnNext",v,this),i(this,"pageNum",w,this),this.pageView=null}onLoad(){this.pageView=this.getComponent(s),this.btnPrevious&&this.btnPrevious.on("click",this.onClickPrevious,this),this.btnNext&&this.btnNext.on("click",this.onClickNext,this)}onClickPrevious(){this.turnPage(-1)}onClickNext(){this.turnPage(1)}turnPage(e){let t=this.pageView.getPages().length,i=this.pageView.getCurrentPageIndex();i+=e,i=l.clampf(i,0,t-1),this.pageView.scrollToPage(i,.3)}update(){if(!this.pageView)return;let e=this.pageView.getPages().length,t=this.pageView.getCurrentPageIndex();this.btnPrevious&&(this.btnPrevious.active=!(0==t)),this.btnNext&&(this.btnNext.active=!(t==e-1)),this.pageNum&&(this.pageNum.string=t+"/"+e)}}).prototype,"btnPrevious",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(P.prototype,"btnNext",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(P.prototype,"pageNum",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=P))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["cc","./App.ts","./PlayerInventory.ts","./GameData.ts","./GameEnum.ts"],(function(t){var e,n,i,s,a,o;return{setters:[function(t){e=t.cclegacy},function(t){n=t.App},function(t){i=t.PlayerInventory},function(t){s=t.GameData},function(t){a=t.EventKey,o=t.ItemId}],execute:function(){e._RF.push({},"6058c7on+xNV4qKmew16vuW","PlayerData",void 0);class r extends i{static get Inst(){return n.getSingleInst(r)}onInst(){this.init(s.Inst,(()=>{n.event.emit(a.OnInventoryChange)}))}get Gold(){return this.getItemAmount(1,o.Gold)}AddGold(t,e){let{tag:i,showTips:s,tipText:a}=e||{};return s=null==s||s,t>=0?(this.getReward([[1,o.Gold,t]],{tag:i}),!0):this.Gold+t>=0?(this.delCost([[1,o.Gold,-t]]),!0):(s&&n.ui.showToast(a||n.l10n.getStringByKey("100022")),!1)}get Diamond(){return this.getItemAmount(1,o.Diamond)}AddDiamond(t,e){let{showTips:i,tipText:s}=e||{};return i=null==i||i,t>=0?(this.getReward([[1,o.Diamond,t]]),!0):this.Diamond+t>=0?(this.delCost([[1,o.Diamond,-t]]),!0):(i&&n.ui.showToast(s||n.l10n.getStringByKey("100023")),!1)}}t("PlayerData",r),e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerInventory.ts",["cc","./MLogger.ts"],(function(t){var e,r,n;return{setters:[function(t){e=t.cclegacy,r=t.tween},function(t){n=t.MLogger}],execute:function(){e._RF.push({},"e75ceCspU5BRb2QlyyLpMLJ","PlayerInventory",void 0);class i{}t("InventoryItemSO",i);t("PlayerInventory",class{constructor(){this._itemCache={},this.readyMerge=!1}init(t,e,r=!1){this._localStroage=t,this._onInventoryChange=e,this._mergeInventoryItem=r}getReward(t,e){let{multiple:r,tag:n}=e||{};if(r=r||1,0==t.length)return;let i=this.formatItems(t);if(i=this.postParseRewards(i,n),i.length>0){for(let t of i)t=this.postParseSingleItem(t,n),this.addGameItem(t[0],t[1],t[2]*r),this.onGetRewardItem(t[0],t[1],t[2]*r,n);this.saveInventory()}}postParseRewards(t,e){return t}postParseSingleItem(t,e){return t}onGetRewardItem(t,e,r,n){}delCost(t,e){let{multiple:r,tag:n}=e||{};if(r=r||1,0==t.length)return;let i=this.formatItems(t);for(let t of i){t=this.postParseSingleItem(t,n);let e=t[0],i=t[1],a=t[2]*r;this.onDelCostItem(e,i,a,n);let s=this.getCacheItemSO(e,i);if(s)this.delGameItem(s,a);else{var o=this._localStroage.inventory.filter((t=>t.type==e&&t.id==i));for(const t of o)a>0&&(a>=t.amount?(this.delGameItem(t,t.amount),a-=t.amount):(this.delGameItem(t,a),a=0))}}this.saveInventory()}onDelCostItem(t,e,r,n){}isCostEnough(t,e){let{multiple:r,tag:n}=e||{};if(r=r||1,0==t.length)return!0;let i=this.formatItems(t);for(let t=0;t<i.length;t++){var o=i[t];if(3==o.length)if(o=this.postParseSingleItem(o,n),this.getItemAmount(o[0],o[1])<o[2]*r)return!1}return!0}getItemAmount(t,e){let r=this.getCacheItemSO(t,e);if(r)return r.amount;var n=this._localStroage.inventory.filter((r=>r.type==t&&r.id==e));if(0==n.length)return 0;{let t=0;for(const e of n)t+=e.amount;return t}}addGameItem(t,e,r){let n=this.getItemStackLimit(t,e);if(n<=0){let n=t+"_"+e,i=this.getCacheItemSO(t,e);i||(i=this.genInventoryItemSO(t,e),this._itemCache[n]=i,this._localStroage.inventory.push(i)),i.amount+=r}else{let s=r;var i=this._localStroage.inventory.filter((r=>r.type==t&&r.id==e&&r.amount<n));for(const t of i){if(t.amount+s<=n){t.amount+=s,s=0;break}{let e=n-t.amount;t.amount=n,s-=e}}if(s>0){var o=Math.floor(s/n);for(let r=0;r<o;r++){this.genInventoryItemSO(t,e).amount=n}var a=s%n;if(a>0)this.genInventoryItemSO(t,e).amount=a}}this.saveInventory()}getCacheItemSO(t,e){if(this.getItemStackLimit(t,e)>0)return null;let r=t+"_"+e,n=this._itemCache[r];return n||(n=this._localStroage.inventory.find((r=>r.type==t&&r.id==e)),null==n&&(n=this.genInventoryItemSO(t,e),this._localStroage.inventory.push(n)),this._itemCache[r]=n,n)}genInventoryItemSO(t,e){var r=new i;return r.uid=this._localStroage.newUid,r.type=t,r.id=e,r.amount=0,r}getItemStackLimit(t,e){return 0}delGameItem(t,e){if(t&&e>0&&(t.amount-=e,t.amount<=0)){delete this._itemCache[t.type+"_"+t.id];let e=this._localStroage.inventory.indexOf(t);e>-1&&this._localStroage.inventory.splice(e,1)}this.saveInventory()}formatItems(t){let e;if(Array.isArray(t)&&Array.isArray(t[0])){e=[];for(const r of t)r.length<3?e.push([1,...r]):e.push(r)}else Array.isArray(t)&&"number"==typeof t[0]?(e=[],t.length<3?e.push([1,...t]):e.push(t)):e=o.parseGameItem(t);return e}mergeInventoryItem(){let t={},e={},r={};for(const n of this._localStroage.inventory){let i=this.getItemStackLimit(n.type,n.id);if(i<=0)continue;if(n.amount>=i)continue;let o=n.type+"_"+n.id;(t[o]||[]).push(n);let a=e[o]||0;e[o]=a+n.amount,r[o]=i}for(const o in t){let a=t[o],s=e[o],l=r[o],m=s/l,h=s%l;for(var n=0;n<a.length;n++){var i=a[n];if(n<m)i.amount=l;else if(h>0&&n==m)i.amount=h;else{let t=this._localStroage.inventory.indexOf(i);t>-1&&this._localStroage.inventory.splice(t,1)}}}}saveInventory(){this._mergeInventoryItem&&!this.readyMerge&&(this.readyMerge=!0,r({}).delay(.01).call((()=>{this.readyMerge=!1,this.mergeInventoryItem()})).start()),this._localStroage.delaySave(),this._onInventoryChange&&this._onInventoryChange()}});class o{static parseGameItem(t){let e,r={};e=Array.isArray(t)?t:t.trim().split(";").filter((t=>""!=t));for(let t=0;t<e.length;t++){const n=e[t];if(n.indexOf(";")>-1){let t=this.parseGameItem(n.split(";"));for(let e=0;e<t.length;e++){const n=t[e];let i=n[0]+"_"+n[1],o=r[i]||0;r[i]=o+n[2]}}else{let t=this.parseSingleGameItem(n),e=t[0]+"_"+t[1],i=r[e]||0;r[e]=i+t[2]}}let n=[];for(const t in r){let e=t.split("_"),i=parseFloat(e[0]),o=parseFloat(e[1]);n.push([i,o,r[t]])}return n}static parseSingleGameItem(t){let e=[1,0,0],r=t.trim().split(",").filter((t=>""!=t));if(r.length>=2){let i=0,o=0;2==r.length&&(i=1,o=-1);for(let a=i;a<3;a++){let i=parseFloat(r[a+o]);isNaN(i)?n.error("请检查物品配置:",t):e[a]=i}}else n.error("请检查物品配置:",t);return e}}t("ParseItemTool",o),e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerTask.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"72e98qLVddBfaB5EHGY3MwX","PlayerTask",void 0);let s=t("TaskState",function(t){return t[t.None=0]="None",t[t.CanGet=1]="CanGet",t[t.Started=2]="Started",t[t.Complete=3]="Complete",t[t.Finished=4]="Finished",t}({}));class a{constructor(){this.progress=[],this.state=s.None}}t("TaskItemSO",a);t("PlayerTask",class{Init(t,e){this._localStroage=t,this._onTaskChange=e}takeTask(t){if(null==this._localStroage.task.find((e=>e.id==t))){var e=this.genTaskItemSO(t);null!=e&&(this._localStroage.task.push(e),this.saveTaskInfo())}}genTaskItemSO(t){var e=new a;return e.id=t,e.targetType=1,e.state=s.Started,e.progress.push(0),e}giveUpTask(t){var e=this._localStroage.task.findIndex((e=>e.id==t));e>-1&&(this._localStroage.task.splice(e,1),this.saveTaskInfo())}finishTask(t){null!=t&&t.state==s.Complete&&(t.state=s.Finished,this.saveTaskInfo())}updateTaskProgress(t,e=1,a=1){0!=this._localStroage.task.filter((e=>e.state!=s.Complete&&e.state!=s.Finished&&e.targetType==t)).length&&this.saveTaskInfo()}isTaskComplete(t){return t.state==s.Complete}isTaskFinished(t){return t.state==s.Finished}saveTaskInfo(){this._localStroage.delaySave(),this._onTaskChange&&this._onTaskChange()}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/PoolMgr.ts",["cc"],(function(e){var t,o,s,r;return{setters:[function(e){t=e.cclegacy,o=e.NodePool,s=e.instantiate,r=e.Component}],execute:function(){t._RF.push({},"d4f14szncdIP71HLdvj6rDr","PoolMgr",void 0);class i{static clear(){this.prefabs.clear(),this.pools.forEach((e=>e.clear())),this.pools.clear()}static initPool(e,t,s){if(!this.pools.has(e)){let i=new o;this.prefabs.set(e,t),this.pools.set(e,i);let l=this.itemGen(i,t,s);return new Promise(((e,t)=>{let o=()=>{let t=Date.now();for(let s=l.next();;s=l.next()){if(!s||s.done){e();break}if("function"==typeof s.value&&s.value(),Date.now()-t>=3){(new r).scheduleOnce(o);break}}};o()}))}console.warn("请勿重复创建对象池!")}static get(e){if(this.pools.has(e)){let t=this.pools.get(e);return t.size()>0?t.get():s(this.prefabs.get(e))}console.error("对象池不存在!")}static put(e,t){if(this.pools.has(e)){let o=this.pools.get(e);t instanceof Array?t.forEach((e=>{o.put(e)})):o.put(t)}else console.error("对象池不存在!")}static*itemGen(e,t,o){for(let r=0;r<o;r++){let o=()=>{e.put(s(t))};yield o}}}e("PoolMgr",i),i.prefabs=new Map,i.pools=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/PropertyBase.ts",["cc","./CCUtil.ts","./MLogger.ts"],(function(t){var e,i,a;return{setters:[function(t){e=t.cclegacy},function(t){i=t.CCUtils},function(t){a=t.MLogger}],execute:function(){e._RF.push({},"1fa2b4SXZZKAr6PPOHNEP8/","PropertyBase",void 0);t("PropertyBase",class{constructor(t){this.autoBindCompCache={},this.autoBindNodeCache={},this._target=t}getComp(t,e){var o,n;let r=`${e.name}+${t}`;if(null!=(o=this.autoBindCompCache[r])&&o.isValid)return this.autoBindCompCache[r];if(null!=(n=this.autoBindNodeCache[t])&&n.isValid)return this.autoBindNodeCache[t].getComponent(e);{let o=i.getComponentAtPath(this._target,t,e);return null!=o&&o.isValid?(this.autoBindCompCache[r]=o,this.autoBindNodeCache[t]=o.node):a.error(`[${this._target.name}]节点指定路径未找到组件 ${r}`),o}}getNode(t){var e;if(null!=(e=this.autoBindNodeCache[t])&&e.isValid)return this.autoBindNodeCache[t];{let e=i.getNodeAtPath(this._target,t);return null!=e&&e.isValid?this.autoBindNodeCache[t]=e:a.error(`[${this._target.name}]节点指定路径未找到 ${t}`),e}}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Publish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Channel.ts","./MLogger.ts"],(function(e){var t,i,n,r,a,l,o,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Enum,a=e._decorator,l=e.Component,o=e.game,s=e.sys},function(e){c=e.Channel},function(e){u=e.ELoggerLevel,p=e.MLogger}],execute:function(){var f,h,g,m,y,b,v;n._RF.push({},"d1575HIJIRDO4iBWpqy78x3","Publish",void 0);const{ccclass:L,property:d}=a,R=(e("EChannel",r({Dev:0,Trial:1})),r(u));e("Publish",(f=L("Publish"),h=d({displayName:"帧率",tooltip:"帧率限制"}),g=d({type:R,displayName:"日志级别"}),f((b=t((y=class extends l{constructor(...e){super(...e),i(this,"frameRate",b,this),i(this,"logLevel",v,this)}onLoad(){this.frameRate>0&&(o.frameRate=this.frameRate),p.print("日志级别",R[this.logLevel]),p.setLevel(this.logLevel)}static getChannelInstance(e){let t;return s.platform,s.Platform.ANDROID,t=t||new c,t.initSDK(),t}}).prototype,"frameRate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=t(y.prototype,"logLevel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.Info}}),m=y))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/RedDot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MLogger.ts","./RedDotMgr.ts"],(function(e){var t,o,r,i,n,s,a,d,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){r=e.cclegacy,i=e.Node,n=e.Label,s=e._decorator,a=e.Component},function(e){d=e.MLogger},function(e){l=e.RedDotMgr}],execute:function(){var u,D,c,h,p,N,m,g,f;r._RF.push({},"08f67Txp1JNXrYjgHkt3zNT","RedDot",void 0);const{ccclass:b,property:R,menu:y}=s;e("RedDot",(u=y("MLib/RedDot"),D=R({displayName:"红点名字"}),c=R({type:i,displayName:"红点节点"}),h=R({type:n,displayName:"红点数字"}),b(p=u((m=t((N=class extends a{constructor(...e){super(...e),o(this,"redDotName",m,this),o(this,"redDotNode",g,this),o(this,"redDotNum",f,this)}onLoad(){this.redDotName=this.redDotName.trim(),this.redDotName||d.error("RedDotName不能为空")}onEnable(){l.setRedDotListener(this.redDotName,this.onValueChange.bind(this)),this.onValueChange()}onDisable(){l.setRedDotListener(this.redDotName,null)}onValueChange(){var e=l.getRedDotValue(this.redDotName);this.refreshRedDotView(e)}refreshRedDotView(e){this.redDotNode&&(e>0?this.redDotNode.setScale(1,1):this.redDotNode.setScale(0,0)),this.redDotNum&&(this.redDotNum.string=e.toString())}}).prototype,"redDotName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=t(N.prototype,"redDotNode",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(N.prototype,"redDotNum",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=N))||p)||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/RedDotMgr.ts",["cc","./MLogger.ts"],(function(e){var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.MLogger}],execute:function(){t._RF.push({},"0bc79lNtbJIdqBQ/YQDQubx","RedDotMgr",void 0);class o{constructor(e){this.nodeValue=0,this.child=[],this.name=e}get value(){if(0==this.child.length)return this.nodeValue;let e=0;for(const t of this.child)e+=t.value;return e}set value(e){if(this.child.length>0)return void s.error("只能修改叶子节点的值",this.name);this.nodeValue=e,this.onValueChange&&this.onValueChange();let t=this.parent;for(;null!=t;)t.onValueChange&&t.onValueChange(),t=t.parent}}e("RedDotMgr",class{static initRedDotTree(e){if(e&&!(e.length<2)){this.nodes={},this.rootNode=new o(e[0]),this.nodes[this.rootNode.name]=this.rootNode;for(let o=1;o<e.length;o++){const r=e[o];if(r.indexOf(".")>-1){var t=r.split("."),i=t[t.length-1],n=t[t.length-2];this.addRedDot(i,n)}else s.error(`节点路径错误 ${r}`)}}}static addRedDot(e,t){if(this.nodes[t])if(this.nodes[e])s.error(`节点已存在 ${e}`);else{let s=this.nodes[t],i=new o(e);s.child.push(i),i.parent=s,this.nodes[e]=i}else s.error(`父节点不存在 ${e}`)}static removeRedDot(e){this.nodes[e]?delete this.nodes[e]:s.error(`节点不存在 ${e}`)}static setRedDotListener(e,t){if(this.nodes[e]){this.nodes[e].onValueChange=t}else s.error(`节点不存在 ${e}`)}static setRedDotValue(e,t){if(this.nodes[e]){let o=this.nodes[e];0==o.child.length?o.value=t:s.error(`只能修改叶子节点的值 ${e}`)}else s.error(`节点不存在 ${e}`)}static getRedDotValue(e){if(this.nodes[e]){return this.nodes[e].value}return s.error(`节点不存在 ${e}`),0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/SafeArea.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,a,s,r,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Enum,a=t._decorator,s=t.Component,r=t.view,l=t.sys}],execute:function(){var c,p,h,f,g;o._RF.push({},"2b1389fszNLzI6DjDGPCzPa","SafeArea",void 0);const{ccclass:u,property:m}=a;class y{constructor(){this.top=0,this.bottom=0,this.left=0,this.right=0}}const d=n({None:0,Top:1,Bottom:2,Left:3,Right:4});t("SafeArea",(c=u("SafeArea"),p=m({type:d,tooltip:"Top|Bottom|Left|Right:与对应边界适配",displayName:"对齐方式"}),c((g=e((f=class t extends s{constructor(...t){super(...t),i(this,"alignment",g,this)}start(){if(!t.safeAreaGap){let e=r.getVisibleSize(),i=l.getSafeAreaRect(),o=new y;o.left=i.x,o.bottom=i.y,o.right=e.width-i.width-i.x,o.top=e.height-i.height-i.y,t.safeAreaGap=o}let e=t.safeAreaGap,i=this.node.getPosition();this.alignment==d.Top&&(i.y-=e.top),this.alignment==d.Bottom&&(i.y+=e.bottom),this.alignment==d.Left&&(i.x+=e.left),this.alignment==d.Right&&(i.x-=e.right),this.node.position=i}}).prototype,"alignment",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.None}}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopUtil.ts",["cc","./App.ts","./MLogger.ts","./MSDKWrapper.ts"],(function(t){var e,c,s,a,r;return{setters:[function(t){e=t.cclegacy},function(t){c=t.App},function(t){s=t.MLogger},function(t){a=t.SDKCallback,r=t.EIAPResult}],execute:function(){e._RF.push({},"8d6d6uUKDlE6JpEW45PFFGZ","ShopUtil",void 0);class i{static fromProductId(t){return this.productDetailMap?this.productDetailMap.get(t):null}static getFormattedPrice(t){let e=this.fromProductId(t);return e?e.formattedPrice:"???"}}t("ProductDetail",i);t("ShopUtil",class{static initPurchase(){this.isInit||(this.isInit=!0,a.onStartInAppPurchase=this.onStartInAppPurchase.bind(this),a.inAppPurchase=this.onPurchaseUpdate.bind(this),this.reqProductDetail(),c.chan.restoreIAP())}static reqProductDetail(){if(i.productDetailMap)return;c.chan.reqProductDetails([].join("|")),c.Inst.scheduleOnce(this.reqProductDetail.bind(this),5)}static onStartInAppPurchase(t){c.chan.reportEvent("iap_start",{k:t})}static onPurchaseUpdate(t,e){switch(t!=r.DelaySuccess&&r.ProductDetail,t){case r.NoEnv:case r.NoProduct:c.chan.reportEvent("iap_fail",{k:e});break;case r.Success:this.purchaseSuccess(e,!0);break;case r.DelaySuccess:this.purchaseSuccess(e,!1);break;case r.Fail:c.chan.reportEvent("iap_fail",{k:e});break;case r.VerifyFail:break;case r.ProductDetail:this.onGetProductDetail(e)}}static onGetProductDetail(t){s.debug("onGetProductDetail");try{if("default"==t)i.productDetailMap=new Map;else{let e=JSON.parse(t);i.productDetailMap=new Map;for(const t of e)i.productDetailMap.set(t.productId,t)}}catch(t){s.error(t)}}static purchaseSuccess(t,e){s.debug("purchaseSuccess"),this.settleProduct(t,e)}static settleProduct(t,e){}static restoreSuccess(t){s.debug("restoreSuccess")}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonFactory.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"f90ddT49otMl4O01+A5I4qI","SingletonFactory",void 0);class n{static getInstance(t){if(!t._instance){let c=new t;t._instance=c,n.clazz.has(t)||n.clazz.add(t);let e=c.onInst;e&&"function"==typeof e&&e.call(c)}return t._instance}static clear(){n.clazz.forEach((t=>{t._instance=void 0})),n.clazz.clear()}}t("SingletonFactory",n),n.clazz=new Set,c._RF.pop()}}}));

System.register("chunks:///_virtual/SocketConnect.ts",["cc","./App.ts"],(function(s){var t,e,o,n;return{setters:[function(s){t=s.cclegacy,e=s.Component,o=s.macro},function(s){n=s.App}],execute:function(){t._RF.push({},"89bdent7UxIJb8jG/0I7P91","SocketConnect",void 0);s("SocketConnect",class extends e{constructor(s){super(),this.autoConnect=!1,this.tick=5,this.url=s}openSocket(){this.url&&(this.ws=new WebSocket(this.url),this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this),this.tick=5)}closeSocket(){this.autoConnect=!1,this.ws&&this.ws.close()}onOpen(){this.autoConnect=!0,this.schedule(this.starTick,1,o.REPEAT_FOREVER,1),console.log(this.url+": socket opened")}onMessage(s){this.tick=5,this.handlerMessage(s.data)}onError(){console.log(this.url+": socket fired an error")}onClose(s){this.autoConnect&&(this.openSocket(),console.log("auto connect")),this.unschedule(this.starTick),console.log(this.url+": socket closed ",s.reason)}starTick(){this.tick--,0==this.tick&&this.sendMessage(0,"active"),-6==this.tick&&(this.ws&&this.ws.close(),this.onClose({reason:"tick timeout"}))}handlerMessage(s){console.log(s);let t=JSON.parse(s),e=t.msgId,o=t.content;n.event.emit(e,o)}sendMessage(s,t){this.ws.send(JSON.stringify({msgId:s,content:t}))}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/SortedMap.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7405chjXGhP4ZiIUxSIDvKd","SortedMap",void 0);t("SortedMap",class{constructor(){this._map={}}get topKey(){let t=Object.keys(this._map);return t.length>0?parseFloat(t[t.length-1]):-1}get topValue(){let t=this.topKey;return this._map[t]}isTopKey(t){let e=this.topKey;return void 0!==e&&t==e}isTop(t,e){let s=this.topKey;if(void 0===s)return!1;let r=this.topValue;return void 0!==r&&(t==s&&e==r)}get size(){return Object.keys(this._map).length}clear(){this._map={}}get(t){return this._map[t]}set(t,e){this._map[t]=e}delete(t,e){e==this._map[t]&&delete this._map[t]}hasKey(t){let e=this._map[t];return Boolean(e)}has(t,e){return e==this._map[t]}forEach(t){for(const e in this._map){let s=this._map[e];t&&t(s,parseFloat(e))}}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/SpecialNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts"],(function(e){var i,t,s,r,o,c,n,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){s=e.cclegacy,r=e.Enum,o=e._decorator,c=e.Component,n=e.sys},function(e){l=e.GameConfig}],execute:function(){var a,h,p,d,u,v,b;s._RF.push({},"d4be2AWmrNN45g/a+Zkgbyl","SpecialNode",void 0);const{ccclass:m,property:f}=o,y=r({None:0,GM:1,SH:2,Android:3,IOS:4,MiniGame:5});e("SpecialNode",(a=m("SpecialNode"),h=f({type:y,tooltip:"节点的类型"}),p=f({tooltip:"反转显示(默认满足条件时显示,反转后满足条件隐藏)"}),a((v=i((u=class extends c{constructor(...e){super(...e),t(this,"type",v,this),t(this,"reverse",b,this)}onLoad(){this.type==y.GM?this.checkGMVisible():this.type==y.SH?this.checkSHVisible():this.type==y.Android?this.checkAndroidVisible():this.type==y.IOS?this.checkIOSVisible():this.type==y.MiniGame&&this.checkMiniGameVisible()}checkGMVisible(){let e=!0;e=l.gm?!this.reverse:this.reverse,this.node.active=e}checkSHVisible(){let e=!0;e=l.sh?!this.reverse:this.reverse,this.node.active=e}checkAndroidVisible(){let e=!0;e=n.platform==n.Platform.ANDROID?!this.reverse:this.reverse,this.node.active=e}checkIOSVisible(){let e=!0;e=n.platform==n.Platform.IOS?!this.reverse:this.reverse,this.node.active=e}checkMiniGameVisible(){let e=!0;e=n.platform==n.Platform.WECHAT_GAME?!this.reverse:this.reverse,this.node.active=e}}).prototype,"type",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.None}}),b=i(u.prototype,"reverse",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=u))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/StroageMgr.ts",["cc","./Utils.ts","./LZString.ts","./MLogger.ts"],(function(e){var t,i,r,s,a,o;return{setters:[function(e){t=e.cclegacy,i=e.tween,r=e.sys},function(e){s=e.Utils},function(e){a=e.LZString},function(e){o=e.MLogger}],execute:function(){t._RF.push({},"92e1exmQ71Kn5tXk6cj1MbM","StroageMgr",void 0);e("LocalStroage",class{constructor(){this.desc="",this.time=0,this._readySave=!1,this._uid=0,this._createDate=0,this._date=0,this.userId="",this.inventory=[],this.task=[],this.guide=[],this.flag={}}get newUid(){return this._uid++,this.delaySave(),this._uid}get isNewUser(){return this._createDate==s.getDate()}init(e,t,i){e&&e(),this._createDate||(this._createDate=s.getDate(),t&&t(),this.delaySave());let r=s.getDate();r>this._date&&(i&&i(this._date,r),this._date=r,this.delaySave())}save(){this.time=Date.now(),c.serialize(this)}delaySave(){this._readySave||(this._readySave=!0,i({}).delay(.01).call((()=>{this._readySave=!1,this.save()})).start())}getSerializeStr(e=!0){this.time=Date.now();let t=JSON.stringify(this);return e?a.compressToUTF16(t):t}replaceGameData(e,t=!0){e&&t&&(e=a.decompressFromUTF16(e)),c.setValue(this.name,e)}static deserialize(e){return c.deserialize(e)}});class c{static deserialize(e){Reflect.defineProperty(e,"name",{enumerable:!1}),Reflect.defineProperty(e,"_readySave",{enumerable:!1});let t=e.name,i=this.getValue(t,"");if(i)try{let t=JSON.parse(i)||{};this.mergeValue(e,t)}catch(e){o.error(e)}return e}static serialize(e){let t=e.name,i=JSON.stringify(e,(function(e,t){if(!e.startsWith("__")&&!e.endsWith(c.CollectionItemSuffix))return t}));this.setValue(t,i)}static mergeValue(e,t){for(const i in e)if(Reflect.has(t,i)){if(i.endsWith(this.CollectionItemSuffix))continue;"[object Object]"===Object.prototype.toString.call(e[i])&&"[object Object]"===Object.prototype.toString.call(t[i])?"{}"===JSON.stringify(e[i])?(e[i]=t[i],e[i+this.CollectionItemSuffix]&&this.checkMissProperty(e[i],e[i+this.CollectionItemSuffix])):this.mergeValue(e[i],t[i]):"[object Array]"===Object.prototype.toString.call(e[i])&&"[object Array]"===Object.prototype.toString.call(t[i])?(e[i]=t[i],e[i+this.CollectionItemSuffix]&&this.checkMissProperty(e[i],e[i+this.CollectionItemSuffix])):e[i]=t[i]}}static checkMissProperty(e,t){if(e instanceof Array)for(const i in t)e.forEach((e=>{void 0===e[i]&&(e[i]=t[i])}));else for(const i in t)for(const r in e){let s=e[r];void 0===s[i]&&(s[i]=t[i])}}static getValue(e,t){let i=r.localStorage.getItem(e);if(!i)return t;if("number"==typeof t){let r=parseFloat(i);isNaN(r)?(o.error(e,": 转化为数字类型错误 ",i),i=t):i=r}else{if("string"==typeof t)return i;if("boolean"==typeof t)return"true"===i;try{i=JSON.parse(i)}catch(r){o.error(e,": 转化对象类型错误 ",i),i=t}}return i}static setValue(e,t){"object"==typeof t&&(t=JSON.stringify(t)),r.localStorage.setItem(e,String(t))}}e("StroageMgr",c),c.UserLanguageCodeKey="UserLanguageCodeKey",c.CollectionItemSuffix="$item",t._RF.pop()}}}));

System.register("chunks:///_virtual/Switch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,c,n,i,r;return{setters:[function(e){t=e.applyDecoratedDescriptor,c=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e._decorator,r=e.Component}],execute:function(){var o,s,h;n._RF.push({},"cfc76u4eBRKdJpZRNzQ9Cnh","Switch",void 0);const{ccclass:u,property:a}=i;e("Switch",u("Switch")((h=t((s=class extends r{constructor(...e){super(...e),c(this,"checkIndex",h,this)}onLoad(){this.updateContent()}updateContent(){this.node.children.forEach(((e,t)=>{e.active=this.checkIndex.indexOf(t)>-1}))}updateCheck(...e){this.checkIndex=e,this.scheduleOnce((()=>{this.updateContent()}))}}).prototype,"checkIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,s,i,p,n,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){s=e.cclegacy,i=e.Sprite,p=e.SpriteFrame,n=e._decorator,o=e.Component,c=e.sys}],execute:function(){var l,a,u,h,b,f,y;s._RF.push({},"e46c9uiSCJL3bp7RY7DGRqS","Test",void 0);const{ccclass:d,property:m}=n;e("Test",(l=d("Test"),a=m(i),u=m(p),l((f=t((b=class extends o{constructor(...e){super(...e),r(this,"sp",f,this),r(this,"spF",y,this)}start(){this.scheduleOnce((()=>{this.sp.spriteFrame=this.spF}),3)}update(e){c.platform}}).prototype,"sp",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(b.prototype,"spF",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/TimeMgr.ts",["cc","./MLogger.ts","./HttpRequest.ts"],(function(e){var t,s,i,r,n,o,a,u,h;return{setters:[function(e){t=e.cclegacy,s=e.Component,i=e.sys,r=e.director,n=e.Node,o=e.macro,a=e.Director},function(e){u=e.MLogger},function(e){h=e.HttpRequest}],execute:function(){t._RF.push({},"56b69MgsJ9Fcp3k8ZUVK5xq","TimeMgr",void 0);class l{constructor(e){this._name="",this._name=e}get name(){return this._name}update(e){}}e("TimerGroup",l);class c extends s{constructor(...e){super(...e),this.timerGroups=new Map,this.urls=["https://www.baidu.com","https://www.bing.com","https://www.google.com"],this.urlIndex=0,this.networkTimeMS=0,this.totalDeltaTimeS=0}static addToScene(){if(i.isBrowser)return;let e="[TimeMgr]",t=r.getScene();if(!t)return;let s=t.getChildByName(e);s||(s=new n(e),t.addChild(s),s.addComponent(c),r.addPersistRootNode(s))}get now(){return this.networkTimeMS>0?this.networkTimeMS+Math.floor(1e3*this.totalDeltaTimeS):Date.now()}get date(){return new Date(this.now)}get today(){let e=e=>e<10?"0"+e:""+e,t=new Date(this.now),s=t.getFullYear()+e(t.getMonth()+1)+e(t.getDate());return parseInt(s)}delay(e=0){return new Promise(((t,s)=>{this.scheduleOnce((()=>{t()}),e)}))}delayCall(e,t=0){this.scheduleOnce(e,t)}onLoad(){c.Inst=this,i.isBrowser||(this.syncTime(),this.schedule(this.syncTime,10,o.REPEAT_FOREVER))}createTimerGroup(e){let t=this.timerGroups.get(e);return t?u.warn("TimerGroup已存在 "+e):(t=new l(e),this.timerGroups.set(e,t)),t}destroyTimerGroup(e){let t;t="string"==typeof e?e:e.name,this.timerGroups.has(t)&&this.timerGroups.delete(t)}update(e){this.totalDeltaTimeS+=e,this.timerGroups.forEach((t=>{t.update(e)}))}async syncTime(){this.urlIndex%=this.urls.length;let e=this.urls[this.urlIndex],t=await h.requestXHR(e);if(null==t)this.urlIndex++,this.syncTime();else{let e=t.getResponseHeader("date");e?(this.networkTimeMS=new Date(e).getTime(),this.totalDeltaTimeS=0):(this.urlIndex++,this.syncTime())}}}e("TimeMgr",c),r.on(a.EVENT_AFTER_SCENE_LAUNCH,c.addToScene.bind(c)),t._RF.pop()}}}));

System.register("chunks:///_virtual/Togglehelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,i,r,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,r=e.Toggle,l=e._decorator,s=e.Component}],execute:function(){var g,c,p,u,a;n._RF.push({},"61fd0QMN69IC51qqu+nTIj/","Togglehelper",void 0);const{ccclass:h,property:d}=l;e("Togglehelper",(g=h("Togglehelper"),c=d({type:i,displayName:"背景节点",tooltip:"选中时隐藏背景",visible:function(){return null!=this.getComponent(r)}}),g((a=t((u=class extends s{constructor(...e){super(...e),o(this,"bg",a,this)}onLoad(){this.bg&&(this.node.on("toggle",this.onToggle,this),this.onToggle(this.getComponent(r)))}onToggle(e){this.bg&&(this.bg.active=!e.isChecked)}}).prototype,"bg",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/Types.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("test",void 0),e._RF.push({},"edf13IJhR9ADrq09ELUYTdj","Types",void 0);class r{static deserializeFromJson(t){let e=t.x,i=t.y;if(null==e||null==i)throw new Error;return new r(e,i)}constructor(t=0,e=0){this.x=t,this.y=e}}t("Vector2",r);class i{static deserializeFromJson(t){let e=t.x,r=t.y,o=t.z;if(null==e||null==r||null==o)throw new Error;return new i(e,r,o)}constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r}}t("Vector3",i);class o{static deserializeFromJson(t){let e=t.x,r=t.y,i=t.z,s=t.w;if(null==e||null==r||null==i||null==s)throw new Error;return new o(e,r,i,s)}constructor(t=0,e=0,r=0,i=0){this.x=t,this.y=e,this.z=r,this.w=i}}let s;t("Vector4",o),function(t){let e=function(t){return t[t.A=1]="A",t[t.B=2]="B",t[t.C=3]="C",t[t.D=4]="D",t}({});t.ETestQuality=e}(s||(s=t("test",{}))),function(t){let e=function(t){return t[t.WRITE=1]="WRITE",t[t.READ=2]="READ",t[t.TRUNCATE=4]="TRUNCATE",t[t.NEW=8]="NEW",t[t.READ_WRITE=3]="READ_WRITE",t}({});t.AccessFlag=e}(s||(s=t("test",{})));class a{constructor(t){if(1!=t.length)throw new Error("table mode=one, but size != 1");this._data=new n(t[0])}getData(){return this._data}get ID(){return this._data.ID}get GuideID(){return this._data.GuideID}get UIName(){return this._data.UIName}get GOPath(){return this._data.GOPath}get GOSize(){return this._data.GOSize}get DelayCheckUI(){return this._data.DelayCheckUI}get ClickScreen(){return this._data.ClickScreen}get Opacity(){return this._data.Opacity}get HollowType(){return this._data.HollowType}get HollowScale(){return this._data.HollowScale}get RingScale(){return this._data.RingScale}get RingOffset(){return this._data.RingOffset}get FingerDir(){return this._data.FingerDir}get FingerOffset(){return this._data.FingerOffset}get TipText(){return this._data.TipText}get TipPos(){return this._data.TipPos}get Prefab(){return this._data.Prefab}resolve(t){this._data.resolve(t)}}t("TbGlobalVar",a);class n{constructor(t){if(void 0===t.ID)throw new Error;if(this.ID=t.ID,void 0===t.GuideID)throw new Error;if(this.GuideID=t.GuideID,void 0===t.UIName)throw new Error;if(this.UIName=t.UIName,void 0===t.GOPath)throw new Error;if(this.GOPath=t.GOPath,void 0===t.GOSize)throw new Error;if(this.GOSize=r.deserializeFromJson(t.GOSize),void 0===t.DelayCheckUI)throw new Error;if(this.DelayCheckUI=t.DelayCheckUI,void 0===t.ClickScreen)throw new Error;if(this.ClickScreen=t.ClickScreen,void 0===t.Opacity)throw new Error;if(this.Opacity=t.Opacity,void 0===t.HollowType)throw new Error;if(this.HollowType=t.HollowType,void 0===t.HollowScale)throw new Error;if(this.HollowScale=t.HollowScale,void 0===t.RingScale)throw new Error;if(this.RingScale=t.RingScale,void 0===t.RingOffset)throw new Error;if(this.RingOffset=r.deserializeFromJson(t.RingOffset),void 0===t.FingerDir)throw new Error;if(this.FingerDir=t.FingerDir,void 0===t.FingerOffset)throw new Error;if(this.FingerOffset=r.deserializeFromJson(t.FingerOffset),void 0===t.TipText)throw new Error;if(this.TipText=t.TipText,void 0===t.TipPos)throw new Error;if(this.TipPos=r.deserializeFromJson(t.TipPos),void 0===t.Prefab)throw new Error;this.Prefab=t.Prefab}resolve(t){}}t("GlobalVar",n);class h{constructor(t){for(var e of(this._dataMap=new Map,this._dataList=[],t)){let t;t=new l(e),this._dataList.push(t),this._dataMap.set(t.ID,t)}}getDataMap(){return this._dataMap}getDataList(){return this._dataList}get(t){return this._dataMap.get(t)}resolve(t){for(var e of this._dataList)e.resolve(t)}}t("TbGuide",h);class l{constructor(t){if(void 0===t.ID)throw new Error;if(this.ID=t.ID,void 0===t.GuideID)throw new Error;if(this.GuideID=t.GuideID,void 0===t.UIName)throw new Error;if(this.UIName=t.UIName,void 0===t.NodePath)throw new Error;if(this.NodePath=t.NodePath,void 0===t.NodeSize)throw new Error;if(this.NodeSize=r.deserializeFromJson(t.NodeSize),void 0===t.DelayCheckUI)throw new Error;if(this.DelayCheckUI=t.DelayCheckUI,void 0===t.ClickScreen)throw new Error;if(this.ClickScreen=t.ClickScreen,void 0===t.Opacity)throw new Error;if(this.Opacity=t.Opacity,void 0===t.HollowType)throw new Error;if(this.HollowType=t.HollowType,void 0===t.HollowScale)throw new Error;if(this.HollowScale=t.HollowScale,void 0===t.RingScale)throw new Error;if(this.RingScale=t.RingScale,void 0===t.RingOffset)throw new Error;if(this.RingOffset=r.deserializeFromJson(t.RingOffset),void 0===t.FingerDir)throw new Error;if(this.FingerDir=t.FingerDir,void 0===t.FingerOffset)throw new Error;if(this.FingerOffset=r.deserializeFromJson(t.FingerOffset),void 0===t.TipText)throw new Error;if(this.TipText=t.TipText,void 0===t.TipPos)throw new Error;if(this.TipPos=r.deserializeFromJson(t.TipPos),void 0===t.Prefab)throw new Error;this.Prefab=t.Prefab}resolve(t){}}t("Guide",l);class d{constructor(t){for(var e of(this._dataMap=new Map,this._dataList=[],t)){let t;t=new w(e),this._dataList.push(t),this._dataMap.set(t.key,t)}}getDataMap(){return this._dataMap}getDataList(){return this._dataList}get(t){return this._dataMap.get(t)}resolve(t){for(var e of this._dataList)e.resolve(t)}}t("TbLocalization",d);class w{constructor(t){if(void 0===t.key)throw new Error;if(this.key=t.key,void 0===t.sc)throw new Error;if(this.sc=t.sc,void 0===t.tc)throw new Error;if(this.tc=t.tc,void 0===t.en)throw new Error;this.en=t.en}resolve(t){}}t("Localization",w);class c{constructor(t){for(var e of(this._dataMap=new Map,this._dataList=[],t)){let t;t=new f(e),this._dataList.push(t),this._dataMap.set(t.id,t)}}getDataMap(){return this._dataMap}getDataList(){return this._dataList}get(t){return this._dataMap.get(t)}resolve(t){for(var e of this._dataList)e.resolve(t)}}t("TbBuildSkill",c);class f{constructor(t){if(void 0===t.id)throw new Error;if(this.id=t.id,void 0===t.Plan_ID)throw new Error;if(this.PlanID=t.Plan_ID,void 0===t.LV)throw new Error;if(this.LV=t.LV,void 0===t.EFF)throw new Error;if(this.EFF=t.EFF,void 0===t.EFF_Num)throw new Error;if(this.EFFNum=t.EFF_Num,void 0===t.EFF_Des)throw new Error;if(this.EFFDes=t.EFF_Des,void 0===t.EFF_Des2)throw new Error;if(this.EFFDes2=t.EFF_Des2,void 0===t.NeedGirlNum)throw new Error;if(this.NeedGirlNum=t.NeedGirlNum,void 0===t.Unlock_Des)throw new Error;this.UnlockDes=t.Unlock_Des}resolve(t){}}t("BuildSkill",f);class u{constructor(t){for(var e of(this._dataMap=new Map,this._dataList=[],t)){let t;t=new _(e),this._dataList.push(t),this._dataMap.set(t.id,t)}}getDataMap(){return this._dataMap}getDataList(){return this._dataList}get(t){return this._dataMap.get(t)}resolve(t){for(var e of this._dataList)e.resolve(t)}}t("TbItem",u);class _{constructor(t){if(void 0===t.id)throw new Error;if(this.id=t.id,void 0===t.name)throw new Error;if(this.name=t.name,void 0===t.desc)throw new Error;if(this.desc=t.desc,void 0===t.num)throw new Error;if(this.num=t.num,void 0===t.price)throw new Error;this.price=t.price}resolve(t){}}t("Item",_);class v{constructor(t){for(var e of(this._dataMap=new Map,this._dataList=[],t)){let t;t=new E(e),this._dataList.push(t),this._dataMap.set(t.id,t)}}getDataMap(){return this._dataMap}getDataList(){return this._dataList}get(t){return this._dataMap.get(t)}resolve(t){for(var e of this._dataList)e.resolve(t)}}t("TbSheet1",v);class E{constructor(t){if(void 0===t.id)throw new Error;if(this.id=t.id,void 0===t.name)throw new Error;if(this.name=t.name,void 0===t.desc)throw new Error;if(this.desc=t.desc,void 0===t.num)throw new Error;if(this.num=t.num,void 0===t.price)throw new Error;if(this.price=t.price,void 0===t.price1)throw new Error;this.price1=t.price1}resolve(t){}}t("Sheet1",E);t("Tables",class{static get TableNames(){return["tbglobalvar","tbguide","tblocalization","tbbuildskill","tbitem","tbsheet1"]}get TbGlobalVar(){return this._TbGlobalVar}get TbGuide(){return this._TbGuide}get TbLocalization(){return this._TbLocalization}get TbBuildSkill(){return this._TbBuildSkill}get TbItem(){return this._TbItem}get TbSheet1(){return this._TbSheet1}constructor(t){let e=new Map;this._TbGlobalVar=new a(t("tbglobalvar")),e.set("TbGlobalVar",this._TbGlobalVar),this._TbGuide=new h(t("tbguide")),e.set("TbGuide",this._TbGuide),this._TbLocalization=new d(t("tblocalization")),e.set("TbLocalization",this._TbLocalization),this._TbBuildSkill=new c(t("tbbuildskill")),e.set("TbBuildSkill",this._TbBuildSkill),this._TbItem=new u(t("tbitem")),e.set("TbItem",this._TbItem),this._TbSheet1=new v(t("tbsheet1")),e.set("TbSheet1",this._TbSheet1),this._TbGlobalVar.resolve(e),this._TbGuide.resolve(e),this._TbLocalization.resolve(e),this._TbBuildSkill.resolve(e),this._TbItem.resolve(e),this._TbSheet1.resolve(e)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIA.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./UIBase.ts","./UIConstant.ts"],(function(t){var s,e,r,o,i,n,a,c;return{setters:[function(t){s=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,o=t.Label,i=t._decorator},function(t){n=t.App},function(t){a=t.UIBase},function(t){c=t.UIConstant}],execute:function(){var l,u,p,I,U;r._RF.push({},"4958cqrII9PlLJFHUrJtcC1","UIA",void 0);const{ccclass:h,property:A}=i;t("UIA",(l=h("UIA"),u=A(o),l((U=s((I=class extends a{constructor(...t){super(...t),e(this,"label",U,this)}onShow(){this.label.string=`由${this.args}打开`}onClick(){this.safeClose()}showUI(t,s){"A"==s?n.ui.show(c.UIA,{args:"A"}):"B"==s?n.ui.show(c.UIB,{args:"A"}):"C"==s&&n.ui.show(c.UIC,{args:"A"})}}).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=I))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIAudioMgr.ts",["cc","./App.ts","./UIBase.ts"],(function(e){var s,o,t,a;return{setters:[function(e){s=e.cclegacy,o=e._decorator},function(e){t=e.App},function(e){a=e.UIBase}],execute:function(){var c;s._RF.push({},"e5547iLAqpJi6cHdoNUtaqP","UIAudioMgr",void 0);const{ccclass:i,property:u}=o;e("UIAudioMgr",i("UIAudioMgr")(c=class extends a{constructor(...e){super(...e),this.effect1Clip=null}onClickButton(e){switch(e){case"playMusic1":t.audio.playMusic("audio/test/bgm1");break;case"playMusic2":t.audio.playMusic("audio/test/bgm2",1,1);break;case"stopMusic1":t.audio.stopMusic("audio/test/bgm1");break;case"stopMusic2":t.audio.stopMusic("audio/test/bgm2",1);break;case"stopMusic3":t.audio.stopMusic();break;case"play_pause_music":this.playOrPauseMusic();break;case"playEffect1":t.audio.playEffect("audio/test/click",1,{loop:!1,deRef:!1,onStart:e=>{console.log("onStart playEffect1",e)},onFinished:()=>{console.log("onFinished playEffect1")}});break;case"playEffect2":t.audio.playEffect("audio/test/bomb",1);break;case"stopEffect":t.audio.stopAllEffect();break;case"playEffect1Loop":t.audio.playEffect("audio/test/click",1,{loop:!0,onStart:e=>{console.log("onStart playEffect1Loop",e),this.effect1Clip=e},onFinished:()=>{console.log("onFinished playEffect1Loop")}});break;case"stopPlayEffect1":this.effect1Clip&&t.audio.stopEffect(this.effect1Clip)}}playOrPauseMusic(){t.audio.pause?t.audio.pauseMusic(!0):t.audio.pauseMusic(!1)}})||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/UIB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./UIBase.ts","./UIConstant.ts"],(function(e){var t,s,r,n,o,i,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Label,o=e._decorator},function(e){i=e.App},function(e){a=e.UIBase},function(e){c=e.UIConstant}],execute:function(){var l,u,p,B,I;r._RF.push({},"e4c3fsimpZPNonrDex5/Qeu","UIB",void 0);const{ccclass:U,property:h}=o;e("UIB",(l=U("UIB"),u=h(n),l((I=t((B=class extends a{constructor(...e){super(...e),s(this,"label",I,this)}onShow(){this.label.string=`由${this.args}打开`}showUI(e,t){"A"==t?i.ui.show(c.UIA,{args:"B"}):"B"==t?i.ui.show(c.UIB,{args:"B"}):"C"==t&&i.ui.show(c.UIC,{args:"B"})}}).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=B))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./App.ts","./AssetHandler.ts","./CCUtil.ts","./MEvent.ts","./MLogger.ts","./GenProperty.ts"],(function(i){var e,t,n,o,s,a,l,r,h,u,d,p,c,m,f,y,g,I,b,E,N,C,B;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty},function(i){n=i.cclegacy,o=i.Enum,s=i.UIOpacity,a=i.Button,l=i._decorator,r=i.BlockInputEvents,h=i.Animation,u=i.Node,d=i.Layers,p=i.UITransform,c=i.view,m=i.Sprite,f=i.Color,y=i.tween},function(i){g=i.EventKey},function(i){I=i.App},function(i){b=i.AssetHandler},function(i){E=i.CCUtils},function(i){N=i.MEvent},function(i){C=i.MLogger},function(i){B=i.GenProperty}],execute:function(){var w,S,U,v,H,A,k,O,_,z,P,D,L,T,V,F,M,x;n._RF.push({},"ffe4cNHjYpCt5Dn5aixcIhQ","UIBase",void 0);const{property:G,ccclass:j,requireComponent:K}=l,R=o({NONE:0,OPEN:1,CLOSE:2,BOTH:3});i("EPassiveType",function(i){return i[i.ShowBegin=0]="ShowBegin",i[i.Show=1]="Show",i[i.HideBegin=2]="HideBegin",i[i.Hide=3]="Hide",i}({})),i("UIBase",(w=j("UIBase"),S=K(s),U=G({displayName:"销毁",tooltip:"UI关闭时销毁"}),v=G({displayName:"遮罩",tooltip:"是否在UI下层显示半透明遮罩"}),H=G({displayName:"全屏",tooltip:"有时需要根据是弹窗还是全屏UI来判断是否显示或隐藏下层UI"}),A=G({displayName:"自动隐藏",tooltip:"被全屏UI覆盖时,是否隐藏界面,降低DC"}),k=G({displayName:"阻塞输入事件",tooltip:"是否阻塞所有的输入事件向下层传递"}),O=G({type:R,displayName:"动画",tooltip:"是否启用UI打开和关闭动画"}),_=G({type:a,displayName:"关闭按钮",tooltip:"自动为按钮绑定UI关闭事件"}),w(z=S((D=e((P=class extends B{constructor(...i){super(...i),t(this,"destroyNode",D,this),t(this,"showShade",L,this),t(this,"fullScreen",T,this),t(this,"autoHide",V,this),t(this,"blockInputEvent",F,this),t(this,"action",M,this),t(this,"closeBtn",x,this),this.uiName=null,this._isAnimEnd=!0,this.onAnimEnd=new N,this.args=null}get isAnimEnd(){return this._isAnimEnd}onLoad(){this.assetHandler=new b(this.node)}init(i){this.uiName||(this.uiName=i,this.showShade&&this.initShade(),this.autoHide&&this.enableAutoHide(),this.blockInputEvent&&this.addComponent(r),this.closeBtn&&this.closeBtn.node.on("click",this.safeClose,this),this.animation=this.getComponent(h)||E.getComponentInChildren(this.node,h),this.getComponentsInChildren(a).forEach((i=>i.node.on("click",this.onClickButton.bind(this,i.node.name)))))}initShade(){if("shade"==this.node.children[0].name)this.shadeNode=this.node.children[0];else{let i=new u("shade");i.parent=this.node,i.setSiblingIndex(0);let e=new u("img");e.layer=d.Enum.UI_2D,e.parent=i,e.addComponent(p).setContentSize(c.getVisibleSize()),e.addComponent(s).opacity=150;let t=e.addComponent(m);t.spriteFrame=I.ui.defaultSprite,t.color=f.BLACK}}setArgs(i){this.args=i}setVisible(i){this.visible=i,i?(this.getComponent(s).opacity=255,this.node.active=!0):this.getComponent(s).opacity=0}enableAutoHide(){I.event.on(g.OnUIShow,(i=>{null!=this&&this.isValid?i!=this&&i.fullScreen&&I.ui.isUIBeCover(this)&&I.ui.isUIInStack(this)&&this.setVisible(!1):I.event.offByTag(g.OnUIHideBegin,this.uiName)}),null,this.uiName),I.event.on(g.OnUIHideBegin,(i=>{null!=this&&this.isValid?!I.ui.isUIBeCover(this)&&I.ui.isUIInStack(this)&&this.setVisible(!0):I.event.offByTag(g.OnUIHideBegin,this.uiName)}),null,this.uiName)}playShowAnim(){return this._isAnimEnd=!1,new Promise(((i,e)=>{let t=()=>{this._isAnimEnd=!0,this.onAnimEnd.dispatch(),i()};if(Boolean(this.action&R.OPEN))if(this.animation){let i=this.animation.clips[0];if(I.ui.blockTime=i.duration+.1,i){if(this.animation.stop(),this.animation.once(h.EventType.FINISHED,t),this.animation.play(i.name),this.shadeNode){let e=this.shadeNode.getComponent(s);e.opacity=0,y(e).to(i.duration,{opacity:255}).start()}}else C.warn(this.node.name,"无UI打开动画文件"),t()}else t();else t()}))}playHideAnim(){return this._isAnimEnd=!1,new Promise(((i,e)=>{let t=()=>{this._isAnimEnd=!0,this.onAnimEnd.dispatch(),i(!0)};if(Boolean(this.action&R.CLOSE))if(this.animation){let i=this.animation.clips[1];if(i){if(this.animation.stop(),this.animation.once(h.EventType.FINISHED,t),this.animation.play(i.name),this.shadeNode){let e=this.shadeNode.getComponent(s);y(e).to(i.duration,{opacity:0}).start()}}else C.warn(this.node.name,"无UI关闭动画文件"),t()}else t();else t()}))}safeClose(){I.ui.hide(this.uiName)}onClickButton(i){}onShowBegin(){}onHideBegin(){}onShow(){}onHide(){}onPassive(i,e){}}).prototype,"destroyNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=e(P.prototype,"showShade",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=e(P.prototype,"fullScreen",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=e(P.prototype,"autoHide",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=e(P.prototype,"blockInputEvent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=e(P.prototype,"action",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.NONE}}),x=e(P.prototype,"closeBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=P))||z)||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./ButtonHelper.ts","./UIBase.ts"],(function(t){var e,o,n,r,s,i,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,s=t._decorator},function(t){i=t.App},function(t){c=t.ButtonHelper},function(t){u=t.UIBase}],execute:function(){var a,l,p,d,f;n._RF.push({},"8cd8anycMxL8rnisR8Oavst","UIButtonHelper",void 0);const{ccclass:B,property:y}=s;t("UIButtonHelper",(a=B("UIButtonHelper"),l=y(r),a((f=e((d=class extends u{constructor(...t){super(...t),o(this,"tip",f,this)}onLoad(){c.defaultAuidoLocation="audio/test/click"}start(){}onLongPress11(){i.ui.showToast("点击")}onLongPress12(){i.ui.showToast("长按")}}).prototype,"tip",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./UIBase.ts","./UIConstant.ts"],(function(t){var e,s,r,n,o,i,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Label,o=t._decorator},function(t){i=t.App},function(t){a=t.UIBase},function(t){c=t.UIConstant}],execute:function(){var l,u,p,C,I;r._RF.push({},"eb59e0O7ftCL7pgSlTgsWqG","UIC",void 0);const{ccclass:U,property:g}=o;t("UIC",(l=U("UIC"),u=g(n),l((I=e((C=class extends a{constructor(...t){super(...t),s(this,"label",I,this)}onShow(){this.label.string=`由${this.args}打开`}showUI(t,e){"A"==e?i.ui.show(c.UIA,{args:"C"}):"B"==e?i.ui.show(c.UIB,{args:"C"}):"C"==e&&i.ui.show(c.UIC,{args:"C"})}}).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=C))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIConstant.ts",["cc"],(function(e){var U;return{setters:[function(e){U=e.cclegacy}],execute:function(){U._RF.push({},"02a08qKaKRLwICDQN09Q6eT","UIConstant",void 0);e("UIConstant",{UIGuide:"uiPrefab/base/UIGuide",UIHUD:"uiPrefab/base/UIHUD",UITipMsg:"uiPrefab/base/UITipMsg",UIA:"uiPrefab/UIA",UIAudioMgr:"uiPrefab/UIAudioMgr",UIB:"uiPrefab/UIB",UIButtonHelper:"uiPrefab/UIButtonHelper",UIC:"uiPrefab/UIC",UIGuideTest1:"uiPrefab/UIGuideTest1",UIGuideTest2:"uiPrefab/UIGuideTest2",UIPopUp:"uiPrefab/UIPopUp",UITestLocalization:"uiPrefab/UITestLocalization",UIUIMgr:"uiPrefab/UIUIMgr"});U._RF.pop()}}}));

System.register("chunks:///_virtual/UIGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./MLogger.ts","./GameEnum.ts","./UIConstant.ts","./GuideMask.ts"],(function(e){var i,t,n,s,r,o,h,d,u,a,g,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.Node,r=e._decorator,o=e.Component},function(e){h=e.App},function(e){d=e.MLogger,u=e.ELoggerLevel},function(e){a=e.EventKey},function(e){g=e.UIConstant},function(e){l=e.GuideMask}],execute:function(){var c,_,p,w,I,b,f,S,v,m,x,T,y,G,k,U;n._RF.push({},"ff51akr6iFDJKBorwFbuPmS","UIGuide",void 0);const{ccclass:O,property:D}=r;e("UIGuide",(c=D(l),_=D(s),p=D(s),w=D(s),I=D(s),b=D(s),f=D(s),O((m=i((v=class e extends o{constructor(...e){super(...e),this._logger=new d("Guide Log",u.Warn),t(this,"mask",m,this),t(this,"ring",x,this),t(this,"finger",T,this),t(this,"tip",y,this),t(this,"hollowTarget",G,this),t(this,"btnScreen",k,this),t(this,"prefabParent",U,this),this._guideId=0,this._guideData=[],this._skipGuide=!1}get isGuide(){return this._guideId>0}get nowGuide(){return this._guideId}onLoad(){e.Inst=this}hide(e=!1){this.setShadeOpacity(0,e?0:.15,(()=>{this.mask.node.active=!1})),this.ring.active=!1,this.finger.active=!1,this.tip.active=!1,this.btnScreen.active=!1}guideOver(){h.event.emit(a.OnGuideEnd,this._guideId),this._guideId=0,this._onEnded&&this._onEnded(),this._onEnded=null,this._stepFuncs=null,this.hide()}checkOver(){this._logger.debug("---------结束引导步骤",this._guideId,this._nowIndex),this._logger.debug();let e=this._guideData[this._nowIndex];h.chan.reportEvent("guide_step",{k:e.ID}),this._nowIndex==this._guideData.length-1?(this._logger.debug("结束引导"+this._guideId),this.guideOver()):(this.mask.reset(),this._nowIndex++,this.showGuideStep())}startGuide(e,i){this._skipGuide||(0==this._guideId?(this._guideId=e,this._nowIndex=0):this._logger.trace("正在进引导: "+this._guideId+" 想要开始引导: "+e))}startGuideStep(e,i,t,n,s=.25){if(this._guideId!=e)return void this._logger.error("引导id不一致",this._guideId,e);if(this._nowIndex!=i)return void this._logger.error("引导step不一致",this._nowIndex,i);let r=this._guideData[this._nowIndex];if(this._logger.debug(`手动开始引导 GuideId=${e} StepIndex=${i}`),r.ClickScreen)this.showBtnScreen(),this.showTipAVG();else if(r.Prefab)this.showPrefab();else{if(0==r.NodeSize.x||0==r.NodeSize.y)return this._logger.error("挖孔必须在表中指定NodeSize"),void this.guideOver();if(!t||!n)return console.error("挖孔需要传入 挖孔位置和事件节点"),void this.guideOver();this.showHollowByTarget(this.hollowTarget,n,s),this.showTipAVG()}}endGuideStep(e,i){this._guideId==e?this._nowIndex==i?this.checkOver():this._logger.error("引导step不一致",this._nowIndex,i):this._logger.error("引导id不一致",this._guideId,e)}async showGuideStep(){if(this._guideData.length<=this._nowIndex)return void this._logger.error(`引导${this._guideId} 第${this._nowIndex}步 数据错误`);this._logger.debug(),this._logger.debug("---------开始引导步骤",this._guideId,this._nowIndex),h.ui.blockTime=99999,this.mask.node.active=!0,this.mask.reset(),this.ring.active=!1,this.finger.active=!1,this.btnScreen.active=!1;let e=this._guideData[this._nowIndex];if(this.setShadeOpacity(e.Opacity||185),e.TipText||(this.tip.active=!1),this._onStep&&this._onStep(this._nowIndex),e.UIName.trim()){await this.waitUIShow();e.ClickScreen?(this.showBtnScreen(),this.showTipAVG()):e.Prefab&&this.showPrefab()}else this.waitManualStartStep()}async waitUIShow(){let e=this._guideData[this._nowIndex],i=g[e.UIName];return this._logger.debug(`guideId=${this._guideId} assignUIName=${i}`),new Promise(((t,n)=>{this.scheduleOnce((()=>{this._logger.debug(`IsTopUI=${h.ui.isTopUI(i)}`);let e=()=>{this._logger.debug(`${i} 已被打开`),this._logger.debug(`isAnimEnd=${h.ui.getUI(i).isAnimEnd}`);let e=h.ui.getUI(i);h.ui.getUI(i).isAnimEnd&&t(e)};if(h.ui.isTopUI(i))e();else{this._logger.debug(`${i} 等待被打开`);let t=n=>{h.ui.isTopUI(i)&&(h.event.off(a.OnUIShow,t),h.event.off(a.OnUIHide,t),e())};h.event.on(a.OnUIShow,t),h.event.on(a.OnUIHide,t)}}),Math.max(.05,e.DelayCheckUI))}))}async waitManualStartStep(){this._logger.debug("等待手动开始引导步骤"),this._onManualStep&&this._onManualStep(this._nowIndex),h.event.emit(a.ManualGuideStep,this._guideId,this._nowIndex)}async showBtnScreen(){this._logger.debug("点击屏幕即可"),this.btnScreen.active=!0,this.btnScreen.once("click",this.checkOver.bind(this)),h.ui.blockTime=-1}async showPrefab(){}async findTargetNode(e){}showHollowByTarget(e,i,t=.25){}showTipAVG(){let e=this._guideData[this._nowIndex];this.showTipHead(e.TipHead),this.showTipText(e.TipText,e.TipPos)}screenPos2LocalPos(e){}showCustomHollow(e,i,t,n=.25){}setShadeOpacity(e,i=.15,t){}showRing(e,i,t){}showFinger(e,i,t){}showTipText(e,i){}showTipHead(e){}}).prototype,"mask",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(v.prototype,"ring",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(v.prototype,"finger",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(v.prototype,"tip",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(v.prototype,"hollowTarget",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(v.prototype,"btnScreen",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(v.prototype,"prefabParent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIGuideTest1.ts",["cc","./App.ts","./UIBase.ts","./UIConstant.ts"],(function(t){var e,s,u,n,o;return{setters:[function(t){e=t.cclegacy,s=t._decorator},function(t){u=t.App},function(t){n=t.UIBase},function(t){o=t.UIConstant}],execute:function(){var c;e._RF.push({},"30ad0J1IjFFuo0zHb71aRPo","UIGuideTest1",void 0);const{ccclass:i,property:a}=s;t("UIGuideTest1",i("UIGuideTest1")(c=class extends n{onShow(){this.scheduleOnce((()=>{u.ui.guide.startGuide(1,(()=>{u.ui.showToast("引导结束")}))}))}openUIGuideTest2(){u.ui.show(o.UIGuideTest2)}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIGuideTest2.ts",["cc","./UIBase.ts"],(function(e){var t,s,c;return{setters:[function(e){t=e.cclegacy,s=e._decorator},function(e){c=e.UIBase}],execute:function(){var r;t._RF.push({},"a82d05lqdVEfoq4BIyTfr/7","UIGuideTest2",void 0);const{ccclass:u,property:n}=s;e("UIGuideTest2",u("UIGuideTest2")(r=class extends c{})||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIHUD.ts",["cc","./App.ts","./UIBase.ts","./UIConstant.ts","./UIHUDProperty.ts","./GameData.ts"],(function(t){var e,o,s,n,a,r,c,i;return{setters:[function(t){e=t.cclegacy,o=t.tween,s=t._decorator},function(t){n=t.App},function(t){a=t.UIBase},function(t){r=t.UIConstant},function(t){c=t.UIHUDProperty},function(t){i=t.GameData}],execute:function(){var u;e._RF.push({},"b525c2+jw5DKpLBEfRizGoJ","UIHUD",void 0);const{ccclass:U,property:p}=s;t("UIHUD",U("UIHUD")(u=class extends a{onLoad(){super.onLoad(),this.property=new c(this.node);let t={a:1};o(t).to(3,{a:100},{onComplete(e){console.log(t.a)}}).start(),console.log(i.Inst.getSerializeStr())}onClickButton(t){switch(t){case"AudioMgr":n.ui.show(r.UIAudioMgr);break;case"UIMgr":n.ui.show(r.UIUIMgr);break;case"Guide":n.ui.show(r.UIGuideTest1);break;case"ButtonHelper":n.ui.show(r.UIButtonHelper)}}})||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIHUDProperty.ts",["cc","./PropertyBase.ts"],(function(t){var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.PropertyBase}],execute:function(){e._RF.push({},"6c36foMtmpOO70bYfgkskkL","UIHUDProperty",void 0);t("UIHUDProperty",class extends r{}),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIItem.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5cfe47FFJpA5LZLv7G7KmCS","UIItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./UIBase.ts","./EventMgr.ts","./L10nMgr.ts","./MLogger.ts","./Utils.ts","./AssetMgr.ts"],(function(i){var t,e,n,s,o,l,r,h,a,u,c,g,d,S,m,p,I,f,k,U;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){n=i.cclegacy,s=i.Node,o=i._decorator,l=i.Component,r=i.UITransform,h=i.view,a=i.SpriteFrame,u=i.v3,c=i.Prefab,g=i.instantiate},function(i){d=i.EventKey},function(i){S=i.EPassiveType,m=i.UIBase},function(i){p=i.EventMgr},function(i){I=i.L10nMgr},function(i){f=i.MLogger},function(i){k=i.Utils},function(i){U=i.AssetMgr}],execute:function(){var b,w,y,v,T,H,M,A,O,B;n._RF.push({},"da844n3L2JFgaSdYUZGrHhx","UIMgr",void 0);const{ccclass:D,property:x}=o;i("UIMgr",(b=x(s),w=x(s),y=x(s),v=x(s),D((M=t((H=class i extends l{constructor(...i){super(...i),e(this,"normal",M,this),e(this,"higher",A,this),e(this,"resident",O,this),e(this,"blockInput",B,this),this.defaultSprite=null,this.uiDict=new Map,this.uiStack=[],this.subUIStack=[],this._blockTime=0,this.openUITime=new Map,this.uiArgs=new Map}get topUI(){return this.uiStack[this.uiStack.length-1]}set blockTime(i){i>this._blockTime&&(this._blockTime=i),i<=0&&(this._blockTime=.1)}onLoad(){i.Inst=this,this.normal.getComponent(r).setContentSize(h.getVisibleSize()),this.higher.getComponent(r).setContentSize(h.getVisibleSize()),this.resident.getComponent(r).setContentSize(h.getVisibleSize()),U.loadAsset("DefaultSprite/spriteFrame",a).then((i=>{this.defaultSprite=i}))}async init(){}async show(i,t={}){let{args:e,blockTime:n,parent:s,playAnim:o,visible:l}=t;n=void 0===n?.2:n,o=void 0===o||l,l=void 0===l||l,this.checkShowUI(i),this.blockTime=n,p.emit(d.OnUIInitBegin,i),this.uiArgs[i]=e;let r=await this.initUI(i,s||this.normal,l);if(s?(k.delItemFromArray(this.subUIStack,r),l&&this.subUIStack.push(r)):(k.delItemFromArray(this.uiStack,r),l&&this.uiStack.push(r)),r.setArgs(e),l){let i=this.uiStack[this.uiStack.length-2];r.onShowBegin(),null==i||i.onPassive(S.HideBegin,r),p.emit(d.OnUIShowBegin,r),o&&await r.playShowAnim(),r.onShow(),null==i||i.onPassive(S.Hide,r),p.emit(d.OnUIShow,r)}else r.onShowBegin(),r.onShow();return r}async hide(i,t=.2,e=!1){this.blockTime=t;let n=this.uiDict.get(i);if(null==n||!n.isValid)return;let s=()=>{n.destroyNode?(n.node.destroy(),this.uiDict.delete(i),U.DecRef(i)):n.node.active=!1},o=this.uiStack.indexOf(n);if(o>-1)if(k.delItemFromArray(this.uiStack,n),o==this.uiStack.length){let i=this.uiStack[this.uiStack.length-1];n.onHideBegin(),null==i||i.onPassive(S.ShowBegin,n),p.emit(d.OnUIHideBegin,n),e||await n.playHideAnim(),n.onHide(),s(),null==i||i.onPassive(S.Show,n),p.emit(d.OnUIHide,n)}else p.emit(d.OnUIHideBegin,n),n.onHide(),s(),p.emit(d.OnUIHide,n);else if(o=this.subUIStack.indexOf(n),o>-1)if(k.delItemFromArray(this.subUIStack,n),o==this.subUIStack.length){let i=this.subUIStack[this.subUIStack.length-1];n.onHideBegin(),null==i||i.onPassive(S.ShowBegin,n),p.emit(d.OnUIHideBegin,n),e||await n.playHideAnim(),n.onHide(),s(),null==i||i.onPassive(S.Show,n),p.emit(d.OnUIHide,n)}else p.emit(d.OnUIHideBegin,n),n.onHide(),s(),p.emit(d.OnUIHide,n);else;}async showHigher(i,t){this.blockTime=.2;let e=await this.initUI(i,this.higher);return e.setArgs(t),e.node.setSiblingIndex(999999),p.emit(d.OnUIShow,e),e}hideHigher(i){let t=this.uiDict.get(i);null!=t&&t.isValid&&(t.destroy?(t.node.destroy(),this.uiDict.delete(i)):t.node.active=!1,p.emit(d.OnUIHide,t))}showResident(i){this.instNode(i,this.resident)}hideAll(...i){this.uiStack.filter((t=>-1==i.indexOf(t.uiName))).forEach((i=>{this.hide(i.uiName,.2,!0)}))}async initUI(i,t,e=!0){var n;let s=this.uiDict.get(i);if(null==(n=s)||!n.isValid){s=(await this.instNode(i,t)).getComponent(m),s.init(i),this.uiDict.set(i,s)}return s.node.active=!0,s.setVisible(e),e?(s.node.setSiblingIndex(999999),s.node.position=u(0,0,0)):(s.node.setSiblingIndex(0),s.node.position=u(-10086,0,0)),s}async instNode(i,t){let e=await U.loadAsset(i,c);var n=g(e);return n.getComponent(r).setContentSize(h.getVisibleSize()),n.parent=t,n}getUIArgs(i){return this.uiArgs.get(i)}isTopUI(i){if(0==this.uiStack.length&&0==this.subUIStack.length)return!1;let t=this.uiDict.get(i);return!(null==t||!t.isValid)&&(this.uiStack[this.uiStack.length-1]==t||this.subUIStack[this.subUIStack.length-1]==t)}getUI(i){let t=this.uiDict.get(i);return null!=t&&t.isValid?t:null}getUIIndex(i){let t=this.uiDict.get(i);if(null==t||!t.isValid)return-1;if(t.node.parent!=this.normal)return-1;let e=this.uiStack.indexOf(t);return e>-1?this.uiStack.length-1-e:-1}isUIInStack(i){return this.uiStack.indexOf(i)>-1}isUIBeCover(i){if(null!=i&&i.isValid){let t=this.uiStack.indexOf(i);if(t>-1)for(let i=t+1;i<this.uiStack.length;i++){if(this.uiStack[i].fullScreen)return!0}}else for(const i of this.uiStack)if(i.fullScreen)return!0;return!1}checkShowUI(i){let t=Date.now();if(this.openUITime.has(i)){t-this.openUITime[i]<100&&(f.warn(`短时间内连续打开UI[${i}] 请检查是否有逻辑问题`),this.openUITime.delete(i)),this.openUITime[i]=t}else this.openUITime.set(i,t)}update(i){this._blockTime>0&&(this._blockTime-=i),this.blockInput.active=this._blockTime>0}showTip(i){this.tipMsg&&this.tipMsg.showTip(i)}showToast(i,t=!1,...e){t&&(i=I.getStringByKey(i,e)),this.tipMsg&&this.tipMsg.showToast(i)}showConfirm(i,t=2,e,n){this.tipMsg&&this.tipMsg.showConfirm(i,t,e,n)}}).prototype,"normal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(H.prototype,"higher",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(H.prototype,"resident",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(H.prototype,"blockInput",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=H))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopUp.ts",["cc","./UIBase.ts"],(function(c){var s,t,e;return{setters:[function(c){s=c.cclegacy,t=c._decorator},function(c){e=c.UIBase}],execute:function(){var o;s._RF.push({},"5b86ayixAxOp6csYj+v6ZD0","UIPopUp",void 0);const{ccclass:p,property:n}=t;c("UIPopUp",p("UIPopUp")(o=class extends e{})||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/UITestLocalization.ts",["cc","./UIBase.ts"],(function(t){var c,e,s;return{setters:[function(t){c=t.cclegacy,e=t._decorator},function(t){s=t.UIBase}],execute:function(){var o;c._RF.push({},"2fe93DAjEND/6kNPPFkZXnw","UITestLocalization",void 0);const{ccclass:a,property:n}=e;t("UITestLocalization",a("UITestLocalization")(o=class extends s{})||o);c._RF.pop()}}}));

System.register("chunks:///_virtual/UITipMsg.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,s,p,l,r,h,a,c,u,C,g,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node,s=t.Label,p=t.Button,l=t._decorator,r=t.Component,h=t.UIOpacity,a=t.UITransform,c=t.NodePool,u=t.instantiate,C=t.Tween,g=t.tween,b=t.v3}],execute:function(){var m,f,y,d,T,v,G,M,w,I,B,_,x,U,z,P,O;o._RF.push({},"41974dkW2BO66BWU+LeNthP","UITipMsg",void 0);const{ccclass:k,property:L}=l;t("UITipMsg",(m=k("UITipMsg"),f=L(n),y=L(s),d=L(n),T=L(n),v=L(s),G=L(p),M=L(p),m((B=i((I=class extends r{constructor(...t){super(...t),e(this,"singleTip",B,this),e(this,"singleTipContent",_,this),e(this,"tipGroup",x,this),e(this,"tipBox",U,this),e(this,"tipBoxContent",z,this),e(this,"btnConfirm",P,this),e(this,"btnCancel",O,this),this.cbConfirm=void 0,this.cbCancel=void 0}onLoad(){this.singleTip.active=!0,this.singleTip.getComponent(h).opacity=0,this.tipGroupTransform=this.tipGroup.getComponent(a),this.tipGroup.active=!0,this.tipItem=this.tipGroup.children[0],this.tipPool=new c;for(let t=0,i=10;t<i;t++){let t=u(this.tipItem);t.Miles_Content=t.getComponentInChildren(s),t.Miles_UIOpacity=t.getComponent(h),this.tipPool.put(t)}this.tipGroup.removeAllChildren(),this.tipBox.active=!1}showTip(t){let i=this.singleTip.getComponent(h);this.singleTipContent.string=t,C.stopAllByTarget(i),i.opacity=255,g(i).delay(1.2).to(.2,{opacity:0}).start()}showToast(t){let i=this.tipPool.get();i||(i=u(this.tipItem),i.Miles_Content=i.getComponentInChildren(s),i.Miles_UIOpacity=i.getComponent(h)),i.Miles_Content.string=t,i.Miles_UIOpacity.opacity=255,i.Miles_Move=!0,i.position=b(0,0),i.parent=this.tipGroup;let e=this.tipGroup.children.length;if(e>1&&this.tipGroup.children[e-2].position.y<45){let t=45-this.tipGroup.children[e-2].position.y;for(let i=e-2;i>=0;i--){let e=this.tipGroup.children[i].position.y+t;this.tipGroup.children[i].position=b(0,e<=this.tipGroupTransform.height?e:this.tipGroupTransform.height)}}}update(t){for(let i=0,e=this.tipGroup.children.length;i<e;i++){let e=this.tipGroup.children[i];e.Miles_Move&&(e.position=b(0,e.position.y+200*t),e.position.y>=this.tipGroupTransform.height&&(e.Miles_Move=!1,g(e.Miles_UIOpacity).to(.2,{opacity:0}).call((()=>{this.tipPool.put(e)})).start()))}}showConfirm(t,i=2,e,o){this.tipBox.active=!0,this.tipBoxContent.string=t,this.btnConfirm.node.once("click",this.Confirm,this),this.btnCancel.node.once("click",this.Cancel,this),this.btnCancel.node.active=2==i,this.cbConfirm=e,this.cbCancel=o}Confirm(){this.cbConfirm&&this.cbConfirm(),this.tipBox.active=!1,this.showToast("Confirm")}Cancel(){this.cbCancel&&this.cbCancel(),this.tipBox.active=!1,this.showToast("Cancel")}}).prototype,"singleTip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(I.prototype,"singleTipContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(I.prototype,"tipGroup",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(I.prototype,"tipBox",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(I.prototype,"tipBoxContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(I.prototype,"btnConfirm",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(I.prototype,"btnCancel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=I))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/UITTT.ts",["cc","./UIBase.ts","./UIHUDProperty.ts"],(function(t){var e,s,o,r;return{setters:[function(t){e=t.cclegacy,s=t._decorator},function(t){o=t.UIBase},function(t){r=t.UIHUDProperty}],execute:function(){var c;e._RF.push({},"44329d8DblPVZtWX3TsY4CV","UITTT",void 0);const{ccclass:n,property:T}=s;t("UITTT",n("UITTT")(c=class extends o{onLoad(){super.onLoad(),this.propertys=new r(this.node)}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIUIMgr.ts",["cc","./App.ts","./UIBase.ts","./UIConstant.ts"],(function(t){var s,o,n,i,r,u,e,p;return{setters:[function(t){s=t.cclegacy,o=t.UITransform,n=t.Sprite,i=t.Button,r=t._decorator},function(t){u=t.App},function(t){e=t.UIBase},function(t){p=t.UIConstant}],execute:function(){var a;s._RF.push({},"89c87xU2dZFZadakQSnjKen","UIUIMgr",void 0);const{ccclass:U,property:c}=r;t("UIUIMgr",U("UIUIMgr")(a=class extends e{get assuttonTf(){return this.getAutoBindComp("bp_assutton",o)}get assuttonSp(){return this.getAutoBindComp("bp_assutton",n)}get assuttonBtn(){return this.getAutoBindComp("bp_assutton",i)}showSingleTip(){u.ui.showTip("SingleTip"),console.log(this.assuttonBtn.name)}showTips(){u.ui.showToast("Tips")}showTipBox(){u.ui.showConfirm("I'm a TipBox")}onClickShowPopUp(){u.ui.show(p.UIPopUp)}showUI(t,s){"A"==s?u.ui.show(p.UIA,{args:"UIMgr"}):"B"==s?u.ui.show(p.UIB,{args:"UIMgr"}):"C"==s&&u.ui.show(p.UIC,{args:"UIMgr"})}})||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/UnforcedGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./GameEnum.ts","./CCUtil.ts"],(function(e){var i,t,n,s,o,a,h,d,r,u,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.Node,o=e._decorator,a=e.Component,h=e.misc,d=e.v3},function(e){r=e.App},function(e){u=e.EventKey},function(e){c=e.CCUtils}],execute:function(){var g,p,l,f,I;n._RF.push({},"ad63asjyIVIRqm7SIaqdLJt","UnforcedGuide",void 0);const{ccclass:U,property:w}=o;e("default",(g=U("UnforcedGuide"),p=w(s),g((I=i((f=class e extends a{constructor(...e){super(...e),t(this,"finger",I,this),this._guideMap=new Map}onLoad(){e.Inst=this,this.hide(),r.event.on(u.OnUIHideBegin,this.onUIHideBegin,this),r.event.on(u.OnUIHide,this.onUIHide,this),r.event.on(u.OnUIShowBegin,this.onUIShowBegin,this),r.event.on(u.OnUIShow,this.onUIShow,this)}showFinger(e,i){let t=c.getNodeAtPath(e.node,this._guideMap.get(e.uiName).NodePath);var n=c.nodePosToNodeAxisPos(t.parent,this.node,t.position);let s=h.clampf(i.FingerDir,1,4);switch(this.finger.active=!0,this.finger.position=n.add(d(i.FingerOffset)),s){case 1:this.finger.angle=0;break;case 2:this.finger.angle=180;break;case 3:this.finger.angle=90;break;case 4:this.finger.angle=-90}}hide(){this.finger.active=!1}onUIHideBegin(e){this._nowGuideId&&this._guideMap.has(e.uiName)&&this.hide()}onUIHide(e){this._nowGuideId}onUIShowBegin(e){this._nowGuideId&&this.hide()}onUIShow(e){this._nowGuideId&&r.ui.isTopUI(e.uiName)&&this._guideMap.has(e.uiName)&&this.showFinger(e,this._guideMap.get(e.uiName))}startGuide(e){}endGuide(){this._nowGuideId=0,this.hide()}}).prototype,"finger",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=f))||l));n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc","./MLogger.ts"],(function(t){var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.MLogger}],execute:function(){e._RF.push({},"b91acHDNQJNeKe/WkGfs/Ip","Utils",void 0);t("Utils",class{static getDate(t){let e=t=>t<10?"0"+t:t.toString(),r=t>=0?new Date(t):new Date,a=r.getFullYear()+e(r.getMonth()+1)+e(r.getDate());return parseInt(a)}static deltaDay(t,e){let r=new Date;r.setFullYear(Math.floor(t/1e4),Math.floor(t%1e4/100)-1,t%100),r.setHours(0,0,0,0);let a=new Date;a.setFullYear(Math.floor(e/1e4),Math.floor(e%1e4/100)-1,e%100),a.setHours(0,0,0,0);let o=Math.abs(r.getTime()-a.getTime())/864e5;return Math.floor(o)}static formatCountdown(t,e){let r=t=>t<10?"0"+t:t.toString();t=Math.floor(t/1e3);let a=Math.floor(t/3600),o=Math.floor((t-3600*a)/60),n=t-3600*a-60*o;return e=(e=(e=e.replace("hh",r(a))).replace("mm",r(o))).replace("ss",r(n))}static formatTime(t,e){null==e&&(e=new Date);let r=t=>t<10?"0"+t:t.toString(),a=e.getFullYear(),o=e.getMonth()+1,n=e.getDate(),l=e.getHours(),s=e.getMinutes(),i=e.getSeconds();return t=(t=(t=(t=(t=(t=t.replace("YYYY",a.toString())).replace("MM",r(o))).replace("DD",r(n))).replace("hh",r(l))).replace("mm",r(s))).replace("ss",r(i))}static formatNum(t,e,r=!1){let a=t>=0?"":"-",o="",n="";return(t=Math.abs(t))>=0&&t<Math.pow(10,3)?o=this.fixFloat(t,e,r):t>=Math.pow(10,3)&&t<Math.pow(10,6)?(o=this.fixFloat(t/Math.pow(10,3),e,r),n="K"):t>=Math.pow(10,6)&&t<Math.pow(10,9)?(o=this.fixFloat(t/Math.pow(10,6),e,r),n="M"):t>=Math.pow(10,9)&&t<Math.pow(10,12)?(o=this.fixFloat(t/Math.pow(10,9),e,r),n="B"):(o=this.fixFloat(t/Math.pow(10,12),e,r),n="T"),a+o+n}static splitString(t,e=","){let r=[],a=t.trim().split(e);for(const t of a){let e=parseFloat(t);isNaN(e)||r.push(e)}return r}static splitStrings(t,e=";",r=","){let a=[],o=t.trim().split(e);for(const t of o)t.trim()&&a.push(this.splitString(t));return a}static randomNum(t,e,r=!0){let a=e-t,o=Math.random()*a+t;return r&&(o=Math.round(o)),o}static fixFloat(t,e,r=!1){e<0&&(e=0);let a=t.toFixed(e);if(r)return a;for(;a.length>1&&a.includes(".")&&(a.endsWith("0")||a.endsWith("."));)a=a.substring(0,a.length-1);return a}static randomValue(t){let e=this.randomValueByWeight(t,1,(t=>1));return e.length>0?e[0]:null}static randomValueByWeight(t,e=1,a,o=!1){let n=[];if(!t||0==t.length)return n;t.length<e&&r.warn("需要返回的item数量大于集合长度"),a||(a=t=>1);let l=Math.min(t.length,e),s=0;for(const e of t)s+=a(e);for(;n.length<l;){let e=Math.floor(Math.random()*s),r=0;for(const l of t){let t=a(l);if(e>=r&&e<r+t)if(o)n.push(l);else{if(-1!=n.indexOf(l))break;n.push(l)}r+=t}}return n}static formatString(t,...e){return e.forEach(((e,r)=>{t=t.replace(`{${r}}`,e)})),t}static trim(t,...e){if(!t)return t;if(0==e.length)return t.trim();for(const r of e){for(;t.startsWith(r);)t=t.substring(r.length);for(;t.endsWith(r);)t=t.substring(0,t.length-r.length)}return t}static upperFirst(t){return t?t.length<2?t.toUpperCase():t[0].toUpperCase()+t.substring(1):t}static lowerFirst(t){return t?t.length<2?t.toLowerCase():t[0].toLowerCase()+t.substring(1):t}static delItemFromArray(t,...e){t.length>0&&e.length>0&&e.forEach((e=>{let r=t.indexOf(e);r>-1&&t.splice(r,1)}))}static countValueTimes(t,e){let r=0;return t.forEach((t=>{e(t)&&r++})),r}static genUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}static iterator2Array(t){let e=[];for(let r=t.next();!r.done;r=t.next())e.push(r.value);return e}static disOriginArr(t){let e=t.length;for(;e;){let r=Math.floor(Math.random()*e--),a=t[r];t[e]=t[r],t[r]=a}return t}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/WeChatMiniGame.ts",["cc","./Channel.ts","./MLogger.ts"],(function(e){var s,t,a,i,r;return{setters:[function(e){s=e.cclegacy,t=e.game,a=e.Game},function(e){i=e.Channel},function(e){r=e.MLogger}],execute:function(){s._RF.push({},"544d038T4ZNDqEBGUNXMTdj","WeChatMiniGame",void 0);e("WeChatMiniGame",class extends i{constructor(){super(),this.systemInfo=null,this.launchInfo=null,this.shareTitle="默认分享标题",this.shareImageUrl="默认分享图片地址",this.shareTime=0,this.shareSuccess=null,this.shareFail=null,this.shareComplete=null,this.bannerCache={},this.interstitial=null,this.systemInfo=wx.getSystemInfoSync(),this.launchInfo=wx.getLaunchOptionsSync(),this.showShareMenu({}),this.checkUpdate(),t.on(a.EVENT_HIDE,this.shareResult,this)}login(e){wx.login({success:s=>{e.success&&e.success(s.code)},fail:()=>{r.error("wx.login fail"),e.fail&&e.fail()}})}authorize(e){}async shareAppMessage(e){}shareResult(){Date.now()-this.shareTime>3500?this.shareSuccess&&this.shareSuccess():this.shareFail&&this.shareFail(),this.shareComplete&&this.shareComplete(),this.shareTime=0,this.shareSuccess=null,this.shareFail=null,this.shareComplete=null}getImageUrlFromCanvasCenter(){}getImageUrlByCamera(e){}showShareMenu(e){e.title=(null==e?void 0:e.title)||this.shareTitle,e.imageUrl=(null==e?void 0:e.imageUrl)||this.shareImageUrl;wx.showShareMenu({}),wx.onShareAppMessage((()=>({title:e.title,imageUrl:e.imageUrl})))}showBanner(e){}hideAllBanner(){}showInterstitial(){}showRewardedVideo(e){}reqInternalPay(){}reportCustomEvent(){}compareVersion(e){let s=this.systemInfo.SDKVersion,t=/\d+.\d+.\d+/;if(!t.test(e)||!t.test(s))return r.warn("SDKVersion取值异常"),!1;let a=s.split("."),i=e.split(".");for(let e=0;e<3;e++){let s=parseInt(a[e]),t=parseInt(i[e]);if(s>t)return!0;if(s<t)return!1}return!0}checkUpdate(){let e=wx.getUpdateManager();e.onUpdateReady((()=>{wx.showModal({title:"更新提示",content:"新版本已准备好，是否重启应用？",success:s=>{s.confirm&&e.applyUpdate()}})}))}vibrate(e=!1){e&&wx.vibrateLong(),!e||wx.vibrateShort(null)}}),s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});